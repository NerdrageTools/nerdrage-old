{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{ed46:function(e,t,i){(function(e){!function(){var e=function(){return this}();e||\"undefined\"==typeof window||(e=window);var t=function(e,i,n){\"string\"===typeof e?(2==arguments.length&&(n=i),t.modules[e]||(t.payloads[e]=n,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error(\"dropping module because define wasn't a string.\"),console.trace())};t.modules={},t.payloads={};var i=function(e,t,i){if(\"string\"===typeof t){var s=o(e,t);if(void 0!=s)return i&&i(),s}else if(\"[object Array]\"===Object.prototype.toString.call(t)){for(var r=[],a=0,l=t.length;a<l;++a){var h=o(e,t[a]);if(void 0==h&&n.original)return;r.push(h)}return i&&i.apply(null,r)||!0}},n=function(e,t){var s=i(\"\",e,t);return void 0==s&&n.original?n.original.apply(this,arguments):s},s=function(e,t){if(-1!==t.indexOf(\"!\")){var i=t.split(\"!\");return s(e,i[0])+\"!\"+s(e,i[1])}if(\".\"==t.charAt(0))for(t=e.split(\"/\").slice(0,-1).join(\"/\")+\"/\"+t;-1!==t.indexOf(\".\")&&n!=t;){var n=t;t=t.replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}return t},o=function(e,n){n=s(e,n);var o=t.modules[n];if(!o){if(\"function\"===typeof(o=t.payloads[n])){var r={},a={id:n,uri:\"\",exports:r,packaged:!0};r=o((function(e,t){return i(n,e,t)}),r,a)||a.exports,t.modules[n]=r,delete t.payloads[n]}o=t.modules[n]=r||o}return o};!function(i){var s=e;i&&(e[i]||(e[i]={}),s=e[i]),s.define&&s.define.packaged||(t.original=s.define,s.define=t,s.define.packaged=!0),s.require&&s.require.packaged||(n.original=s.require,s.require=n,s.require.packaged=!0)}(\"ace\")}(),ace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\"],(function(e,t,i){\"use strict\";\"undefined\"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,\"remove\",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"],(function(e,t,i){\"use strict\";t.OS={LINUX:\"LINUX\",MAC:\"MAC\",WINDOWS:\"WINDOWS\"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var n=\"object\"==typeof navigator?navigator:{},s=(/mac|win|linux/i.exec(n.platform)||[\"other\"])[0].toLowerCase(),o=n.userAgent||\"\",r=n.appName||\"\";t.isWin=\"win\"==s,t.isMac=\"mac\"==s,t.isLinux=\"linux\"==s,t.isIE=\"Microsoft Internet Explorer\"==r||r.indexOf(\"MSAppHost\")>=0?parseFloat((o.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\\/\\d+/),t.isOpera=\"object\"==typeof opera&&\"[object Opera]\"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split(\"WebKit/\")[1])||void 0,t.isChrome=parseFloat(o.split(\" Chrome/\")[1])||void 0,t.isEdge=parseFloat(o.split(\" Edge/\")[1])||void 0,t.isAIR=o.indexOf(\"AdobeAIR\")>=0,t.isAndroid=o.indexOf(\"Android\")>=0,t.isChromeOS=o.indexOf(\" CrOS \")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"],(function(e,t,i){\"use strict\";var n=e(\"./useragent\");if(t.buildDom=function e(t,i,n){if(\"string\"==typeof t&&t){var s=document.createTextNode(t);return i&&i.appendChild(s),s}if(!Array.isArray(t))return t&&t.appendChild&&i&&i.appendChild(t),t;if(\"string\"!=typeof t[0]||!t[0]){for(var o=[],r=0;r<t.length;r++){var a=e(t[r],i,n);a&&o.push(a)}return o}var l=document.createElement(t[0]),h=t[1],c=1;h&&\"object\"==typeof h&&!Array.isArray(h)&&(c=2);for(r=c;r<t.length;r++)e(t[r],l,n);return 2==c&&Object.keys(h).forEach((function(e){var t=h[e];\"class\"===e?l.className=Array.isArray(t)?t.join(\" \"):t:\"function\"==typeof t||\"value\"==e||\"$\"==e[0]?l[e]=t:\"ref\"===e?n&&(n[t]=l):null!=t&&l.setAttribute(e,t)})),i&&i.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName(\"head\")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||\"http://www.w3.org/1999/xhtml\",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=\"\"},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+\"\").split(/\\s+/g).indexOf(t)},t.addCssClass=function(e,i){t.hasCssClass(e,i)||(e.className+=\" \"+i)},t.removeCssClass=function(e,t){for(var i=e.className.split(/\\s+/g);;){var n=i.indexOf(t);if(-1==n)break;i.splice(n,1)}e.className=i.join(\" \")},t.toggleCssClass=function(e,t){for(var i=e.className.split(/\\s+/g),n=!0;;){var s=i.indexOf(t);if(-1==s)break;n=!1,i.splice(s,1)}return n&&i.push(t),e.className=i.join(\" \"),n},t.setCssClass=function(e,i,n){n?t.addCssClass(e,i):t.removeCssClass(e,i)},t.hasCssString=function(e,t){var i,n=0;if(i=(t=t||document).querySelectorAll(\"style\"))for(;n<i.length;)if(i[n++].id===e)return!0},t.importCssString=function(e,i,n){var s=n;n&&n.getRootNode&&(s=n.getRootNode())&&s!=n||(s=document);var o=s.ownerDocument||s;if(i&&t.hasCssString(i,s))return null;i&&(e+=\"\\n/*# sourceURL=ace/css/\"+i+\" */\");var r=t.createElement(\"style\");r.appendChild(o.createTextNode(e)),i&&(r.id=i),s==o&&(s=t.getDocumentHead(o)),s.insertBefore(r,s.firstChild)},t.importCssStylsheet=function(e,i){t.buildDom([\"link\",{rel:\"stylesheet\",href:e}],t.getDocumentHead(i))},t.scrollbarWidth=function(e){var i=t.createElement(\"ace_inner\");i.style.width=\"100%\",i.style.minWidth=\"0px\",i.style.height=\"200px\",i.style.display=\"block\";var n=t.createElement(\"ace_outer\"),s=n.style;s.position=\"absolute\",s.left=\"-10000px\",s.overflow=\"hidden\",s.width=\"200px\",s.minWidth=\"0px\",s.height=\"150px\",s.display=\"block\",n.appendChild(i);var o=e.documentElement;o.appendChild(n);var r=i.offsetWidth;s.overflow=\"scroll\";var a=i.offsetWidth;return r==a&&(a=n.clientWidth),o.removeChild(n),r-a},\"undefined\"==typeof document&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,\"\")||{}},t.setStyle=function(e,t,i){e[t]!==i&&(e[t]=i)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!n.isWin||\"undefined\"!==typeof window&&window.devicePixelRatio>=1.5,\"undefined\"!==typeof document){var s=document.createElement(\"div\");t.HI_DPI&&void 0!==s.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),n.isEdge||\"undefined\"===typeof s.style.animationName||(t.HAS_CSS_ANIMATION=!0),s=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,i){e.style.transform=\"translate(\"+Math.round(t)+\"px, \"+Math.round(i)+\"px)\"}:t.translate=function(e,t,i){e.style.top=Math.round(i)+\"px\",e.style.left=Math.round(t)+\"px\"}})),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],(function(e,t,i){\"use strict\";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var i in t)e[i]=t[i];return e},t.implement=function(e,i){t.mixin(e,i)}})),ace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"],(function(e,t,i){\"use strict\";var n=e(\"./oop\"),s=function(){var e,t,i={MODIFIER_KEYS:{16:\"Shift\",17:\"Ctrl\",18:\"Alt\",224:\"Meta\",91:\"MetaLeft\",92:\"MetaRight\",93:\"ContextMenu\"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:\"Backspace\",9:\"Tab\",13:\"Return\",19:\"Pause\",27:\"Esc\",32:\"Space\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"Left\",38:\"Up\",39:\"Right\",40:\"Down\",44:\"Print\",45:\"Insert\",46:\"Delete\",96:\"Numpad0\",97:\"Numpad1\",98:\"Numpad2\",99:\"Numpad3\",100:\"Numpad4\",101:\"Numpad5\",102:\"Numpad6\",103:\"Numpad7\",104:\"Numpad8\",105:\"Numpad9\",\"-13\":\"NumpadEnter\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"Numlock\",145:\"Scrolllock\"},PRINTABLE_KEYS:{32:\" \",48:\"0\",49:\"1\",50:\"2\",51:\"3\",52:\"4\",53:\"5\",54:\"6\",55:\"7\",56:\"8\",57:\"9\",59:\";\",61:\"=\",65:\"a\",66:\"b\",67:\"c\",68:\"d\",69:\"e\",70:\"f\",71:\"g\",72:\"h\",73:\"i\",74:\"j\",75:\"k\",76:\"l\",77:\"m\",78:\"n\",79:\"o\",80:\"p\",81:\"q\",82:\"r\",83:\"s\",84:\"t\",85:\"u\",86:\"v\",87:\"w\",88:\"x\",89:\"y\",90:\"z\",107:\"+\",109:\"-\",110:\".\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\",111:\"/\",106:\"*\"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i.return,i.escape=i.esc,i.del=i.delete,i[173]=\"-\",function(){for(var e=[\"cmd\",\"ctrl\",\"alt\",\"shift\"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter((function(e){return t&i.KEY_MODS[e]})).join(\"-\")+\"-\"}(),i.KEY_MODS[0]=\"\",i.KEY_MODS[-1]=\"input-\",i}();n.mixin(t,s),t.keyCodeToString=function(e){var t=s[e];return\"string\"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"],(function(e,t,i){\"use strict\";var n,s=e(\"./keys\"),o=e(\"./useragent\"),r=null,a=0;function l(){return void 0==n&&function(){n=!1;try{document.createComment(\"\").addEventListener(\"test\",(function(){}),{get passive(){n={passive:!1}}})}catch(e){}}(),n}function h(e,t,i){this.elem=e,this.type=t,this.callback=i}h.prototype.destroy=function(){u(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var c=t.addListener=function(e,t,i,n){e.addEventListener(t,i,l()),n&&n.$toDestroy.push(new h(e,t,i))},u=t.removeListener=function(e,t,i){e.removeEventListener(t,i,l())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return\"dblclick\"==e.type?0:\"contextmenu\"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,i){var n=e&&e.ownerDocument||document;function s(e){t&&t(e),i&&i(e),u(n,\"mousemove\",t),u(n,\"mouseup\",s),u(n,\"dragstart\",s)}return c(n,\"mousemove\",t),c(n,\"mouseup\",s),c(n,\"dragstart\",s),s},t.addMouseWheelListener=function(e,t,i){\"onmousewheel\"in e?c(e,\"mousewheel\",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e)}),i):\"onwheel\"in e?c(e,\"wheel\",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}t(e)}),i):c(e,\"DOMMouseScroll\",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)}),i)},t.addMultiMouseDownListener=function(e,i,n,s,r){var a,l,h,u=0,d={2:\"dblclick\",3:\"tripleclick\",4:\"quadclick\"};function g(e){if(0!==t.getButton(e)?u=0:e.detail>1?++u>4&&(u=1):u=1,o.isIE){var r=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;h&&!r||(u=1),h&&clearTimeout(h),h=setTimeout((function(){h=null}),i[u-1]||600),1==u&&(a=e.clientX,l=e.clientY)}if(e._clicks=u,n[s](\"mousedown\",e),u>4)u=0;else if(u>1)return n[s](d[u],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){c(e,\"mousedown\",g,r)}))};var d=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function g(e,t,i){var n=d(t);if(!o.isMac&&r){if(t.getModifierState&&(t.getModifierState(\"OS\")||t.getModifierState(\"Win\"))&&(n|=8),r.altGr){if(3==(3&n))return;r.altGr=0}if(18===i||17===i){var l=\"location\"in t?t.location:t.keyLocation;if(17===i&&1===l)1==r[i]&&(a=t.timeStamp);else if(18===i&&3===n&&2===l){t.timeStamp-a<50&&(r.altGr=!0)}}}if((i in s.MODIFIER_KEYS&&(i=-1),!n&&13===i)&&(3===(l=\"location\"in t?t.location:t.keyLocation)&&(e(t,n,-i),t.defaultPrevented)))return;if(o.isChromeOS&&8&n){if(e(t,n,i),t.defaultPrevented)return;n&=-9}return!!(n||i in s.FUNCTION_KEYS||i in s.PRINTABLE_KEYS)&&e(t,n,i)}function f(){r=Object.create(null)}if(t.getModifierString=function(e){return s.KEY_MODS[d(e)]},t.addCommandKeyListener=function(e,i,n){if(o.isOldGecko||o.isOpera&&!(\"KeyboardEvent\"in window)){var s=null;c(e,\"keydown\",(function(e){s=e.keyCode}),n),c(e,\"keypress\",(function(e){return g(i,e,s)}),n)}else{var a=null;c(e,\"keydown\",(function(e){r[e.keyCode]=(r[e.keyCode]||0)+1;var t=g(i,e,e.keyCode);return a=e.defaultPrevented,t}),n),c(e,\"keypress\",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),n),c(e,\"keyup\",(function(e){r[e.keyCode]=null}),n),r||(f(),c(window,\"focus\",f))}},\"object\"==typeof window&&window.postMessage&&!o.isOldIE){var m=1;t.nextTick=function(e,i){i=i||window;var n=\"zero-timeout-message-\"+m++,s=function(o){o.data==n&&(t.stopPropagation(o),u(i,\"message\",s),e())};c(i,\"message\",s),i.postMessage(n,\"*\")}}t.$idleBlocked=!1,t.onIdle=function(e,i){return setTimeout((function i(){t.$idleBlocked?setTimeout(i,100):e()}),i)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame=\"object\"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],(function(e,t,i){\"use strict\";var n=function(e,t,i,n){this.start={row:e,column:t},this.end={row:i,column:n}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,i=e.end,n=e.start;return 1==(t=this.compare(i.row,i.column))?1==(t=this.compare(n.row,n.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(n.row,n.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){\"object\"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){\"object\"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var i={row:t+1,column:0};else if(this.end.row<e)i={row:e,column:0};if(this.start.row>t)var s={row:t+1,column:0};else if(this.start.row<e)s={row:e,column:0};return n.fromPoints(s||this.start,i||this.end)},this.extend=function(e,t){var i=this.compare(e,t);if(0==i)return this;if(-1==i)var s={row:e,column:t};else var o={row:e,column:t};return n.fromPoints(s||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return n.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new n(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new n(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new n(t.row,t.column,i.row,i.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(n.prototype),n.fromPoints=function(e,t){return new n(e.row,e.column,t.row,t.column)},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=n})),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],(function(e,t,i){\"use strict\";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split(\"\").reverse().join(\"\")},t.stringRepeat=function(e,t){for(var i=\"\";t>0;)1&t&&(i+=e),(t>>=1)&&(e+=e);return i};var n=/^\\s\\s*/,s=/\\s\\s*$/;t.stringTrimLeft=function(e){return e.replace(n,\"\")},t.stringTrimRight=function(e){return e.replace(s,\"\")},t.copyObject=function(e){var t={};for(var i in e)t[i]=e[i];return t},t.copyArray=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&\"object\"==typeof e[i]?t[i]=this.copyObject(e[i]):t[i]=e[i];return t},t.deepCopy=function e(t){if(\"object\"!==typeof t||!t)return t;var i;if(Array.isArray(t)){i=[];for(var n=0;n<t.length;n++)i[n]=e(t[n]);return i}if(\"[object Object]\"!==Object.prototype.toString.call(t))return t;for(var n in i={},t)i[n]=e(t[n]);return i},t.arrayToMap=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var i in e)t[i]=e[i];return t},t.arrayRemove=function(e,t){for(var i=0;i<=e.length;i++)t===e[i]&&e.splice(i,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},t.escapeHTML=function(e){return(\"\"+e).replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},t.getMatchOffsets=function(e,t){var i=[];return e.replace(t,(function(e){i.push({offset:arguments[arguments.length-2],length:e.length})})),i},t.deferredCall=function(e){var t=null,i=function(){t=null,e()},n=function(e){return n.cancel(),t=setTimeout(i,e||0),n};return n.schedule=n,n.call=function(){return this.cancel(),e(),n},n.cancel=function(){return clearTimeout(t),t=null,n},n.isPending=function(){return t},n},t.delayedCall=function(e,t){var i=null,n=function(){i=null,e()},s=function(e){null==i&&(i=setTimeout(n,e||t))};return s.delay=function(e){i&&clearTimeout(i),i=setTimeout(n,e||t)},s.schedule=s,s.call=function(){this.cancel(),e()},s.cancel=function(){i&&clearTimeout(i),i=null},s.isPending=function(){return i},s}})),ace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"],(function(e,t,i){\"use strict\";var n;i.exports={lineMode:!1,pasteCancelled:function(){return!!(n&&n>Date.now()-50)||(n=!1)},cancel:function(){n=Date.now()}}})),ace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/event\"),s=e(\"../lib/useragent\"),o=e(\"../lib/dom\"),r=e(\"../lib/lang\"),a=e(\"../clipboard\"),l=s.isChrome<18,h=s.isIE,c=s.isChrome>63,u=400,d=e(\"../lib/keys\"),g=d.KEY_MODS,f=s.isIOS,m=f?/\\s/:/\\n/,p=s.isMobile;t.TextInput=function(e,t){var i=o.createElement(\"textarea\");i.className=\"ace_text-input\",i.setAttribute(\"wrap\",\"off\"),i.setAttribute(\"autocorrect\",\"off\"),i.setAttribute(\"autocapitalize\",\"off\"),i.setAttribute(\"spellcheck\",!1),i.style.opacity=\"0\",e.insertBefore(i,e.firstChild);var v=!1,w=!1,$=!1,b=!1,y=\"\";p||(i.style.fontSize=\"1px\");var C=!1,S=!1,x=\"\",k=0,A=0,L=0;try{var R=document.activeElement===i}catch(G){}n.addListener(i,\"blur\",(function(e){S||(t.onBlur(e),R=!1)}),t),n.addListener(i,\"focus\",(function(e){if(!S){if(R=!0,s.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),s.isEdge?setTimeout(M):M()}}),t),this.$focusScroll=!1,this.focus=function(){if(y||c||\"browser\"==this.$focusScroll)return i.focus({preventScroll:!0});var e=i.style.top;i.style.position=\"fixed\",i.style.top=\"0px\";try{var t=0!=i.getBoundingClientRect().top}catch(G){return}var n=[];if(t)for(var s=i.parentElement;s&&1==s.nodeType;)n.push(s),s.setAttribute(\"ace_nocontext\",!0),s=!s.parentElement&&s.getRootNode?s.getRootNode().host:s.parentElement;i.focus({preventScroll:!0}),t&&n.forEach((function(e){e.removeAttribute(\"ace_nocontext\")})),setTimeout((function(){i.style.position=\"\",\"0px\"==i.style.top&&(i.style.top=e)}),0)},this.blur=function(){i.blur()},this.isFocused=function(){return R},t.on(\"beforeEndOperation\",(function(){var e=t.curOp,n=e&&e.command&&e.command.name;if(\"insertstring\"!=n){var s=n&&(e.docChanged||e.selectionChanged);$&&s&&(x=i.value=\"\",P()),M()}}));var M=f?function(e){if(R&&(!v||e)&&!b){e||(e=\"\");var n=\"\\n ab\"+e+\"cde fg\\n\";n!=i.value&&(i.value=x=n);var s=4+(e.length||(t.selection.isEmpty()?0:1));4==k&&A==s||i.setSelectionRange(4,s),k=4,A=s}}:function(){if(!$&&!b&&(R||T)){$=!0;var e=0,n=0,s=\"\";if(t.session){var o=t.selection,r=o.getRange(),a=o.cursor.row;if(e=r.start.column,n=r.end.column,s=t.session.getLine(a),r.start.row!=a){var l=t.session.getLine(a-1);e=r.start.row<a-1?0:e,n+=l.length+1,s=l+\"\\n\"+s}else if(r.end.row!=a){var h=t.session.getLine(a+1);n=r.end.row>a+1?h.length:n,n+=s.length+1,s=s+\"\\n\"+h}else p&&a>0&&(s=\"\\n\"+s,n+=1,e+=1);s.length>u&&(e<u&&n<u?s=s.slice(0,u):(s=\"\\n\",e==n?e=n=0:(e=0,n=1)))}var c=s+\"\\n\\n\";if(c!=x&&(i.value=x=c,k=A=c.length),T&&(k=i.selectionStart,A=i.selectionEnd),A!=n||k!=e||i.selectionEnd!=A)try{i.setSelectionRange(e,n),k=e,A=n}catch(G){}$=!1}};this.resetSelection=M,R&&t.onFocus();var E=null;this.setInputHandler=function(e){E=e},this.getInputHandler=function(){return E};var T=!1,_=function(e,n){if(T&&(T=!1),w)return M(),e&&t.onPaste(e),w=!1,\"\";for(var o=i.selectionStart,r=i.selectionEnd,a=k,l=x.length-A,h=e,c=e.length-o,u=e.length-r,d=0;a>0&&x[d]==e[d];)d++,a--;for(h=h.slice(d),d=1;l>0&&x.length-d>k-1&&x[x.length-d]==e[e.length-d];)d++,l--;c-=d-1,u-=d-1;var g=h.length-d+1;if(g<0&&(a=-g,g=0),h=h.slice(0,g),!n&&!h&&!c&&!a&&!l&&!u)return\"\";b=!0;var f=!1;return s.isAndroid&&\". \"==h&&(h=\"  \",f=!0),h&&!a&&!l&&!c&&!u||C?t.onTextInput(h):t.onTextInput(h,{extendLeft:a,extendRight:l,restoreStart:c,restoreEnd:u}),b=!1,x=e,k=o,A=r,L=u,f?\"\\n\":h},F=function(e){if($)return H();if(e&&e.inputType){if(\"historyUndo\"==e.inputType)return t.execCommand(\"undo\");if(\"historyRedo\"==e.inputType)return t.execCommand(\"redo\")}var n=i.value,s=_(n,!0);(n.length>500||m.test(s)||p&&k<1&&k==A)&&M()},O=function(e,t,i){var n=e.clipboardData||window.clipboardData;if(n&&!l){var s=h||i?\"Text\":\"text/plain\";try{return t?!1!==n.setData(s,t):n.getData(s)}catch(e){if(!i)return O(e,t,!0)}}},I=function(e,s){var o=t.getCopyText();if(!o)return n.preventDefault(e);O(e,o)?(f&&(M(o),v=o,setTimeout((function(){v=!1}),10)),s?t.onCut():t.onCopy(),n.preventDefault(e)):(v=!0,i.value=o,i.select(),setTimeout((function(){v=!1,M(),s?t.onCut():t.onCopy()})))},W=function(e){I(e,!0)},D=function(e){I(e,!1)},B=function(e){var o=O(e);a.pasteCancelled()||(\"string\"==typeof o?(o&&t.onPaste(o,e),s.isIE&&setTimeout(M),n.preventDefault(e)):(i.value=\"\",w=!0))};n.addCommandKeyListener(i,t.onCommandKey.bind(t),t),n.addListener(i,\"select\",(function(e){$||(v?v=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd>=x.length&&e.value===x&&x&&e.selectionEnd!==A}(i)?p&&i.selectionStart!=k&&M():(t.selectAll(),M()))}),t),n.addListener(i,\"input\",F,t),n.addListener(i,\"cut\",W,t),n.addListener(i,\"copy\",D,t),n.addListener(i,\"paste\",B,t),\"oncut\"in i&&\"oncopy\"in i&&\"onpaste\"in i||n.addListener(e,\"keydown\",(function(e){if((!s.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:D(e);break;case 86:B(e);break;case 88:W(e)}}),t);var H=function(){if($&&t.onCompositionUpdate&&!t.$readOnly){if(C)return N();if($.useTextareaForIME)t.onCompositionUpdate(i.value);else{var e=i.value;_(e),$.markerRange&&($.context&&($.markerRange.start.column=$.selectionStart=$.context.compositionStartOffset),$.markerRange.end.column=$.markerRange.start.column+A-$.selectionStart+L)}}},P=function(e){t.onCompositionEnd&&!t.$readOnly&&($=!1,t.onCompositionEnd(),t.off(\"mousedown\",N),e&&F())};function N(){S=!0,i.blur(),i.focus(),S=!1}var z,V=r.delayedCall(H,50).schedule.bind(null,null);function U(){clearTimeout(z),z=setTimeout((function(){y&&(i.style.cssText=y,y=\"\"),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}n.addListener(i,\"compositionstart\",(function(e){if(!$&&t.onCompositionStart&&!t.$readOnly&&($={},!C)){e.data&&($.useTextareaForIME=!1),setTimeout(H,0),t._signal(\"compositionStart\"),t.on(\"mousedown\",N);var n=t.getSelectionRange();n.end.row=n.start.row,n.end.column=n.start.column,$.markerRange=n,$.selectionStart=k,t.onCompositionStart($),$.useTextareaForIME?(x=i.value=\"\",k=0,A=0):(i.msGetInputContext&&($.context=i.msGetInputContext()),i.getInputContext&&($.context=i.getInputContext()))}}),t),n.addListener(i,\"compositionupdate\",H,t),n.addListener(i,\"keyup\",(function(e){27==e.keyCode&&i.value.length<i.selectionStart&&($||(x=i.value),k=A=-1,M()),V()}),t),n.addListener(i,\"keydown\",V,t),n.addListener(i,\"compositionend\",P,t),this.getElement=function(){return i},this.setCommandMode=function(e){C=e,i.readOnly=!1},this.setReadOnly=function(e){C||(i.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){T=!0,M(),t._emit(\"nativecontextmenu\",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,r){y||(y=i.style.cssText),i.style.cssText=(r?\"z-index:100000;\":\"\")+(s.isIE?\"opacity:0.1;\":\"\")+\"text-indent: -\"+(k+A)*t.renderer.characterWidth*.5+\"px;\";var a=t.container.getBoundingClientRect(),l=o.computedStyle(t.container),h=a.top+(parseInt(l.borderTopWidth)||0),c=a.left+(parseInt(a.borderLeftWidth)||0),u=a.bottom-h-i.clientHeight-2,d=function(e){o.translate(i,e.clientX-c-2,Math.min(e.clientY-h-2,u))};d(e),\"mousedown\"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(z),s.isWin&&n.capture(t.container,d,U))},this.onContextMenuClose=U;var K=function(e){t.textInput.onContextMenu(e),U()};n.addListener(i,\"mouseup\",K,t),n.addListener(i,\"mousedown\",(function(e){e.preventDefault(),U()}),t),n.addListener(t.renderer.scroller,\"contextmenu\",K,t),n.addListener(i,\"contextmenu\",K,t),f&&function(e,t,i){var n=null,s=!1;i.addEventListener(\"keydown\",(function(e){n&&clearTimeout(n),s=!0}),!0),i.addEventListener(\"keyup\",(function(e){n=setTimeout((function(){s=!1}),100)}),!0);var o=function(e){if(document.activeElement===i&&!(s||$||t.$mouseHandler.isMousePressed)&&!v){var n=i.selectionStart,o=i.selectionEnd,r=null,a=0;if(0==n?r=d.up:1==n?r=d.home:o>A&&\"\\n\"==x[o]?r=d.end:n<k&&\" \"==x[n-1]?(r=d.left,a=g.option):n<k||n==k&&A!=k&&n==o?r=d.left:o>A&&x.slice(0,o).split(\"\\n\").length>2?r=d.down:o>A&&\" \"==x[o-1]?(r=d.right,a=g.option):(o>A||o==A&&A!=k&&n==o)&&(r=d.right),n!==o&&(a|=g.shift),r){if(!t.onCommandKey({},a,r)&&t.commands){r=d.keyCodeToString(r);var l=t.commands.findKeyCommand(a,r);l&&t.execCommand(l)}k=n,A=o,M(\"\")}}};document.addEventListener(\"selectionchange\",o),t.on(\"destroy\",(function(){document.removeEventListener(\"selectionchange\",o)}))}(0,t,i)},t.$setUserAgentForTests=function(e,t){p=e,f=t}})),ace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/useragent\");function s(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler(\"mousedown\",this.onMouseDown.bind(e)),t.setDefaultHandler(\"dblclick\",this.onDoubleClick.bind(e)),t.setDefaultHandler(\"tripleclick\",this.onTripleClick.bind(e)),t.setDefaultHandler(\"quadclick\",this.onQuadClick.bind(e)),t.setDefaultHandler(\"mousewheel\",this.onMouseWheel.bind(e));[\"select\",\"startSelect\",\"selectEnd\",\"selectAllEnd\",\"selectByWordsEnd\",\"selectByLinesEnd\",\"dragWait\",\"dragWaitEnd\",\"focusWait\"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,\"getLineRange\"),e.selectByWords=this.extendSelectionBy.bind(e,\"getWordRange\")}function o(e,t){if(e.start.row==e.end.row)var i=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)i=2*t.row-e.start.row-e.end.row;else var i=t.column-4;return i<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),i=e.getDocumentPosition();this.mousedownEvent=e;var s=this.editor,o=e.getButton();return 0!==o?((s.getSelectionRange().isEmpty()||1==o)&&s.selection.moveToPosition(i),void(2==o&&(s.textInput.onContextMenu(e.domEvent),n.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||s.isFocused()||(s.focus(),!this.$focusTimeout||this.$clickSelection||s.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(i,e.domEvent._clicks>1),e.preventDefault()):(this.setState(\"focusWait\"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(e):t||i.selection.moveToPosition(e),t||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle(\"ace_selecting\"),this.setState(\"select\"))},this.select=function(){var e,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var n=this.$clickSelection.comparePoint(i);if(-1==n)e=this.$clickSelection.end;else if(1==n)e=this.$clickSelection.start;else{var s=o(this.$clickSelection,i);i=s.cursor,e=s.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(i),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y),s=i.selection[e](n.row,n.column);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(s.start),a=this.$clickSelection.comparePoint(s.end);if(-1==r&&a<=0)t=this.$clickSelection.end,s.end.row==n.row&&s.end.column==n.column||(n=s.start);else if(1==a&&r>=0)t=this.$clickSelection.start,s.start.row==n.row&&s.start.column==n.column||(n=s.end);else if(-1==r&&1==a)n=s.end,t=s.start;else{var l=o(this.$clickSelection,n);n=l.cursor,t=l.anchor}i.selection.setSelectionAnchor(t.row,t.column)}i.selection.selectToPosition(n),i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle(\"ace_selecting\"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,i,n,s=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,i=this.x,n=this.y,Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))),o=Date.now();(s>0||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),i=this.editor,n=i.session.getBracketRange(t);n?(n.isEmpty()&&(n.start.column--,n.end.column++),this.setState(\"select\")):(n=i.selection.getWordRange(t.row,t.column),this.setState(\"selectByWords\")),this.$clickSelection=n,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),i=this.editor;this.setState(\"selectByLines\");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState(\"selectAll\")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,n=e.domEvent.timeStamp,s=n-i.t,o=s?e.wheelX/s:i.vx,r=s?e.wheelY/s:i.vy;s<550&&(o=(o+i.vx)/2,r=(r+i.vy)/2);var a=Math.abs(o/r),l=!1;if(a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)i.allowed=n;else if(n-i.allowed<550){Math.abs(o)<=1.5*Math.abs(i.vx)&&Math.abs(r)<=1.5*Math.abs(i.vy)?(l=!0,i.allowed=n):i.allowed=0}return i.t=n,i.vx=o,i.vy=r,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(s.prototype),t.DefaultHandlers=s})),ace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"],(function(e,t,i){\"use strict\";e(\"./lib/oop\");var n=e(\"./lib/dom\");function s(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=n.createElement(\"div\"),this.$element.className=\"ace_tooltip\",this.$element.style.display=\"none\",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+\"px\",this.getElement().style.top=t+\"px\"},this.setClassName=function(e){n.addCssClass(this.getElement(),e)},this.show=function(e,t,i){null!=e&&this.setText(e),null!=t&&null!=i&&this.setPosition(t,i),this.isOpen||(this.getElement().style.display=\"block\",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display=\"none\",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(s.prototype),t.Tooltip=s})),ace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/dom\"),s=e(\"../lib/oop\"),o=e(\"../lib/event\"),r=e(\"../tooltip\").Tooltip;function a(e){r.call(this,e)}s.inherits(a,r),function(){this.setPosition=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,s=this.getWidth(),o=this.getHeight();(e+=15)+s>i&&(e-=e+s-i),(t+=15)+o>n&&(t-=20+o),r.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=function(e){var t,i,s,r=e.editor,l=r.renderer.$gutterLayer,h=new a(r.container);function c(){t&&(t=clearTimeout(t)),s&&(h.hide(),s=null,r._signal(\"hideGutterTooltip\",h),r.off(\"mousewheel\",c))}function u(e){h.setPosition(e.x,e.y)}e.editor.setDefaultHandler(\"guttermousedown\",(function(t){if(r.isFocused()&&0==t.getButton()&&\"foldWidgets\"!=l.getRegion(t)){var i=t.getDocumentPosition().row,n=r.session.selection;if(t.getShiftKey())n.selectTo(i,0);else{if(2==t.domEvent.detail)return r.selectAll(),t.preventDefault();e.$clickSelection=r.selection.getLineRange(i)}return e.setState(\"selectByLines\"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler(\"guttermousemove\",(function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(n.hasCssClass(a,\"ace_fold-widget\"))return c();s&&e.$tooltipFollowsMouse&&u(o),i=o,t||(t=setTimeout((function(){t=null,i&&!e.isMousePressed?function(){var t=i.getDocumentPosition().row,n=l.$annotations[t];if(!n)return c();if(t==r.session.getLength()){var o=r.renderer.pixelToScreenCoordinates(0,i.y).row,a=i.$pos;if(o>r.session.documentToScreenRow(a.row,a.column))return c()}if(s!=n)if(s=n.text.join(\"<br/>\"),h.setHtml(s),h.show(),r._signal(\"showGutterTooltip\",h),r.on(\"mousewheel\",c),e.$tooltipFollowsMouse)u(i);else{var d=i.domEvent.target.getBoundingClientRect(),g=h.getElement().style;g.left=d.right+\"px\",g.top=d.bottom+\"px\"}}():c()}),50))})),o.addListener(r.renderer.$gutter,\"mouseout\",(function(e){i=null,s&&!t&&(t=setTimeout((function(){t=null,c()}),50))}),r),r.on(\"changeSession\",c)}})),ace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/event\"),s=e(\"../lib/useragent\"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=s.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/dom\"),s=e(\"../lib/event\"),o=e(\"../lib/useragent\");function r(e){var t=e.editor,i=n.createElement(\"img\");i.src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\",o.isOpera&&(i.style.cssText=\"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\");[\"dragWait\",\"dragWaitEnd\",\"startDrag\",\"dragReadyEnd\",\"onMouseDrag\"].forEach((function(t){e[t]=this[t]}),this),t.on(\"mousedown\",this.onMouseDown.bind(e));var r,l,h,c,u,d,g,f,m,p,v,w=t.container,$=0;function b(){var e=d;(function(e,i){var n=Date.now(),s=!i||e.row!=i.row,o=!i||e.column!=i.column;!p||s||o?(t.moveCursorToPosition(e),p=n,v={x:l,y:h}):a(v.x,v.y,l,h)>5?p=null:n-p>=200&&(t.renderer.scrollCursorIntoView(),p=null)})(d=t.renderer.screenToTextCoordinates(l,h),e),function(e,i){var n=Date.now(),s=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,r=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-r.left,right:r.right-l},y:{top:h-r.top,bottom:r.bottom-h}},c=Math.min(a.x.left,a.x.right),u=Math.min(a.y.top,a.y.bottom),d={row:e.row,column:e.column};c/o<=2&&(d.column+=a.x.left<a.x.right?-3:2),u/s<=1&&(d.row+=a.y.top<a.y.bottom?-1:1);var g=e.row!=d.row,f=e.column!=d.column,p=!i||e.row!=i.row;g||f&&!p?m?n-m>=200&&t.renderer.scrollCursorIntoView(d):m=n:m=null}(d,e)}function y(){u=t.selection.toOrientedRange(),r=t.session.addMarker(u,\"ace_selection\",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(c),b(),c=setInterval(b,20),$=0,s.addListener(document,\"mousemove\",x)}function C(){clearInterval(c),t.session.removeMarker(r),r=null,t.selection.fromOrientedRange(u),t.isFocused()&&!f&&t.$resetCursorStyle(),u=null,d=null,$=0,m=null,p=null,s.removeListener(document,\"mousemove\",x)}this.onDragStart=function(e){if(this.cancelDrag||!w.draggable){var n=this;return setTimeout((function(){n.startSelect(),n.captureMouse(e)}),0),e.preventDefault()}u=t.getSelectionRange();var s=e.dataTransfer;s.effectAllowed=t.getReadOnly()?\"copy\":\"copyMove\",o.isOpera&&(t.container.appendChild(i),i.scrollTop=0),s.setDragImage&&s.setDragImage(i,0,0),o.isOpera&&t.container.removeChild(i),s.clearData(),s.setData(\"Text\",t.session.getTextRange()),f=!0,this.setState(\"drag\")},this.onDragEnd=function(e){if(w.draggable=!1,f=!1,this.setState(null),!t.getReadOnly()){var i=e.dataTransfer.dropEffect;g||\"move\"!=i||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle(\"ace_dragging\"),this.editor.renderer.setCursorStyle(\"\")},this.onDragEnter=function(e){if(!t.getReadOnly()&&k(e.dataTransfer))return l=e.clientX,h=e.clientY,r||y(),$++,e.dataTransfer.dropEffect=g=A(e),s.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&k(e.dataTransfer))return l=e.clientX,h=e.clientY,r||(y(),$++),null!==S&&(S=null),e.dataTransfer.dropEffect=g=A(e),s.preventDefault(e)},this.onDragLeave=function(e){if(--$<=0&&r)return C(),g=null,s.preventDefault(e)},this.onDrop=function(e){if(d){var i=e.dataTransfer;if(f)switch(g){case\"move\":u=u.contains(d.row,d.column)?{start:d,end:d}:t.moveText(u,d);break;case\"copy\":u=t.moveText(u,d,!0)}else{var n=i.getData(\"Text\");u={start:d,end:t.session.insert(d,n)},t.focus(),g=null}return C(),s.preventDefault(e)}},s.addListener(w,\"dragstart\",this.onDragStart.bind(e),t),s.addListener(w,\"dragend\",this.onDragEnd.bind(e),t),s.addListener(w,\"dragenter\",this.onDragEnter.bind(e),t),s.addListener(w,\"dragover\",this.onDragOver.bind(e),t),s.addListener(w,\"dragleave\",this.onDragLeave.bind(e),t),s.addListener(w,\"drop\",this.onDrop.bind(e),t);var S=null;function x(){null==S&&(S=setTimeout((function(){null!=S&&r&&C()}),20))}function k(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return\"text/plain\"==e||\"Text\"==e}))}function A(e){var t=[\"copy\",\"copymove\",\"all\",\"uninitialized\"],i=o.isMac?e.altKey:e.ctrlKey,n=\"uninitialized\";try{n=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var s=\"none\";return i&&t.indexOf(n)>=0?s=\"copy\":[\"move\",\"copymove\",\"linkmove\",\"all\",\"uninitialized\"].indexOf(n)>=0?s=\"move\":t.indexOf(n)>=0&&(s=\"copy\"),s}}function a(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle(\"ace_dragging\"),this.editor.renderer.setCursorStyle(\"\"),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle(\"ace_dragging\");var t=o.isWin?\"default\":\"move\";e.renderer.setCursorStyle(t),this.setState(\"dragReady\")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&\"dragReady\"==this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());\"dragWait\"===this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,i=e.inSelection(),n=e.getButton();if(1===(e.domEvent.detail||1)&&0===n&&i){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var s=e.domEvent.target||e.domEvent.srcElement;if(\"unselectable\"in s&&(s.unselectable=\"on\"),t.getDragDelay()){if(o.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState(\"dragWait\")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(r.prototype),t.DragdropHandler=r})),ace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"],(function(e,t,i){\"use strict\";var n=e(\"./mouse_event\").MouseEvent,s=e(\"../lib/event\"),o=e(\"../lib/dom\");t.addTouchListeners=function(e,t){var i,r,a,l,h,c,u,d,g,f=\"scroll\",m=0,p=0,v=0,w=0;function $(){var e=window.navigator&&window.navigator.clipboard,i=!1,n=function(n){var s=n.target.getAttribute(\"action\");if(\"more\"==s||!i)return i=!i,function(){var n=t.getCopyText(),s=t.session.getUndoManager().hasUndo();g.replaceChild(o.buildDom(i?[\"span\",!n&&[\"span\",{class:\"ace_mobile-button\",action:\"selectall\"},\"Select All\"],n&&[\"span\",{class:\"ace_mobile-button\",action:\"copy\"},\"Copy\"],n&&[\"span\",{class:\"ace_mobile-button\",action:\"cut\"},\"Cut\"],e&&[\"span\",{class:\"ace_mobile-button\",action:\"paste\"},\"Paste\"],s&&[\"span\",{class:\"ace_mobile-button\",action:\"undo\"},\"Undo\"],[\"span\",{class:\"ace_mobile-button\",action:\"find\"},\"Find\"],[\"span\",{class:\"ace_mobile-button\",action:\"openCommandPallete\"},\"Pallete\"]]:[\"span\"]),g.firstChild)}();\"paste\"==s?e.readText().then((function(e){t.execCommand(s,e)})):s&&(\"cut\"!=s&&\"copy\"!=s||(e?e.writeText(t.getCopyText()):document.execCommand(\"copy\")),t.execCommand(s)),g.firstChild.style.display=\"none\",i=!1,\"openCommandPallete\"!=s&&t.focus()};g=o.buildDom([\"div\",{class:\"ace_mobile-menu\",ontouchstart:function(e){f=\"menu\",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),n(e)},onclick:n},[\"span\"],[\"span\",{class:\"ace_mobile-button\",action:\"more\"},\"...\"]],t.container)}function b(){g||$();var e=t.selection.cursor,i=t.renderer.textToScreenCoordinates(e.row,e.column),n=t.renderer.textToScreenCoordinates(0,0).pageX,s=t.renderer.scrollLeft,o=t.container.getBoundingClientRect();g.style.top=i.pageY-o.top-3+\"px\",i.pageX-o.left<o.width-70?(g.style.left=\"\",g.style.right=\"10px\"):(g.style.right=\"\",g.style.left=n+s-o.left+\"px\"),g.style.display=\"\",g.firstChild.style.display=\"none\",t.on(\"input\",y)}function y(e){g&&(g.style.display=\"none\"),t.off(\"input\",y)}function C(){h=null,clearTimeout(h);var e=t.selection.getRange(),i=e.contains(u.row,u.column);!e.isEmpty()&&i||(t.selection.moveToPosition(u),t.selection.selectWord()),f=\"wait\",b()}s.addListener(e,\"contextmenu\",(function(e){d&&t.textInput.getElement().focus()}),t),s.addListener(e,\"touchstart\",(function(e){var s=e.touches;if(h||s.length>1)return clearTimeout(h),h=null,a=-1,void(f=\"zoom\");d=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,c=t.renderer.layerConfig.lineHeight,g=e.timeStamp;l=g;var $=s[0],b=$.clientX,y=$.clientY;Math.abs(i-b)+Math.abs(r-y)>o&&(a=-1),i=e.clientX=b,r=e.clientY=y,v=w=0;var S=new n(e,t);if(u=S.getDocumentPosition(),g-a<500&&1==s.length&&!m)p++,e.preventDefault(),e.button=0,function(){h=null,clearTimeout(h),t.selection.moveToPosition(u);var e=p>=2?t.selection.getLineRange(u.row):t.session.getBracketRange(u);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),f=\"wait\"}();else{p=0;var x=t.selection.cursor,k=t.selection.isEmpty()?x:t.selection.anchor,A=t.renderer.$cursorLayer.getPixelPosition(x,!0),L=t.renderer.$cursorLayer.getPixelPosition(k,!0),R=t.renderer.scroller.getBoundingClientRect(),M=t.renderer.layerConfig.offset,E=t.renderer.scrollLeft,T=function(e,t){return(e/=c)*e+(t=t/o-.75)*t};if(e.clientX<R.left)return void(f=\"zoom\");var _=T(e.clientX-R.left-A.left+E,e.clientY-R.top-A.top+M),F=T(e.clientX-R.left-L.left+E,e.clientY-R.top-L.top+M);_<3.5&&F<3.5&&(f=_>F?\"cursor\":\"anchor\"),f=F<3.5?\"anchor\":_<3.5?\"cursor\":\"scroll\",h=setTimeout(C,450)}a=g}),t),s.addListener(e,\"touchend\",(function(e){d=t.$mouseHandler.isMousePressed=!1,c&&clearInterval(c),\"zoom\"==f?(f=\"\",m=0):h?(t.selection.moveToPosition(u),m=0,b()):\"scroll\"==f?(m+=60,c=setInterval((function(){m--<=0&&(clearInterval(c),c=null),Math.abs(v)<.01&&(v=0),Math.abs(w)<.01&&(w=0),m<20&&(v*=.9),m<20&&(w*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*w),e==t.session.getScrollTop()&&(m=0)}),10),y()):b(),clearTimeout(h),h=null}),t),s.addListener(e,\"touchmove\",(function(e){h&&(clearTimeout(h),h=null);var s=e.touches;if(!(s.length>1||\"zoom\"==f)){var o=s[0],a=i-o.clientX,c=r-o.clientY;if(\"wait\"==f){if(!(a*a+c*c>4))return e.preventDefault();f=\"cursor\"}i=o.clientX,r=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var u=e.timeStamp,d=u-l;if(l=u,\"scroll\"==f){var g=new n(e,t);g.speed=1,g.wheelX=a,g.wheelY=c,10*Math.abs(a)<Math.abs(c)&&(a=0),10*Math.abs(c)<Math.abs(a)&&(c=0),0!=d&&(v=a/d,w=c/d),t._emit(\"mousewheel\",g),g.propagationStopped||(v=w=0)}else{var m=new n(e,t).getDocumentPosition();\"cursor\"==f?t.selection.moveCursorToPosition(m):\"anchor\"==f&&t.selection.setSelectionAnchor(m.row,m.column),t.renderer.scrollCursorIntoView(m),e.preventDefault()}}}),t)}})),ace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],(function(e,t,i){\"use strict\";var n=e(\"./dom\");t.get=function(e,t){var i=new XMLHttpRequest;i.open(\"GET\",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)},t.loadScript=function(e,t){var i=n.getDocumentHead(),s=document.createElement(\"script\");s.src=e,i.appendChild(s),s.onload=s.onreadystatechange=function(e,i){!i&&s.readyState&&\"loaded\"!=s.readyState&&\"complete\"!=s.readyState||(s=s.onload=s.onreadystatechange=null,i||t())}},t.qualifyURL=function(e){var t=document.createElement(\"a\");return t.href=e,t.href}})),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],(function(e,t,i){\"use strict\";var n={},s=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],n=this._defaultHandlers[e];if(i.length||n){\"object\"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=s),t.preventDefault||(t.preventDefault=o),i=i.slice();for(var r=0;r<i.length&&(i[r](t,this),!t.propagationStopped);r++);return n&&!t.defaultPrevented?n(t,this):void 0}},n._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](t,this)}},n.once=function(e,t){var i=this;if(this.on(e,(function n(){i.off(e,n),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},n.setDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[e]){var n=i[e],s=i._disabled_[e];s||(i._disabled_[e]=s=[]),s.push(n);var o=s.indexOf(t);-1!=o&&s.splice(o,1)}i[e]=t},n.removeDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i){var n=i._disabled_[e];if(i[e]==t)n&&this.setDefaultHandler(e,n.pop());else if(n){var s=n.indexOf(t);-1!=s&&n.splice(s,1)}}},n.on=n.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];return n||(n=this._eventRegistry[e]=[]),-1==n.indexOf(t)&&n[i?\"unshift\":\"push\"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];if(i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}},n.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=n})),ace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],(function(e,t,i){var n=e(\"./oop\"),s=e(\"./event_emitter\").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var i=this.$options;e=Object.keys(i).filter((function(e){return!i[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this[\"$\"+e]!==t){var i=this.$options[e];if(!i)return r('misspelled option \"'+e+'\"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(e,t);i.handlesSet||(this[\"$\"+e]=t),i&&i.set&&i.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this[\"$\"+e]:r('misspelled option \"'+e+'\"')}};function r(e){\"undefined\"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var i=new Error(e);i.data=t,\"object\"==typeof console&&console.error&&console.error(i),setTimeout((function(){throw i}))}var l=function(){this.$defaultOptions={}};(function(){n.implement(this,s),this.defineOptions=function(e,t,i){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(i).forEach((function(t){var n=i[t];\"string\"==typeof n&&(n={forwardTo:n}),n.name||(n.name=t),e.$options[n.name]=n,\"initialValue\"in n&&(e[\"$\"+n.name]=n.initialValue)})),n.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var i=e.$options[t];\"value\"in i&&e.setOption(t,i.value)}))},this.setDefaultValue=function(e,t,i){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var n=this.$defaultOptions[e]||(this.$defaultOptions[e]={});n[t]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,t,i):n[t].value=i)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(i){this.setDefaultValue(e,i,t[i])}),this)},this.warn=r,this.reportError=a}).call(l.prototype),t.AppConfig=l})),ace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/app_config\"],(function(e,t,n){var s=e(\"./lib/lang\"),o=(e(\"./lib/oop\"),e(\"./lib/net\")),r=e(\"./lib/app_config\").AppConfig;n.exports=t=new r;var a=function(){return this||\"undefined\"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:\"\",suffix:\".js\",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};t.get=function(e){if(!l.hasOwnProperty(e))throw new Error(\"Unknown config key: \"+e);return l[e]},t.set=function(e,t){if(l.hasOwnProperty(e))l[e]=t;else if(0==this.setDefaultValue(\"\",e,t))throw new Error(\"Unknown config key: \"+e)},t.all=function(){return s.copyObject(l)},t.$modes={},t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var i=e.split(\"/\"),n=\"snippets\"==(t=t||i[i.length-2]||\"\")?\"/\":\"-\",s=i[i.length-1];if(\"worker\"==t&&\"-\"==n){var o=new RegExp(\"^\"+t+\"[\\\\-_]|[\\\\-_]\"+t+\"$\",\"g\");s=s.replace(o,\"\")}(!s||s==t)&&i.length>1&&(s=i[i.length-2]);var r=l[t+\"Path\"];return null==r?r=l.basePath:\"/\"==n&&(t=n=\"\"),r&&\"/\"!=r.slice(-1)&&(r+=\"/\"),r+t+n+s+this.get(\"suffix\")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(i,n){var s,r;Array.isArray(i)&&(r=i[0],i=i[1]);try{s=e(i)}catch(l){}if(s&&!t.$loading[i])return n&&n(s);if(t.$loading[i]||(t.$loading[i]=[]),t.$loading[i].push(n),!(t.$loading[i].length>1)){var a=function(){e([i],(function(e){t._emit(\"load.module\",{name:i,module:e});var n=t.$loading[i];t.$loading[i]=null,n.forEach((function(t){t&&t(e)}))}))};if(!t.get(\"packaged\"))return a();o.loadScript(t.moduleUrl(i,r),a),h()}};var h=function(){l.basePath||l.workerPath||l.modePath||l.themePath||Object.keys(l.$moduleUrls).length||(console.error(\"Unable to infer path to ace from script src,\",\"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\",\"or with webpack use ace/webpack-resolver\"),h=function(){})};function c(s){if(a&&a.document){l.packaged=s||e.packaged||n.packaged||a.define&&i(\"Z66Z\").packaged;for(var o,r={},h=\"\",c=document.currentScript||document._currentScript,u=(c&&c.ownerDocument||document).getElementsByTagName(\"script\"),d=0;d<u.length;d++){var g=u[d],f=g.src||g.getAttribute(\"src\");if(f){for(var m=g.attributes,p=0,v=m.length;p<v;p++){var w=m[p];0===w.name.indexOf(\"data-ace-\")&&(r[(o=w.name.replace(/^data-ace-/,\"\"),o.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=w.value)}var $=f.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);$&&(h=$[1])}}for(var b in h&&(r.base=r.base||h,r.packaged=!0),r.basePath=r.base,r.workerPath=r.workerPath||r.base,r.modePath=r.modePath||r.base,r.themePath=r.themePath||r.base,delete r.base,r)\"undefined\"!==typeof r[b]&&t.set(b,r[b])}}c(!0),t.init=c,t.version=\"1.4.12\"})),ace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/event\"),s=e(\"../lib/useragent\"),o=e(\"./default_handlers\").DefaultHandlers,r=e(\"./default_gutter_handler\").GutterHandler,a=e(\"./mouse_event\").MouseEvent,l=e(\"./dragdrop_handler\").DragdropHandler,h=e(\"./touch_handler\").addTouchListeners,c=e(\"../config\"),u=function(e){var t=this;this.editor=e,new o(this),new r(this),new l(this);var i=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();n.addListener(a,\"click\",this.onMouseEvent.bind(this,\"click\"),e),n.addListener(a,\"mousemove\",this.onMouseMove.bind(this,\"mousemove\"),e),n.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,\"onMouseEvent\",e),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,\"mousewheel\"),e),h(e.container,e);var c=e.renderer.$gutter;n.addListener(c,\"mousedown\",this.onMouseEvent.bind(this,\"guttermousedown\"),e),n.addListener(c,\"click\",this.onMouseEvent.bind(this,\"gutterclick\"),e),n.addListener(c,\"dblclick\",this.onMouseEvent.bind(this,\"gutterdblclick\"),e),n.addListener(c,\"mousemove\",this.onMouseEvent.bind(this,\"guttermousemove\"),e),n.addListener(a,\"mousedown\",i,e),n.addListener(c,\"mousedown\",i,e),s.isIE&&e.renderer.scrollBarV&&(n.addListener(e.renderer.scrollBarV.element,\"mousedown\",i,e),n.addListener(e.renderer.scrollBarH.element,\"mousedown\",i,e)),e.on(\"mousemove\",(function(i){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var n=e.renderer.screenToTextCoordinates(i.x,i.y),s=e.session.selection.getRange(),o=e.renderer;!s.isEmpty()&&s.insideStart(n.row,n.column)?o.setCursorStyle(\"default\"):o.setCursorStyle(\"\")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var i=new a(t,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var r=this,l=function(e){if(e){if(s.isWebKit&&!e.which&&r.releaseMouse)return r.releaseMouse();r.x=e.clientX,r.y=e.clientY,t&&t(e),r.mouseEvent=new a(e,r.editor),r.$mouseMoved=!0}},h=function(e){i.off(\"beforeEndOperation\",u),clearInterval(d),c(),r[r.state+\"End\"]&&r[r.state+\"End\"](e),r.state=\"\",r.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),r.$onCaptureMouseMove=r.releaseMouse=null,e&&r.onMouseEvent(\"mouseup\",e),i.endOperation()},c=function(){r[r.state]&&r[r.state](),r.$mouseMoved=!1};if(s.isOldIE&&\"dblclick\"==e.domEvent.type)return setTimeout((function(){h(e)}));var u=function(e){r.releaseMouse&&i.curOp.command.name&&i.curOp.selectionChanged&&(r[r.state+\"End\"]&&r[r.state+\"End\"](),r.state=\"\",r.releaseMouse())};i.on(\"beforeEndOperation\",u),i.startOperation({command:{name:\"mouse\"}}),r.$onCaptureMouseMove=l,r.releaseMouse=n.capture(this.editor.container,l,h);var d=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&\"contextmenu\"!=t.domEvent.type||(this.editor.off(\"nativecontextmenu\",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on(\"nativecontextmenu\",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(u.prototype),c.defineOptions(u.prototype,\"mouseHandler\",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:s.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u})),ace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/dom\");t.FoldHandler=function(e){e.on(\"click\",(function(t){var i=t.getDocumentPosition(),s=e.session,o=s.getFoldAt(i.row,i.column,1);o&&(t.getAccelKey()?s.removeFold(o):s.expandFold(o),t.stop());var r=t.domEvent&&t.domEvent.target;r&&n.hasCssClass(r,\"ace_inline_button\")&&n.hasCssClass(r,\"ace_toggle_wrap\")&&(s.setOption(\"wrap\",!s.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on(\"gutterclick\",(function(t){if(\"foldWidgets\"==e.renderer.$gutterLayer.getRegion(t)){var i=t.getDocumentPosition().row,n=e.session;n.foldWidgets&&n.foldWidgets[i]&&e.session.onFoldWidgetClick(i,t),e.isFocused()||e.focus(),t.stop()}})),e.on(\"gutterdblclick\",(function(t){if(\"foldWidgets\"==e.renderer.$gutterLayer.getRegion(t)){var i=t.getDocumentPosition().row,n=e.session,s=n.getParentFoldRangeData(i,!0),o=s.range||s.firstRange;if(o){i=o.start.row;var r=n.getFoldAt(i,n.getLine(i).length,1);r?n.removeFold(r):(n.addFold(\"...\",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/keys\"),s=e(\"../lib/event\"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){\"function\"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var i=this.$handlers.indexOf(e);-1!=i&&this.$handlers.splice(i,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==i&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(i){return i.getStatusText&&i.getStatusText(t,e)||\"\"})).filter(Boolean).join(\" \")},this.$callKeyboardHandlers=function(e,t,i,n){for(var o,r=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,i,n))&&o.command&&((r=\"null\"==o.command||a.exec(o.command,this.$editor,o.args,n))&&n&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&s.stopEvent(n),r)););return r||-1!=e||(o={command:\"insertstring\"},r=a.exec(\"insertstring\",this.$editor,t)),r&&this.$editor._signal&&this.$editor._signal(\"keyboardActivity\",o),r},this.onCommandKey=function(e,t,i){var s=n.keyCodeToString(i);return this.$callKeyboardHandlers(t,s,i,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"],(function(e,t,i){\"use strict\";var n=0,s=0,o=!1,r=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],c=11,u=18,d=[u,u,u,u,u,u,u,u,u,6,5,6,8,5,u,u,u,u,u,u,u,u,u,u,u,u,u,u,5,5,5,6,8,4,4,c,c,c,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,u,u,u,u,u,u,5,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,9,4,c,c,c,c,4,4,4,4,0,4,4,u,4,4,c,c,2,2,4,0,4,4,4,2,0,4,4,4,4,4],g=[8,8,8,8,8,8,8,8,8,8,8,u,u,u,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,c,c,c,c,c,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function f(e,t,i){if(!(s<e))if(1!=e||1!=n||r)for(var o,a,l,h,c=i.length,u=0;u<c;){if(t[u]>=e){for(o=u+1;o<c&&t[o]>=e;)o++;for(a=u,l=o-1;a<l;a++,l--)h=i[a],i[a]=i[l],i[l]=h;u=o}u++}else i.reverse()}function m(e,t,i,s){var l,h,d,g,f=t[s];switch(f){case 0:case 1:o=!1;case 4:case 3:return f;case 2:return o?3:2;case 7:return o=!0,!0,1;case 8:return 4;case 9:return s<1||s+1>=t.length||2!=(l=i[s-1])&&3!=l||2!=(h=t[s+1])&&3!=h?4:(o&&(h=3),h==l?h:4);case 10:return 2==(l=s>0?i[s-1]:5)&&s+1<t.length&&2==t[s+1]?2:4;case c:if(s>0&&2==i[s-1])return 2;if(o)return 4;for(g=s+1,d=t.length;g<d&&t[g]==c;)g++;return g<d&&2==t[g]?2:4;case 12:for(d=t.length,g=s+1;g<d&&12==t[g];)g++;if(g<d){var m=e[s],p=m>=1425&&m<=2303||64286==m;if(l=t[g],p&&(1==l||7==l))return 1}return s<1||5==(l=t[s-1])?4:i[s-1];case 5:return o=!1,r=!0,n;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case u:return 4}}function p(e){var t=e.charCodeAt(0),i=t>>8;return 0==i?t>191?0:d[t]:5==i?/[\\u0591-\\u05f4]/.test(e)?1:0:6==i?/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(e)?12:/[\\u0660-\\u0669\\u066b-\\u066c]/.test(e)?3:1642==t?c:/[\\u06f0-\\u06f9]/.test(e)?2:7:32==i&&t<=8287?g[255&t]:254==i&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT=\"\\xb7\",t.doBidiReorder=function(e,i,c){if(e.length<2)return{};var d=e.split(\"\"),g=new Array(d.length),v=new Array(d.length),w=[];n=c?1:0,function(e,t,i,c){var u=n?h:l,d=null,g=null,f=null,v=0,w=null,$=-1,b=null,y=null,C=[];if(!c)for(b=0,c=[];b<i;b++)c[b]=p(e[b]);for(s=n,o=!1,!1,r=!1,a=!1,y=0;y<i;y++){if(d=v,C[y]=g=m(e,c,C,y),w=240&(v=u[d][g]),v&=15,t[y]=f=u[v][5],w>0)if(16==w){for(b=$;b<y;b++)t[b]=1;$=-1}else $=-1;if(u[v][6])-1==$&&($=y);else if($>-1){for(b=$;b<y;b++)t[b]=f;$=-1}5==c[y]&&(t[y]=0),s|=f}if(a)for(b=0;b<i;b++)if(6==c[b]){t[b]=n;for(var S=b-1;S>=0&&8==c[S];S--)t[S]=n}}(d,w,d.length,i);for(var $=0;$<g.length;g[$]=$,$++);f(2,w,g),f(1,w,g);for($=0;$<g.length-1;$++)3===i[$]?w[$]=t.AN:1===w[$]&&(i[$]>7&&i[$]<13||4===i[$]||i[$]===u)?w[$]=t.ON_R:$>0&&\"\\u0644\"===d[$-1]&&/\\u0622|\\u0623|\\u0625|\\u0627/.test(d[$])&&(w[$-1]=w[$]=t.R_H,$++);d[d.length-1]===t.DOT&&(w[d.length-1]=t.B),\"\\u202b\"===d[0]&&(w[0]=t.RLE);for($=0;$<g.length;$++)v[$]=w[g[$]];return{logicalFromVisual:g,bidiLevels:v}},t.hasBidiCharacters=function(e,t){for(var i=!1,n=0;n<e.length;n++)t[n]=p(e.charAt(n)),i||1!=t[n]&&7!=t[n]&&3!=t[n]||(i=!0);return i},t.getVisualFromLogicalIdx=function(e,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==e)return i;return 0}})),ace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/bidiutil\"),s=e(\"./lib/lang\"),o=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/,r=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=n,this.charWidths=[],this.EOL=\"\\xac\",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line=\"\",this.wrapIndent=0,this.EOF=\"\\xb6\",this.RLE=\"\\u202b\",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,i){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:\"insert\"==e.action&&o.test(e.lines.join(\"\\n\"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var i=this.session.$getRowCacheIndex(t,this.currentRow);i>=0&&(e=this.session.$docRowCache[i])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var i,n=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(i=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===n;)n=i,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var i=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[n.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t])),t==o.length&&(this.line+=this.showInvisibles?i:n.DOT)}else this.line+=this.showInvisibles?i:n.DOT;var r,a=this.session,l=0;this.line=this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g,(function(e,t){return\"\\t\"===e||a.isFullWidth(e.charCodeAt(0))?(r=\"\\t\"===e?a.getScreenTabSize(t+l):2,l+=r-1,s.stringRepeat(n.DOT,r)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==n.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];n.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=n.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,i=e.$measureCharWidth(\"\\u05d4\");this.charWidths[n.L]=this.charWidths[n.EN]=this.charWidths[n.ON_R]=t,this.charWidths[n.R]=this.charWidths[n.AN]=i,this.charWidths[n.R_H]=.45*i,this.charWidths[n.B]=this.charWidths[n.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(void 0!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var i=e.getCursorPosition(),n=e.selection.getSelectionAnchor().row;n<=i.row;n++)t||e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:n},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(n,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,i=e>t?this.session.getOverwrite()?e:e-1:t,s=n.getVisualFromLogicalIdx(i,this.bidiMap),o=this.bidiMap.bidiLevels,r=0;!this.session.getOverwrite()&&e<=t&&o[s]%2!==0&&s++;for(var a=0;a<s;a++)r+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[s]%2===0&&(r+=this.charWidths[o[s]]),this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(r+=this.rtlLineOffset),r},this.getSelections=function(e,t){var i,n=this.bidiMap,s=n.bidiLevels,o=[],r=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,h=!1,c=!1,u=0;this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,g=0;g<s.length;g++)d=n.logicalFromVisual[g],i=s[g],(h=d>=a&&d<l)&&!c?u=r:!h&&c&&o.push({left:u,width:r-u}),r+=this.charWidths[i],c=h;if(h&&g===s.length&&o.push({left:u,width:r-u}),this.isRtlDir)for(var f=0;f<o.length;f++)o[f].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,i=(e=Math.max(e,0),0),n=0,s=this.bidiMap.bidiLevels,o=this.charWidths[s[n]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>i+o/2;){if(i+=o,n===s.length-1){o=0;break}o=this.charWidths[s[++n]]}return n>0&&s[n-1]%2!==0&&s[n]%2===0?(e<i&&n--,t=this.bidiMap.logicalFromVisual[n]):n>0&&s[n-1]%2===0&&s[n]%2!==0?t=1+(e>i?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===s.length-1&&0===o&&s[n-1]%2===0||!this.isRtlDir&&0===n&&s[n]%2!==0?t=1+this.bidiMap.logicalFromVisual[n]:(n>0&&s[n-1]%2!==0&&0!==o&&n--,t=this.bidiMap.logicalFromVisual[n]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(r.prototype),t.BidiHandler=r})),ace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/oop\"),s=e(\"./lib/lang\"),o=e(\"./lib/event_emitter\").EventEmitter,r=e(\"./range\").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on(\"change\",(function(e){t.$cursorChanged=!0,t.$silent||t._emit(\"changeCursor\"),t.$isEmpty||t.$silent||t._emit(\"changeSelection\"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on(\"change\",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit(\"changeSelection\")}))};(function(){n.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?r.fromPoints(t,t):this.isBackwards()?r.fromPoints(t,e):r.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit(\"changeSelection\"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var i=t?e.end:e.start,n=t?e.start:e.end;this.$setSelection(i.row,i.column,n.row,n.column)},this.$setSelection=function(e,t,i,n){if(!this.$silent){var s=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(i,n),this.$isEmpty=!r.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit(\"changeCursor\"),(this.$cursorChanged||this.$anchorChanged||s!=this.$isEmpty||o)&&this._emit(\"changeSelection\")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(\"undefined\"==typeof t){var i=e||this.lead;e=i.row,t=i.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var i,n=\"number\"==typeof e?e:this.lead.row,s=this.session.getFoldLine(n);return s?(n=s.start.row,i=s.end.row):i=n,!0===t?new r(n,0,i,this.session.getLine(i).length):new r(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,i){var n=e.column,s=e.column+t;return i<0&&(n=e.column-t,s=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(n,s).split(\" \").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),n=this.session.screenToDocumentPosition(i,0),s=this.session.getDisplayLine(e,null,n.row,n.column).match(/^\\s*/);s[0].length==t||this.session.$useEmacsStyleLineStart||(n.column+=s[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var i=this.session.getLine(t.row);if(t.column==i.length){var n=i.search(/\\s+$/);n>0&&(t.column=n)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(e,t,1);if(s)this.moveCursorTo(s.end.row,s.end.column);else{if(this.session.nonTokenRe.exec(n)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=i.substring(t)),t>=i.length)return this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(n)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))this.moveCursorTo(e.start.row,e.start.column);else{var n=this.session.getFoldStringAt(t,i,-1);null==n&&(n=this.doc.getLine(t).substring(0,i));var o=s.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(i-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)}},this.$shortWordEndIndex=function(e){var t,i=0,n=/\\s/,s=this.session.tokenRe;if(s.lastIndex=0,this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(t=e[i])&&n.test(t);)i++;if(i<1)for(s.lastIndex=0;(t=e[i])&&!s.test(t);)if(s.lastIndex=0,i++,n.test(t)){if(i>2){i--;break}for(;(t=e[i])&&n.test(t);)i++;if(i>2)break}}return s.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t),s=this.session.getFoldAt(e,t,1);if(s)return this.moveCursorTo(s.end.row,s.end.column);if(t==i.length){var o=this.doc.getLength();do{e++,n=this.doc.getLine(e)}while(e<o&&/^\\s*$/.test(n));/^\\s+/.test(n)||(n=\"\"),t=0}var r=this.$shortWordEndIndex(n);this.moveCursorTo(e,t+r)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(e.start.row,e.start.column);var n=this.session.getLine(t).substring(0,i);if(0===i){do{t--,n=this.doc.getLine(t)}while(t>0&&/^\\s*$/.test(n));i=n.length,/\\s+$/.test(n)||(n=\"\")}var o=s.stringReverse(n),r=this.$shortWordEndIndex(o);return this.moveCursorTo(t,i-r)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var i,n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var s=this.session.lineWidgets[this.lead.row];e<0?e-=s.rowsAbove||0:e>0&&(e+=s.rowCount-(s.rowsAbove||0))}var o=this.session.screenToDocumentPosition(n.row+e,n.column,i);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,i){var n=this.session.getFoldAt(e,t,1);n&&(e=n.start.row,t=n.start.column),this.$keepDesiredColumnOnChange=!0;var s=this.session.getLine(e);/[\\uDC00-\\uDFFF]/.test(s.charAt(t))&&s.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,i){var n=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(n.row,n.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var i=this.getCursor();return r.fromPoints(t,i)}catch(n){return r.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=r.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"],(function(e,t,i){\"use strict\";var n=e(\"./config\"),s=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[t],n=[],s=0,o=this.matchMappings[t]={defaultToken:\"text\"},r=\"g\",a=[],l=0;l<i.length;l++){var h=i[l];if(h.defaultToken&&(o.defaultToken=h.defaultToken),h.caseInsensitive&&(r=\"gi\"),null!=h.regex){h.regex instanceof RegExp&&(h.regex=h.regex.toString().slice(1,-1));var c=h.regex,u=new RegExp(\"(?:(\"+c+\")|(.))\").exec(\"a\").length-2;Array.isArray(h.token)?1==h.token.length||1==u?h.token=h.token[0]:u-1!=h.token.length?(this.reportError(\"number of classes and regexp groups doesn't match\",{rule:h,groupCount:u-1}),h.token=h.token[0]):(h.tokenArray=h.token,h.token=null,h.onMatch=this.$arrayTokens):\"function\"!=typeof h.token||h.onMatch||(h.onMatch=u>1?this.$applyToken:h.token),u>1&&(/\\\\\\d/.test(h.regex)?c=h.regex.replace(/\\\\([0-9]+)/g,(function(e,t){return\"\\\\\"+(parseInt(t,10)+s+1)})):(u=1,c=this.removeCapturingGroups(h.regex)),h.splitRegex||\"string\"==typeof h.token||a.push(h)),o[s]=l,s+=u,n.push(c),h.onMatch||(h.onMatch=null)}}n.length||(o[0]=0,n.push(\"$\")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,r)}),this),this.regExps[t]=new RegExp(\"(\"+n.join(\")|(\")+\")|($)\",r)}};(function(){this.$setMaxTokenCount=function(e){s=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),i=this.token.apply(this,t);if(\"string\"===typeof i)return[{type:i,value:e}];for(var n=[],s=0,o=i.length;s<o;s++)t[s]&&(n[n.length]={type:i[s],value:t[s]});return n},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return\"text\";for(var i=[],n=this.tokenArray,s=0,o=n.length;s<o;s++)t[s+1]&&(i[i.length]={type:n[s],value:t[s+1]});return i},this.removeCapturingGroups=function(e){return e.replace(/\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!]|(\\()/g,(function(e,t){return t?\"(?:\":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf(\"(?=\")){var i=0,n=!1,s={};e.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g,(function(e,t,o,r,a,l){return n?n=\"]\"!=a:a?n=!0:r?(i==s.stack&&(s.end=l+1,s.stack=-1),i--):o&&(i++,1!=o.length&&(s.stack=i,s.start=l)),e})),null!=s.end&&/^\\)*$/.test(e.substr(s.end))&&(e=e.substring(0,s.start)+e.substr(s.end))}return\"^\"!=e.charAt(0)&&(e=\"^\"+e),\"$\"!=e.charAt(e.length-1)&&(e+=\"$\"),new RegExp(e,(t||\"\").replace(\"g\",\"\"))},this.getLineTokens=function(e,t){if(t&&\"string\"!=typeof t){var i=t.slice(0);\"#tmp\"===(t=i[0])&&(i.shift(),t=i.shift())}else i=[];var n=t||\"start\",o=this.states[n];o||(n=\"start\",o=this.states[n]);var r=this.matchMappings[n],a=this.regExps[n];a.lastIndex=0;for(var l,h=[],c=0,u=0,d={type:null,value:\"\"};l=a.exec(e);){var g=r.defaultToken,f=null,m=l[0],p=a.lastIndex;if(p-m.length>c){var v=e.substring(c,p-m.length);d.type==g?d.value+=v:(d.type&&h.push(d),d={type:g,value:v})}for(var w=0;w<l.length-2;w++)if(void 0!==l[w+1]){g=(f=o[r[w]]).onMatch?f.onMatch(m,n,i,e):f.token,f.next&&(n=\"string\"==typeof f.next?f.next:f.next(n,i),(o=this.states[n])||(this.reportError(\"state doesn't exist\",n),n=\"start\",o=this.states[n]),r=this.matchMappings[n],c=p,(a=this.regExps[n]).lastIndex=p),f.consumeLineEnd&&(c=p);break}if(m)if(\"string\"===typeof g)f&&!1===f.merge||d.type!==g?(d.type&&h.push(d),d={type:g,value:m}):d.value+=m;else if(g){d.type&&h.push(d),d={type:null,value:\"\"};for(w=0;w<g.length;w++)h.push(g[w])}if(c==e.length)break;if(c=p,u++>s){for(u>2*e.length&&this.reportError(\"infinite loop with in ace tokenizer\",{startState:t,line:e});c<e.length;)d.type&&h.push(d),d={value:e.substring(c,c+=500),type:\"overflow\"};n=\"start\",i=[];break}}return d.type&&h.push(d),i.length>1&&i[0]!==n&&i.unshift(\"#tmp\",n),{tokens:h,state:i.length?i:n}},this.reportError=n.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/lang\"),s=function(){this.$rules={start:[{token:\"empty_line\",regex:\"^$\"},{defaultToken:\"text\"}]}};(function(){this.addRules=function(e,t){if(t)for(var i in e){for(var n=e[i],s=0;s<n.length;s++){var o=n[s];(o.next||o.onMatch)&&(\"string\"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+i]=n}else for(var i in e)this.$rules[i]=e[i]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,s,o){var r=\"function\"==typeof e?(new e).getRules():e;if(s)for(var a=0;a<s.length;a++)s[a]=t+s[a];else for(var l in s=[],r)s.push(t+l);if(this.addRules(r,t),i){var h=Array.prototype[o?\"push\":\"unshift\"];for(a=0;a<s.length;a++)h.apply(this.$rules[s[a]],n.deepCopy(i))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return(\"start\"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||\"start\"};this.normalizeRules=function(){var i=0,n=this.$rules;Object.keys(n).forEach((function s(o){var r=n[o];r.processed=!0;for(var a=0;a<r.length;a++){var l=r[a],h=null;Array.isArray(l)&&(h=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+\".end\",regex:l.end||l.start,next:\"pop\"}),l.token=l.token+\".start\",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var u=l.stateName;u||(\"string\"!=typeof(u=l.token)&&(u=u[0]||\"\"),n[u]&&(u+=i++)),n[u]=c,l.next=u,s(u)}else\"pop\"==c&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)n[d]?n[d].push&&n[d].push.apply(n[d],l.rules[d]):n[d]=l.rules[d];var g=\"string\"==typeof l?l:l.include;if(g&&(h=Array.isArray(g)?g.map((function(e){return n[e]})):n[g]),h){var f=[a,1].concat(h);l.noEscape&&(f=f.filter((function(e){return!e.next}))),r.splice.apply(r,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||\"text\",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,i,n){var s=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(n||\"|\"),r=o.length;r--;){var a=o[r];this.$keywordList.push(a),i&&(a=a.toLowerCase()),s[a]=t}}),this),e=null,i?function(e){return s[e.toLowerCase()]||t}:function(e){return s[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(s.prototype),t.TextHighlightRules=s})),ace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"],(function(e,t,i){\"use strict\";var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=i},this.addBehaviours=function(e){for(var t in e)for(var i in e[t])this.add(t,i,e[t][i])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if(\"function\"===typeof e)var i=(new e).getBehaviours(t);else i=e.getBehaviours(t);this.addBehaviours(i)},this.getBehaviours=function(e){if(e){for(var t={},i=0;i<e.length;i++)this.$behaviours[e[i]]&&(t[e[i]]=this.$behaviours[e[i]]);return t}return this.$behaviours}}).call(n.prototype),t.Behaviour=n})),ace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=e(\"./range\").Range,s=function(e,t,i){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var n=e.getTokenAt(t,i);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,i=e[t].start;if(void 0!==i)return i;for(i=0;t>0;)i+=e[t-=1].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new n(this.$row,t,this.$row,t+e.value.length)}}).call(s.prototype),t.TokenIterator=s})),ace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"],(function(e,t,i){\"use strict\";var n,s=e(\"../../lib/oop\"),o=e(\"../behaviour\").Behaviour,r=e(\"../../token_iterator\").TokenIterator,a=e(\"../../lib/lang\"),l=[\"text\",\"paren.rparen\",\"rparen\",\"paren\",\"punctuation.operator\"],h=[\"text\",\"paren.rparen\",\"rparen\",\"paren\",\"punctuation.operator\",\"comment\"],c={},u={'\"':'\"',\"'\":\"'\"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,c.rangeCount!=e.multiSelect.rangeCount&&(c={rangeCount:e.multiSelect.rangeCount})),c[t])return n=c[t];n=c[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:\"\",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:\"\",maybeInsertedLineEnd:\"\"}},g=function(e,t,i,n){var s=e.end.row-e.start.row;return{text:i+t+n,selection:[0,e.start.column+1,s,e.end.column+(s?0:1)]}},f=function(e){this.add(\"braces\",\"insertion\",(function(t,i,s,o,r){var l=s.getCursorPosition(),h=o.doc.getLine(l.row);if(\"{\"==r){d(s);var c=s.getSelectionRange(),u=o.doc.getTextRange(c);if(\"\"!==u&&\"{\"!==u&&s.getWrapBehavioursEnabled())return g(c,u,\"{\",\"}\");if(f.isSaneInsertion(s,o))return/[\\]\\}\\)]/.test(h[l.column])||s.inMultiSelectMode||e&&e.braces?(f.recordAutoInsert(s,o,\"}\"),{text:\"{}\",selection:[1,1]}):(f.recordMaybeInsert(s,o,\"{\"),{text:\"{\",selection:[1,1]})}else if(\"}\"==r){if(d(s),\"}\"==h.substring(l.column,l.column+1))if(null!==o.$findOpeningBracket(\"}\",{column:l.column+1,row:l.row})&&f.isAutoInsertedClosing(l,h,r))return f.popAutoInsertedClosing(),{text:\"\",selection:[1,1]}}else{if(\"\\n\"==r||\"\\r\\n\"==r){d(s);var m=\"\";if(f.isMaybeInsertedClosing(l,h)&&(m=a.stringRepeat(\"}\",n.maybeInsertedBrackets),f.clearMaybeInsertedClosing()),\"}\"===h.substring(l.column,l.column+1)){var p=o.findMatchingBracket({row:l.row,column:l.column+1},\"}\");if(!p)return null;var v=this.$getIndent(o.getLine(p.row))}else{if(!m)return void f.clearMaybeInsertedClosing();v=this.$getIndent(h)}var w=v+o.getTabString();return{text:\"\\n\"+w+\"\\n\"+v+m,selection:[1,w.length,1,w.length]}}f.clearMaybeInsertedClosing()}})),this.add(\"braces\",\"deletion\",(function(e,t,i,s,o){var r=s.doc.getTextRange(o);if(!o.isMultiLine()&&\"{\"==r){if(d(i),\"}\"==s.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;n.maybeInsertedBrackets--}})),this.add(\"parens\",\"insertion\",(function(e,t,i,n,s){if(\"(\"==s){d(i);var o=i.getSelectionRange(),r=n.doc.getTextRange(o);if(\"\"!==r&&i.getWrapBehavioursEnabled())return g(o,r,\"(\",\")\");if(f.isSaneInsertion(i,n))return f.recordAutoInsert(i,n,\")\"),{text:\"()\",selection:[1,1]}}else if(\")\"==s){d(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if(\")\"==l.substring(a.column,a.column+1))if(null!==n.$findOpeningBracket(\")\",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,s))return f.popAutoInsertedClosing(),{text:\"\",selection:[1,1]}}})),this.add(\"parens\",\"deletion\",(function(e,t,i,n,s){var o=n.doc.getTextRange(s);if(!s.isMultiLine()&&\"(\"==o&&(d(i),\")\"==n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s})),this.add(\"brackets\",\"insertion\",(function(e,t,i,n,s){if(\"[\"==s){d(i);var o=i.getSelectionRange(),r=n.doc.getTextRange(o);if(\"\"!==r&&i.getWrapBehavioursEnabled())return g(o,r,\"[\",\"]\");if(f.isSaneInsertion(i,n))return f.recordAutoInsert(i,n,\"]\"),{text:\"[]\",selection:[1,1]}}else if(\"]\"==s){d(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if(\"]\"==l.substring(a.column,a.column+1))if(null!==n.$findOpeningBracket(\"]\",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,s))return f.popAutoInsertedClosing(),{text:\"\",selection:[1,1]}}})),this.add(\"brackets\",\"deletion\",(function(e,t,i,n,s){var o=n.doc.getTextRange(s);if(!s.isMultiLine()&&\"[\"==o&&(d(i),\"]\"==n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s})),this.add(\"string_dquotes\",\"insertion\",(function(e,t,i,n,s){var o=n.$mode.$quotes||u;if(1==s.length&&o[s]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(s))return;d(i);var r=s,a=i.getSelectionRange(),l=n.doc.getTextRange(a);if(!(\"\"===l||1==l.length&&o[l])&&i.getWrapBehavioursEnabled())return g(a,l,r,r);if(!l){var h=i.getCursorPosition(),c=n.doc.getLine(h.row),f=c.substring(h.column-1,h.column),m=c.substring(h.column,h.column+1),p=n.getTokenAt(h.row,h.column),v=n.getTokenAt(h.row,h.column+1);if(\"\\\\\"==f&&p&&/escape/.test(p.type))return null;var w,$=p&&/string|escape/.test(p.type),b=!v||/string|escape/.test(v.type);if(m==r)(w=$!==b)&&/string\\.end/.test(v.type)&&(w=!1);else{if($&&!b)return null;if($&&b)return null;var y=n.$mode.tokenRe;y.lastIndex=0;var C=y.test(f);y.lastIndex=0;var S=y.test(f);if(C||S)return null;if(m&&!/[\\s;,.})\\]\\\\]/.test(m))return null;var x=c[h.column-2];if(f==r&&(x==r||y.test(x)))return null;w=!0}return{text:w?r+r:\"\",selection:[1,1]}}}})),this.add(\"string_dquotes\",\"deletion\",(function(e,t,i,n,s){var o=n.$mode.$quotes||u,r=n.doc.getTextRange(s);if(!s.isMultiLine()&&o.hasOwnProperty(r)&&(d(i),n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)==r))return s.end.column++,s}))};f.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new r(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||\"text\",l)){if(/[)}\\]]/.test(e.session.getLine(i.row)[i.column]))return!0;var s=new r(t,i.row,i.column+1);if(!this.$matchTokenType(s.getCurrentToken()||\"text\",l))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||\"text\",h)},f.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},f.recordAutoInsert=function(e,t,i){var s=e.getCursorPosition(),o=t.doc.getLine(s.row);this.isAutoInsertedClosing(s,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=s.row,n.autoInsertedLineEnd=i+o.substr(s.column),n.autoInsertedBrackets++},f.recordMaybeInsert=function(e,t,i){var s=e.getCursorPosition(),o=t.doc.getLine(s.row);this.isMaybeInsertedClosing(s,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=s.row,n.maybeInsertedLineStart=o.substr(0,s.column)+i,n.maybeInsertedLineEnd=o.substr(s.column),n.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(e,t,i){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},s.inherits(f,o),t.CstyleBehaviour=f})),ace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"],(function(e,t,i){\"use strict\";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],s=0,o=[],r=0;r<n.length;r+=2)o.push(s+=n[r]),n[r+1]&&o.push(45,s+=n[r+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=e(\"../config\"),s=e(\"../tokenizer\").Tokenizer,o=e(\"./text_highlight_rules\").TextHighlightRules,r=e(\"./behaviour/cstyle\").CstyleBehaviour,a=e(\"../unicode\"),l=e(\"../lib/lang\"),h=e(\"../token_iterator\").TokenIterator,c=e(\"../range\").Range,u=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new r,this.tokenRe=new RegExp(\"^[\"+a.wordChars+\"\\\\$_]+\",\"g\"),this.nonTokenRe=new RegExp(\"^(?:[^\"+a.wordChars+\"\\\\$_]|\\\\s])+\",\"g\"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart=\"\",this.blockComment=\"\",this.toggleCommentLines=function(e,t,i,n){var s=t.doc,o=!0,r=!0,a=1/0,h=t.getTabSize(),c=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))m=this.lineCommentStart.map(l.escapeRegExp).join(\"|\"),g=this.lineCommentStart[0];else m=l.escapeRegExp(this.lineCommentStart),g=this.lineCommentStart;m=new RegExp(\"^(\\\\s*)(?:\"+m+\") ?\"),c=t.getUseSoftTabs();w=function(e,t){var i=e.match(m);if(i){var n=i[1].length,o=i[0].length;d(e,n,o)||\" \"!=i[0][o-1]||o--,s.removeInLine(t,n,o)}};var u=g+\" \",d=(v=function(e,t){o&&!/\\S/.test(e)||(d(e,a,a)?s.insertInLine({row:t,column:a},u):s.insertInLine({row:t,column:a},g))},$=function(e,t){return m.test(e)},function(e,t,i){for(var n=0;t--&&\" \"==e.charAt(t);)n++;if(n%h!=0)return!1;for(n=0;\" \"==e.charAt(i++);)n++;return h>2?n%h!=h-1:n%h==0})}else{if(!this.blockComment)return!1;var g=this.blockComment.start,f=this.blockComment.end,m=new RegExp(\"^(\\\\s*)(?:\"+l.escapeRegExp(g)+\")\"),p=new RegExp(\"(?:\"+l.escapeRegExp(f)+\")\\\\s*$\"),v=function(e,t){$(e,t)||o&&!/\\S/.test(e)||(s.insertInLine({row:t,column:e.length},f),s.insertInLine({row:t,column:a},g))},w=function(e,t){var i;(i=e.match(p))&&s.removeInLine(t,e.length-i[0].length,e.length),(i=e.match(m))&&s.removeInLine(t,i[1].length,i[0].length)},$=function(e,i){if(m.test(e))return!0;for(var n=t.getTokens(i),s=0;s<n.length;s++)if(\"comment\"===n[s].type)return!0}}function b(e){for(var t=i;t<=n;t++)e(s.getLine(t),t)}var y=1/0;b((function(e,t){var i=e.search(/\\S/);-1!==i?(i<a&&(a=i),r&&!$(e,t)&&(r=!1)):y>e.length&&(y=e.length)})),a==1/0&&(a=y,o=!1,r=!1),c&&a%h!=0&&(a=Math.floor(a/h)*h),b(r?w:v)},this.toggleBlockComment=function(e,t,i,n){var s=this.blockComment;if(s){!s.start&&s[0]&&(s=s[0]);var o,r,a=(m=new h(t,n.row,n.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var u,d;a&&/comment/.test(a.type);){if(-1!=(p=a.value.indexOf(s.start))){var g=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+p;u=new c(g,f,g,f+s.start.length);break}a=m.stepBackward()}var m;for(a=(m=new h(t,n.row,n.column)).getCurrentToken();a&&/comment/.test(a.type);){var p;if(-1!=(p=a.value.indexOf(s.end))){g=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+p;d=new c(g,f,g,f+s.end.length);break}a=m.stepForward()}d&&t.remove(d),u&&(t.remove(u),o=u.start.row,r=-s.start.length)}else r=s.start.length,o=i.start.row,t.insert(i.end,s.end),t.insert(i.start,s.start);l.start.row==o&&(l.start.column+=r),l.end.row==o&&(l.end.column+=r),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.autoOutdent=function(e,t,i){},this.$getIndent=function(e){return e.match(/^\\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var i=e[t],s=i.prototype.$id,o=n.$modes[s];o||(n.$modes[s]=o=new i),n.$modes[t]||(n.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var r=[\"toggleBlockComment\",\"toggleCommentLines\",\"getNextLineIndent\",\"checkOutdent\",\"autoOutdent\",\"transformAction\",\"getCompletions\"];for(t=0;t<r.length;t++)!function(e){var i=r[t],n=e[i];e[r[t]]=function(){return this.$delegator(i,arguments,n)}}(this)},this.$delegator=function(e,t,i){var n=t[0]||\"start\";if(\"string\"!=typeof n){if(Array.isArray(n[2])){var s=n[2][n[2].length-1];if(r=this.$modes[s])return r[e].apply(r,[n[1]].concat([].slice.call(t,1)))}n=n[0]||\"start\"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var r,a=n.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(r=this.$modes[this.$embeds[o]])[e].apply(r,t)}var l=i.apply(this,t);return i?l:void 0},this.transformAction=function(e,t,i,n,s){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var r in o)if(o[r][t]){var a=o[r][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,i=[];for(var n in t)for(var s=t[n],o=0,r=s.length;o<r;o++)if(\"string\"===typeof s[o].token)/keyword|support|storage/.test(s[o].token)&&i.push(s[o].regex);else if(\"object\"===typeof s[o].token)for(var a=0,l=s[o].token.length;a<l;a++)if(/keyword|support|storage/.test(s[o].token[a])){n=s[o].regex.match(/\\(.+?\\)/g)[a];i.push(n.substr(1,n.length-2))}this.completionKeywords=i}return e?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,i,n){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:\"keyword\"}}))},this.$id=\"ace/mode/text\"}).call(u.prototype),t.Mode=u})),ace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"],(function(e,t,i){\"use strict\";t.applyDelta=function(e,t,i){var n=t.start.row,s=t.start.column,o=e[n]||\"\";switch(t.action){case\"insert\":if(1===t.lines.length)e[n]=o.substring(0,s)+t.lines[0]+o.substring(s);else{var r=[n,1].concat(t.lines);e.splice.apply(e,r),e[n]=o.substring(0,s)+e[n],e[n+t.lines.length-1]+=o.substring(s)}break;case\"remove\":var a=t.end.column,l=t.end.row;n===l?e[n]=o.substring(0,s)+o.substring(a):e.splice(n,l-n+1,o.substring(0,s)+e[l].substring(a))}}})),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/oop\"),s=e(\"./lib/event_emitter\").EventEmitter,o=t.Anchor=function(e,t,i){this.$onChange=this.onChange.bind(this),this.attach(e),\"undefined\"==typeof i?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){function e(e,t,i){var n=i?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&n}n.implement(this,s),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if((t.start.row!=t.end.row||t.start.row==this.row)&&!(t.start.row>this.row)){var i=function(t,i,n){var s=\"insert\"==t.action,o=(s?1:-1)*(t.end.row-t.start.row),r=(s?1:-1)*(t.end.column-t.start.column),a=t.start,l=s?a:t.end;if(e(i,a,n))return{row:i.row,column:i.column};if(e(l,i,!n))return{row:i.row+o,column:i.column+(i.row==l.row?r:0)};return{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},this.setPosition=function(e,t,i){var n;if(n=i?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=n.row||this.column!=n.column){var s={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal(\"change\",{old:s,value:n})}},this.detach=function(){this.document.off(\"change\",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on(\"change\",this.$onChange)},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(o.prototype)})),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/oop\"),s=e(\"./apply_delta\").applyDelta,o=e(\"./lib/event_emitter\").EventEmitter,r=e(\"./range\").Range,a=e(\"./anchor\").Anchor,l=function(e){this.$lines=[\"\"],0===e.length?this.$lines=[\"\"]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){n.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new r(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0===\"aaa\".split(/a/).length?this.$split=function(e){return e.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:this.$split=function(e){return e.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=t?t[1]:\"\\n\",this._signal(\"changeNewLineMode\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine||\"\\n\"}},this.$autoNewLine=\"\",this.$newLineMode=\"auto\",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal(\"changeNewLineMode\"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return\"\\r\\n\"==e||\"\\r\"==e||\"\\n\"==e},this.getLine=function(e){return this.$lines[e]||\"\"},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||\"\").substring(e.start.column);var i=t.length-1;e.end.row-e.start.row==i&&(t[i]=t[i].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"),this.insertMergedLines(e,[\"\",\"\"])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var i=this.clippedPos(e.row,e.column),n=this.pos(e.row,e.column+t.length);return this.applyDelta({start:i,end:n,action:\"insert\",lines:[t]},!0),this.clonePos(n)},this.clippedPos=function(e,t){var i=this.getLength();void 0===e?e=i:e<0?e=0:e>=i&&(e=i-1,t=void 0);var n=this.getLine(e);return void 0==t&&(t=n.length),{row:e,column:t=Math.min(Math.max(t,0),n.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var i=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([\"\"]),i=0):(t=[\"\"].concat(t),e--,i=this.$lines[e].length),this.insertMergedLines({row:e,column:i},t)},this.insertMergedLines=function(e,t){var i=this.clippedPos(e.row,e.column),n={row:i.row+t.length-1,column:(1==t.length?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:n,action:\"insert\",lines:t}),this.clonePos(n)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),i=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:i,action:\"remove\",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)},this.removeInLine=function(e,t,i){var n=this.clippedPos(e,t),s=this.clippedPos(e,i);return this.applyDelta({start:n,end:s,action:\"remove\",lines:this.getLinesForRange({start:n,end:s})},!0),this.clonePos(n)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var i=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,n=t<this.getLength()-1,s=i?e-1:e,o=i?this.getLine(s).length:0,a=n?t+1:t,l=n?0:this.getLine(a).length,h=new r(s,o,a,l),c=this.$lines.slice(e,t+1);return this.applyDelta({start:h.start,end:h.end,action:\"remove\",lines:this.getLinesForRange(h)}),c},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:\"remove\",lines:[\"\",\"\"]})},this.replace=function(e,t){return e instanceof r||(e=r.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var i=\"insert\"==e.action;(i?e.lines.length<=1&&!e.lines[0]:!r.comparePoints(e.start,e.end))||(i&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(s(this.$lines,e,t),this._signal(\"change\",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;(\"remove\"==e.action&&e.start.row<t&&e.end.row<t||\"insert\"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var i=e.lines,n=i.length-t+1,s=e.start.row,o=e.start.column,r=0,a=0;r<n;r=a){a+=t-1;var l=i.slice(r,a);l.push(\"\"),this.applyDelta({start:this.pos(s+r,o),end:this.pos(s+a,o=0),action:e.action,lines:l},!0)}e.lines=i.slice(r),e.start.row=s+r,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:\"insert\"==e.action?\"remove\":\"insert\",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=t||0,o=i.length;s<o;s++)if((e-=i[s].length+n)<0)return{row:s,column:e+i[s].length+n};return{row:o-1,column:e+i[o-1].length+n}},this.positionToIndex=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=0,o=Math.min(e.row,i.length),r=t||0;r<o;++r)s+=i[r].length+n;return s+e.column}}).call(l.prototype),t.Document=l})),ace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/oop\"),s=e(\"./lib/event_emitter\").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var i=this;this.$worker=function(){if(i.running){for(var e=new Date,t=i.currentLine,n=-1,s=i.doc,o=t;i.lines[t];)t++;var r=s.getLength(),a=0;for(i.running=!1;t<r;){i.$tokenizeRow(t),n=t;do{t++}while(i.lines[t]);if(++a%5===0&&new Date-e>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=t,-1==n&&(n=t),o<=n&&i.fireUpdateEvent(o,n)}}};(function(){n.implement(this,s),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var i={first:e,last:t};this._signal(\"update\",{data:i})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.lines[t]=null;else if(\"remove\"==e.action)this.lines.splice(t,i+1,null),this.states.splice(t,i+1,null);else{var n=Array(i+1);n.unshift(t,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||\"start\"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),i=this.states[e-1],n=this.tokenizer.getLineTokens(t,i,e);return this.states[e]+\"\"!==n.state+\"\"?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/lang\"),s=(e(\"./lib/oop\"),e(\"./range\").Range),o=function(e,t,i){this.setRegexp(e),this.clazz=t,this.type=i||\"text\"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+\"\"!=e+\"\"&&(this.regExp=e,this.cache=[])},this.update=function(e,t,i,o){if(this.regExp)for(var r=o.firstRow,a=o.lastRow,l=r;l<=a;l++){var h=this.cache[l];null==h&&((h=n.getMatchOffsets(i.getLine(l),this.regExp)).length>this.MAX_RANGES&&(h=h.slice(0,this.MAX_RANGES)),h=h.map((function(e){return new s(l,e.offset,l,e.offset+e.length)})),this.cache[l]=h.length?h:\"\");for(var c=h.length;c--;)t.drawSingleLineMarker(e,h[c].toScreenRange(i),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o})),ace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=e(\"../range\").Range;function s(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new n(t[0].start.row,t[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,i){var n,s,o=0,r=this.folds,a=!0;null==t&&(t=this.end.row,i=this.end.column);for(var l=0;l<r.length;l++){if(-1==(s=(n=r[l]).range.compareStart(t,i)))return void e(null,t,i,o,a);if(!e(null,n.start.row,n.start.column,o,a)&&e(n.placeholder,n.start.row,n.start.column,o)||0===s)return;a=!n.sameRow,o=n.end.column}e(null,t,i,o,a)},this.getNextFoldTo=function(e,t){for(var i,n,s=0;s<this.folds.length;s++){if(-1==(n=(i=this.folds[s]).range.compareEnd(e,t)))return{fold:i,kind:\"after\"};if(0===n)return{fold:i,kind:\"inside\"}}return null},this.addRemoveChars=function(e,t,i){var n,s,o=this.getNextFoldTo(e,t);if(o)if(n=o.fold,\"inside\"==o.kind&&n.start.column!=t&&n.start.row!=e)window.console&&window.console.log(e,t,n);else if(n.start.row==e){var r=(s=this.folds).indexOf(n);for(0===r&&(this.start.column+=i);r<s.length;r++){if((n=s[r]).start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||\"inside\"==i.kind)return null;var n=i.fold,o=this.folds,r=this.foldData,a=o.indexOf(n),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var h=new s(r,o=o.splice(a,o.length-a));return r.splice(r.indexOf(this)+1,0,h),h},this.merge=function(e){for(var t=e.folds,i=0;i<t.length;i++)this.addFold(t[i]);var n=this.foldData;n.splice(n.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+\": [\"];return this.folds.forEach((function(t){e.push(\"  \"+t.toString())})),e.push(\"]\"),e.join(\"\\n\")},this.idxToPosition=function(e){for(var t=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if((e-=n.start.column-t)<0)return{row:n.start.row,column:n.start.column+e};if((e-=n.placeholder.length)<0)return n.start;t=n.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(s.prototype),t.FoldLine=s})),ace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=e(\"./range\").Range.comparePoints,s=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=n,this.pointIndex=function(e,t,i){for(var s=this.ranges,o=i||0;o<s.length;o++){var r=s[o],a=n(e,r.end);if(!(a>0)){var l=n(e,r.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),i=this.pointIndex(e.start,t);i<0&&(i=-i-1);var n=this.pointIndex(e.end,t,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,e)},this.addList=function(e){for(var t=[],i=e.length;i--;)t.push.apply(t,this.add(e[i]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],i=this.ranges,s=(i=i.sort((function(e,t){return n(e.start,t.start)})))[0],o=1;o<i.length;o++){e=s,s=i[o];var r=n(e.end,s.start);r<0||(0!=r||e.isEmpty()||s.isEmpty())&&(n(e.end,s.end)<0&&(e.end.row=s.end.row,e.end.column=s.end.column),i.splice(o,1),t.push(s),s=e,o--)}return this.ranges=i,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var i=this.ranges;if(i[0].start.row>t||i[i.length-1].start.row<e)return[];var n=this.pointIndex({row:e,column:0});n<0&&(n=-n-1);var s=this.pointIndex({row:t,column:0},n);s<0&&(s=-s-1);for(var o=[],r=n;r<s;r++)o.push(i[r]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on(\"change\",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener(\"change\",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,i=e.end,n=t.row,s=i.row,o=this.ranges,r=0,a=o.length;r<a;r++){if((c=o[r]).end.row>=n)break}if(\"insert\"==e.action)for(var l=s-n,h=-t.column+i.column;r<a;r++){if((c=o[r]).start.row>n)break;if(c.start.row==n&&c.start.column>=t.column&&(c.start.column==t.column&&this.$bias<=0||(c.start.column+=h,c.start.row+=l)),c.end.row==n&&c.end.column>=t.column){if(c.end.column==t.column&&this.$bias<0)continue;c.end.column==t.column&&h>0&&r<a-1&&c.end.column>c.start.column&&c.end.column==o[r+1].start.column&&(c.end.column-=h),c.end.column+=h,c.end.row+=l}}else for(l=n-s,h=t.column-i.column;r<a;r++){if((c=o[r]).start.row>s)break;c.end.row<s&&(n<c.end.row||n==c.end.row&&t.column<c.end.column)?(c.end.row=n,c.end.column=t.column):c.end.row==s?c.end.column<=i.column?(l||c.end.column>t.column)&&(c.end.column=t.column,c.end.row=t.row):(c.end.column+=h,c.end.row+=l):c.end.row>s&&(c.end.row+=l),c.start.row<s&&(n<c.start.row||n==c.start.row&&t.column<c.start.column)?(c.start.row=n,c.start.column=t.column):c.start.row==s?c.start.column<=i.column?(l||c.start.column>t.column)&&(c.start.column=t.column,c.start.row=t.row):(c.start.column+=h,c.start.row+=l):c.start.row>s&&(c.start.row+=l)}if(0!=l&&r<a)for(;r<a;r++){var c;(c=o[r]).start.row+=l,c.end.row+=l}}}).call(s.prototype),t.RangeList=s})),ace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/lib/oop\"],(function(e,t,i){\"use strict\";var n=e(\"../range_list\").RangeList,s=e(\"../lib/oop\"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function r(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}s.inherits(o,n),function(){this.toString=function(){return'\"'+this.placeholder+'\" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,i;t=e,i=this.start,r(t.start,i),r(t.end,i);for(var n=e.start.row,s=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(n,s));o++);var l=this.subFolds[o],h=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);h=1}n=e.range.end.row,s=e.range.end.column;var c=o;for(a=-1;c<this.subFolds.length&&1==(a=this.subFolds[c].range.compare(n,s));c++);0==a&&c++;for(var u=this.subFolds.splice(o,c-o,e),d=0==a?u.length-1:u.length,g=h;g<d;g++)e.addSubFold(u[g]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}.call(o.prototype)})),ace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"],(function(e,t,i){\"use strict\";var n=e(\"../range\").Range,s=e(\"./fold_line\").FoldLine,o=e(\"./fold\").Fold,r=e(\"../token_iterator\").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,i){var n=this.getFoldLine(e);if(!n)return null;for(var s=n.folds,o=0;o<s.length;o++){var r=s[o].range;if(r.contains(e,t)){if(1==i&&r.isEnd(e,t)&&!r.isEmpty())continue;if(-1==i&&r.isStart(e,t)&&!r.isEmpty())continue;return s[o]}}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,n=this.$foldData,s=[];t.column+=1,i.column-=1;for(var o=0;o<n.length;o++){var r=n[o].range.compareRange(e);if(2!=r){if(-2==r)break;for(var a=n[o].folds,l=0;l<a.length;l++){var h=a[l];if(-2==(r=h.range.compareRange(e)))break;if(2!=r){if(42==r)break;s.push(h)}}}}return t.column-=1,i.column+=1,s},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var n=0;n<t[i].folds.length;n++)e.push(t[i].folds[n]);return e},this.getFoldStringAt=function(e,t,i,n){if(!(n=n||this.getFoldLine(e)))return null;for(var s,o,r={end:{column:0}},a=0;a<n.folds.length;a++){var l=(o=n.folds[a]).range.compareEnd(e,t);if(-1==l){s=this.getLine(o.start.row).substring(r.end.column,o.start.column);break}if(0===l)return null;r=o}return s||(s=this.getLine(o.start.row).substring(r.end.column)),-1==i?s.substring(0,t-r.end.column):1==i?s.substring(t-r.end.column):s},this.getFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var s=i[n];if(s.start.row<=e&&s.end.row>=e)return s;if(s.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var s=i[n];if(s.end.row>=e)return s}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,n=t-e+1,s=0;s<i.length;s++){var o=i[s],r=o.end.row,a=o.start.row;if(r>=t){a<t&&(a>=e?n-=t-a:n=0);break}r>=e&&(n-=a>=e?r-a:r-e+1)}return n},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var i,n=this.$foldData,r=!1;e instanceof o?i=e:(i=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(i.range);var a=i.start.row,l=i.start.column,h=i.end.row,c=i.end.column,u=this.getFoldAt(a,l,1),d=this.getFoldAt(h,c,-1);if(u&&d==u)return u.addSubFold(i);u&&!u.range.isStart(a,l)&&this.removeFold(u),d&&!d.range.isEnd(h,c)&&this.removeFold(d);var g=this.getFoldsInRange(i.range);g.length>0&&(this.removeFolds(g),i.collapseChildren||g.forEach((function(e){i.addSubFold(e)})));for(var f=0;f<n.length;f++){var m=n[f];if(h==m.start.row){m.addFold(i),r=!0;break}if(a==m.end.row){if(m.addFold(i),r=!0,!i.sameRow){var p=n[f+1];if(p&&p.start.row==h){m.merge(p);break}}break}if(h<=m.start.row)break}return r||(m=this.$addFoldLine(new s(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal(\"changeFold\",{data:i,action:\"add\"}),i},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,i=t.start.row,n=t.end.row,s=this.$foldData,o=t.folds;if(1==o.length)s.splice(s.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var r=t.split(e.start.row,e.start.column);(o=r.folds).shift(),r.start.row=o[0].start.row,r.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._signal(\"changeFold\",{data:e,action:\"remove\"})},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var i,s;if(null==e?(i=new n(0,0,this.getLength(),0),null==t&&(t=!0)):i=\"number\"==typeof e?new n(e,0,e,this.getLine(e).length):\"row\"in e?n.fromPoints(e,e):e,s=this.getFoldsInRangeList(i),0!=t?this.removeFolds(s):this.expandFolds(s),s.length)return s},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var i=this.getFoldLine(e,t);return i?i.end.row:e},this.getRowFoldStart=function(e,t){var i=this.getFoldLine(e,t);return i?i.start.row:e},this.getFoldDisplayLine=function(e,t,i,n,s){null==n&&(n=e.start.row),null==s&&(s=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var o=this.doc,r=\"\";return e.walk((function(e,t,i,a){if(!(t<n)){if(t==n){if(i<s)return;a=Math.max(s,a)}r+=null!=e?e:o.getLine(t).substring(a,i)}}),t,i),r},this.getDisplayLine=function(e,t,i,n){var s,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,i,n):(s=this.doc.getLine(e)).substring(n||0,t||s.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var i=t.folds.map((function(e){return e.clone()}));return new s(e,i)}))},this.toggleFold=function(e){var t,i,n=this.selection.getRange();if(n.isEmpty()){var s=n.start;if(t=this.getFoldAt(s.row,s.column))return void this.expandFold(t);(i=this.findMatchingBracket(s))?1==n.comparePoint(i)?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(1==n.comparePoint(i)?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(s.row,s.column)||n}else{var o=this.getFoldsInRange(n);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(n.start.row,n.start.column)),t&&t.range.toString()==n.toString())this.expandFold(t);else{var r=\"...\";if(!n.isMultiLine()){if((r=this.getTextRange(n)).length<4)return;r=r.trim().substring(0,2)+\"..\"}this.addFold(r,n)}},this.getCommentFoldRange=function(e,t,i){var s=new r(this,e,t),o=s.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){\"comment\"==(a=a.match(/comment|string/)[0])&&(a+=\"|doc-start\");var l=new RegExp(a),h=new n;if(1!=i){do{o=s.stepBackward()}while(o&&l.test(o.type));s.stepForward()}if(h.start.row=s.getCurrentTokenRow(),h.start.column=s.getCurrentTokenColumn()+2,s=new r(this,e,t),-1!=i){var c=-1;do{if(o=s.stepForward(),-1==c){var u=this.getState(s.$row);l.test(u)||(c=s.$row)}else if(s.$row>c)break}while(o&&l.test(o.type));o=s.stepBackward()}else o=s.getCurrentToken();return h.end.row=s.getCurrentTokenRow(),h.end.column=s.getCurrentTokenColumn()+o.value.length-2,h}},this.foldAll=function(e,t,i,n){void 0==i&&(i=1e5);var s=this.foldWidgets;if(s){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==s[o]&&(s[o]=this.getFoldWidget(o)),\"start\"==s[o]&&(!n||n(o))){var r=this.getFoldWidgetRange(o);r&&r.isMultiLine()&&r.end.row<=t&&r.start.row>=e&&(o=r.end.row,r.collapseChildren=i,this.addFold(\"...\",r))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var i=e.getTokens(t),n=0;n<i.length;n++){var s=i[n];if(\"text\"!=s.type||!/^\\s+$/.test(s.value))return!!/comment/.test(s.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle=\"markbegin\",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error(\"invalid fold style: \"+e+\"[\"+Object.keys(this.$foldStyles).join(\", \")+\"]\");if(this.$foldStyle!=e){this.$foldStyle=e,\"manual\"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off(\"change\",this.$updateFoldWidgets),this.off(\"tokenizerUpdate\",this.$tokenizerUpdateFoldWidgets),this._signal(\"changeAnnotation\"),e&&\"manual\"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on(\"change\",this.$updateFoldWidgets),this.on(\"tokenizerUpdate\",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return{};for(var n,s=e-1;s>=0;){var o=i[s];if(null==o&&(o=i[s]=this.getFoldWidget(s)),\"start\"==o){var r=this.getFoldWidgetRange(s);if(n||(n=r),r&&r.end.row>=e)break}s--}return{range:-1!==s&&r,firstRange:n}},this.onFoldWidgetClick=function(e,t){var i={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,i)){var n=t.target||t.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=\" ace_invalid\")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),n=this.getLine(e),s=\"end\"===i?-1:1,o=this.getFoldAt(e,-1===s?0:n.length,s);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var r=this.getFoldWidgetRange(e,!0);if(r&&!r.isMultiLine()&&(o=this.getFoldAt(r.start.row,r.start.column,1))&&r.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,h=a.range.end.row;this.foldAll(l,h,t.all?1e4:0)}else t.children?(h=r?r.end.row:this.getLength(),this.foldAll(e+1,h,t.all?1e4:0)):r&&(t.all&&(r.collapseChildren=1e4),this.addFold(\"...\",r));return r}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var i=this.$toggleFoldWidget(t,{});if(!i){var n=this.getParentFoldRangeData(t,!0);if(i=n.range||n.firstRange){t=i.start.row;var s=this.getFoldAt(t,this.getLine(t).length,1);s?this.removeFold(s):this.addFold(\"...\",i)}}},this.updateFoldWidgets=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.foldWidgets[t]=null;else if(\"remove\"==e.action)this.foldWidgets.splice(t,i+1,null);else{var n=Array(i+1);n.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=e(\"../token_iterator\").TokenIterator,s=e(\"../range\").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var i=t||this.getLine(e.row).charAt(e.column-1);if(\"\"==i)return null;var n=i.match(/([\\(\\[\\{])|([\\)\\]\\}])/);return n?n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e):null},this.getBracketRange=function(e){var t,i=this.getLine(e.row),n=!0,o=i.charAt(e.column-1),r=o&&o.match(/([\\(\\[\\{])|([\\)\\]\\}])/);if(r||(o=i.charAt(e.column),e={row:e.row,column:e.column+1},r=o&&o.match(/([\\(\\[\\{])|([\\)\\]\\}])/),n=!1),!r)return null;if(r[1]){if(!(a=this.$findClosingBracket(r[1],e)))return null;t=s.fromPoints(e,a),n||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(r[2],e)))return null;t=s.fromPoints(a,e),n||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),i=t.charAt(e.column-1),n=i&&i.match(/([\\(\\[\\{])|([\\)\\]\\}])/);if(n||(i=t.charAt(e.column),e={row:e.row,column:e.column+1},n=i&&i.match(/([\\(\\[\\{])|([\\)\\]\\}])/)),!n)return null;var o=new s(e.row,e.column-1,e.row,e.column),r=n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e);return r?[o,new s(r.row,r.column,r.row,r.column+1)]:[o]},this.$brackets={\")\":\"(\",\"(\":\")\",\"]\":\"[\",\"[\":\"]\",\"{\":\"}\",\"}\":\"{\",\"<\":\">\",\">\":\"<\"},this.$findOpeningBracket=function(e,t,i){var s=this.$brackets[e],o=1,r=new n(this,t.row,t.column),a=r.getCurrentToken();if(a||(a=r.stepForward()),a){i||(i=new RegExp(\"(\\\\.?\"+a.type.replace(\".\",\"\\\\.\").replace(\"rparen\",\".paren\").replace(/\\b(?:end)\\b/,\"(?:start|begin|end)\")+\")+\"));for(var l=t.column-r.getCurrentTokenColumn()-2,h=a.value;;){for(;l>=0;){var c=h.charAt(l);if(c==s){if(0==(o-=1))return{row:r.getCurrentTokenRow(),column:l+r.getCurrentTokenColumn()}}else c==e&&(o+=1);l-=1}do{a=r.stepBackward()}while(a&&!i.test(a.type));if(null==a)break;l=(h=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,i){var s=this.$brackets[e],o=1,r=new n(this,t.row,t.column),a=r.getCurrentToken();if(a||(a=r.stepForward()),a){i||(i=new RegExp(\"(\\\\.?\"+a.type.replace(\".\",\"\\\\.\").replace(\"lparen\",\".paren\").replace(/\\b(?:start|begin)\\b/,\"(?:start|begin|end)\")+\")+\"));for(var l=t.column-r.getCurrentTokenColumn();;){for(var h=a.value,c=h.length;l<c;){var u=h.charAt(l);if(u==s){if(0==(o-=1))return{row:r.getCurrentTokenRow(),column:l+r.getCurrentTokenColumn()}}else u==e&&(o+=1);l+=1}do{a=r.stepForward()}while(a&&!i.test(a.type));if(null==a)break;l=0}return null}}}})),ace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/oop\"),s=e(\"./lib/lang\"),o=e(\"./bidihandler\").BidiHandler,r=e(\"./config\"),a=e(\"./lib/event_emitter\").EventEmitter,l=e(\"./selection\").Selection,h=e(\"./mode/text\").Mode,c=e(\"./range\").Range,u=e(\"./document\").Document,d=e(\"./background_tokenizer\").BackgroundTokenizer,g=e(\"./search_highlight\").SearchHighlight,f=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id=\"session\"+ ++f.$uid,this.$foldData.toString=function(){return this.join(\"\\n\")},this.on(\"changeFold\",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),\"object\"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new o(this),r.resetOptions(this),this.setMode(t),r._signal(\"session\",this)};f.$uid=0,function(){n.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.removeListener(\"change\",this.$onChange),this.doc=e,e.on(\"change\",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))},this.$getRowCacheIndex=function(e,t){for(var i=0,n=e.length-1;i<=n;){var s=i+n>>1,o=e[s];if(t>o)i=s+1;else{if(!(t<o))return s;n=s-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:\"removeFolds\",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal(\"change\",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var i,n=this.bgTokenizer.getTokens(e),s=0;if(null==t){var o=n.length-1;s=this.getLine(e).length}else for(o=0;o<n.length&&!((s+=n[o].value.length)>=t);o++);return(i=n[o])?(i.index=o,i.start=s-i.value.length,i):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(\" \",this.getTabSize()):\"\\t\"},this.setUseSoftTabs=function(e){this.setOption(\"useSoftTabs\",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption(\"tabSize\",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(e){this.setOption(\"navigateWithinSoftTabs\",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption(\"overwrite\",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=\"\"),this.$decorations[e]+=\" \"+t,this._signal(\"changeBreakpoint\",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||\"\").replace(\" \"+t,\"\"),this._signal(\"changeBreakpoint\",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]=\"ace_breakpoint\";this._signal(\"changeBreakpoint\",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal(\"changeBreakpoint\",{})},this.setBreakpoint=function(e,t){void 0===t&&(t=\"ace_breakpoint\"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal(\"changeBreakpoint\",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal(\"changeBreakpoint\",{})},this.addMarker=function(e,t,i,n){var s=this.$markerId++,o={range:e,type:i||\"line\",renderer:\"function\"==typeof i?i:null,clazz:t,inFront:!!n,id:s};return n?(this.$frontMarkers[s]=o,this._signal(\"changeFrontMarker\")):(this.$backMarkers[s]=o,this._signal(\"changeBackMarker\")),s},this.addDynamicMarker=function(e,t){if(e.update){var i=this.$markerId++;return e.id=i,e.inFront=!!t,t?(this.$frontMarkers[i]=e,this._signal(\"changeFrontMarker\")):(this.$backMarkers[i]=e,this._signal(\"changeBackMarker\")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?\"changeFrontMarker\":\"changeBackMarker\"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new g(null,\"ace_selected-word\",\"text\");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,i,n){\"number\"!=typeof t&&(i=t,t=e),i||(i=\"ace_step\");var s=new c(e,0,t,1/0);return s.id=this.addMarker(s,i,\"fullLine\",n),s},this.setAnnotations=function(e){this.$annotations=e,this._signal(\"changeAnnotation\",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\\r?\\n)/m);this.$autoNewLine=t?t[1]:\"\\n\"},this.getWordRange=function(e,t){var i=this.getLine(e),n=!1;if(t>0&&(n=!!i.charAt(t-1).match(this.tokenRe)),n||(n=!!i.charAt(t).match(this.tokenRe)),n)var s=this.tokenRe;else if(/^\\s+$/.test(i.slice(t-1,t+1)))s=/\\s/;else s=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&i.charAt(o).match(s));o++}for(var r=t;r<i.length&&i.charAt(r).match(s);)r++;return new c(e,o,e,r)},this.getAWordRange=function(e,t){for(var i=this.getWordRange(e,t),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \\t]/);)i.end.column+=1;return i},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption(\"useWorker\",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal(\"tokenizerUpdate\",e)},this.$modes=r.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&\"object\"===typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var i=e,n=i.path}else n=e||\"ace/mode/text\";if(this.$modes[\"ace/mode/text\"]||(this.$modes[\"ace/mode/text\"]=new h),this.$modes[n]&&!i)return this.$onChangeMode(this.$modes[n]),void(t&&t());this.$modeId=n,r.loadModule([\"mode\",n],function(e){if(this.$modeId!==n)return t&&t();this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):e&&e.Mode&&(e=new e.Mode(i),i||(this.$modes[n]=e,e.$id=n),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes[\"ace/mode/text\"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var i=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.on){var s=this.onReloadTokenizer.bind(this);n.on(\"update\",s)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new d(n);var o=this;this.bgTokenizer.on(\"update\",(function(e){o._signal(\"tokenizerUpdate\",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit(\"changeMode\",{oldMode:i,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){r.warn(\"Could not load worker\",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal(\"changeScrollTop\",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal(\"changeScrollLeft\",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,s=0,o=this.$foldData[s],r=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>r){if((l=o.end.row+1)>=a)break;r=(o=this.$foldData[s++])?o.start.row:1/0}null==i[l]&&(i[l]=this.$getStringScreenWidth(t[l])[0]),i[l]>n&&(n=i[l])}this.screenWidth=n}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=e.length-1;-1!=i;i--){var n=e[i];\"insert\"==n.action||\"remove\"==n.action?this.doc.revertDelta(n):n.folds&&this.addFolds(n.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=0;i<e.length;i++){var n=e[i];\"insert\"!=n.action&&\"remove\"!=n.action||this.doc.$safeApplyDelta(n)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function i(e){return t?\"insert\"!==e.action:\"insert\"===e.action}for(var n,s,o=0;o<e.length;o++){var r=e[o];r.start&&(n?i(r)?(s=r.start,-1==n.compare(s.row,s.column)&&n.setStart(s),s=r.end,1==n.compare(s.row,s.column)&&n.setEnd(s)):(s=r.start,-1==n.compare(s.row,s.column)&&(n=c.fromPoints(r.start,r.start))):n=i(r)?c.fromPoints(r.start,r.end):c.fromPoints(r.start,r.start))}return n},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,i){var n=this.getTextRange(e),s=this.getFoldsInRange(e),o=c.fromPoints(t,t);if(!i){this.remove(e);var r=e.start.row-e.end.row;(h=r?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=h),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=h)),r&&o.start.row>=e.end.row&&(o.start.row+=r,o.end.row+=r)}if(o.end=this.insert(o.start,n),s.length){var a=e.start,l=o.start,h=(r=l.row-a.row,l.column-a.column);this.addFolds(s.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=h),e.end.row==a.row&&(e.end.column+=h),e.start.row+=r,e.end.row+=r,e})))}return o},this.indentRows=function(e,t,i){i=i.replace(/\\t/g,this.getTabString());for(var n=e;n<=t;n++)this.doc.insertInLine({row:n,column:0},i)},this.outdentRows=function(e){for(var t=e.collapseRows(),i=new c(0,0,0,0),n=this.getTabSize(),s=t.start.row;s<=t.end.row;++s){var o=this.getLine(s);i.start.row=s,i.end.row=s;for(var r=0;r<n&&\" \"==o.charAt(r);++r);r<n&&\"\\t\"==o.charAt(r)?(i.start.column=r,i.end.column=r+1):(i.start.column=0,i.end.column=r),this.remove(i)}},this.$moveLines=function(e,t,i){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),i<0){if((s=this.getRowFoldStart(e+i))<0)return 0;var n=s-e}else if(i>0){var s;if((s=this.getRowFoldEnd(t+i))>this.doc.getLength()-1)return 0;n=s-t}else{e=this.$clipRowToDocument(e);n=(t=this.$clipRowToDocument(t))-e+1}var o=new c(e,0,t,Number.MAX_VALUE),r=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=n,e.end.row+=n,e})),a=0==i?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+n,a),r.length&&this.addFolds(r),n},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var i=this.doc.getLength();e>=i?(e=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal(\"changeWrapMode\")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal(\"changeWrapMode\"))},this.adjustWrapLimit=function(e,t){var i=this.$wrapLimitRange;i.max<0&&(i={min:t,max:t});var n=this.$constrainWrapLimit(e,i.min,i.max);return n!=this.$wrapLimit&&n>1&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal(\"changeWrapLimit\")),!0)},this.$constrainWrapLimit=function(e,t,i){return t&&(e=Math.max(t,e)),i&&(e=Math.min(i,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,i=e.action,n=e.start,s=e.end,o=n.row,r=s.row,a=r-o,l=null;if(this.$updating=!0,0!=a)if(\"remove\"===i){this[t?\"$wrapData\":\"$rowLengthCache\"].splice(o,a);var h=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var c=0;if(m=this.getFoldLine(s.row)){m.addRemoveChars(s.row,s.column,n.column-s.column),m.shiftRow(-a);var u=this.getFoldLine(o);u&&u!==m&&(u.merge(m),m=u),c=h.indexOf(m)+1}for(;c<h.length;c++){(m=h[c]).start.row>=s.row&&m.shiftRow(-a)}r=o}else{var d=Array(a);d.unshift(o,0);var g=t?this.$wrapData:this.$rowLengthCache;g.splice.apply(g,d);h=this.$foldData,c=0;if(m=this.getFoldLine(o)){var f=m.range.compareInside(n.row,n.column);0==f?(m=m.split(n.row,n.column))&&(m.shiftRow(a),m.addRemoveChars(r,0,s.column-n.column)):-1==f&&(m.addRemoveChars(o,0,s.column-n.column),m.shiftRow(a)),c=h.indexOf(m)+1}for(;c<h.length;c++){var m;(m=h[c]).start.row>=o&&m.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),\"remove\"===i&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(m=this.getFoldLine(o))&&m.addRemoveChars(o,n.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error(\"doc.getLength() and $wrapData.length have to be the same!\"),this.$updating=!1,t?this.$updateWrapData(o,r):this.$updateRowLengthCache(o,r),l},this.$updateRowLengthCache=function(e,t,i){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(i,n){var s,o,r=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,h=this.$wrapLimit,c=i;for(n=Math.min(n,r.length-1);c<=n;)(o=this.getFoldLine(c,o))?(s=[],o.walk(function(i,n,o,a){var l;if(null!=i){(l=this.$getDisplayTokens(i,s.length))[0]=e;for(var h=1;h<l.length;h++)l[h]=t}else l=this.$getDisplayTokens(r[n].substring(a,o),s.length);s=s.concat(l)}.bind(this),o.end.row,r[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(s,h,a),c=o.end.row+1):(s=this.$getDisplayTokens(r[c]),l[c]=this.$computeWrapSplits(s,h,a),c++)};var e=3,t=4;function i(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(i,n,s){if(0==i.length)return[];var o=[],r=i.length,a=0,l=0,h=this.$wrapAsCode,c=this.$indentedSoftWrap,u=n<=Math.max(2*s,8)||!1===c?0:Math.floor(n/2);function d(e){for(var t=e-a,n=a;n<e;n++){var r=i[n];12!==r&&2!==r||(t-=1)}o.length||(g=function(){var e=0;if(0===u)return e;if(c)for(var t=0;t<i.length;t++){var n=i[t];if(10==n)e+=1;else{if(11!=n){if(12==n)continue;break}e+=s}}return h&&!1!==c&&(e+=s),Math.min(e,u)}(),o.indent=g),l+=t,o.push(l),a=e}for(var g=0;r-a>n-g;){var f=a+n-g;if(i[f-1]>=10&&i[f]>=10)d(f);else if(i[f]!=e&&i[f]!=t){for(var m=Math.max(f-(n-(n>>2)),a-1);f>m&&i[f]<e;)f--;if(h){for(;f>m&&i[f]<e;)f--;for(;f>m&&9==i[f];)f--}else for(;f>m&&i[f]<10;)f--;f>m?d(++f):(2==i[f=a+n]&&f--,d(f-g))}else{for(;f!=a-1&&i[f]!=e;f--);if(f>a){d(f);continue}for(f=a+n;f<i.length&&i[f]==t;f++);if(f==i.length)break;d(f)}}return o},this.$getDisplayTokens=function(e,t){var n,s=[];t=t||0;for(var o=0;o<e.length;o++){var r=e.charCodeAt(o);if(9==r){n=this.getScreenTabSize(s.length+t),s.push(11);for(var a=1;a<n;a++)s.push(12)}else 32==r?s.push(10):r>39&&r<48||r>57&&r<64?s.push(9):r>=4352&&i(r)?s.push(1,2):s.push(1)}return s},this.$getStringScreenWidth=function(e,t,n){if(0==t)return[0,0];var s,o;for(null==t&&(t=1/0),n=n||0,o=0;o<e.length&&(9==(s=e.charCodeAt(o))?n+=this.getScreenTabSize(n):s>=4352&&i(s)?n+=2:n+=1,!(n>t));o++);return[n,o]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),i=this.$wrapData[t.row];return i.length&&i[0]<t.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var i=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(e,t){var i=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,i){if(e<0)return{row:0,column:0};var n,s,o=0,r=0,a=0,l=0,h=this.$screenRowCache,c=this.$getRowCacheIndex(h,e),u=h.length;if(u&&c>=0){a=h[c],o=this.$docRowCache[c];var d=e>h[u-1]}else d=!u;for(var g=this.getLength()-1,f=this.getNextFoldLine(o),m=f?f.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(o))>e||o>=g);)a+=l,++o>m&&(o=f.end.row+1,m=(f=this.getNextFoldLine(o,f))?f.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(f&&f.start.row<=o)n=this.getFoldDisplayLine(f),o=f.start.row;else{if(a+l<=e||o>g)return{row:g,column:this.getLine(g).length};n=this.getLine(o),f=null}var p=0,v=Math.floor(e-a);if(this.$useWrapMode){var w=this.$wrapData[o];w&&(s=w[v],v>0&&w.length&&(p=w.indent,r=w[v-1]||w[w.length-1],n=n.substring(r)))}return void 0!==i&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(t=this.$bidiHandler.offsetToCol(i)),r+=this.$getStringScreenWidth(n,t-p)[1],this.$useWrapMode&&r>=s&&(r=s-1),f?f.idxToPosition(r):{row:o,column:r}},this.documentToScreenPosition=function(e,t){if(\"undefined\"===typeof t)var i=this.$clipPositionToDocument(e.row,e.column);else i=this.$clipPositionToDocument(e,t);e=i.row,t=i.column;var n,s=0,o=null;(n=this.getFoldAt(e,t,1))&&(e=n.start.row,t=n.start.column);var r,a=0,l=this.$docRowCache,h=this.$getRowCacheIndex(l,e),c=l.length;if(c&&h>=0){a=l[h],s=this.$screenRowCache[h];var u=e>l[c-1]}else u=!c;for(var d=this.getNextFoldLine(a),g=d?d.start.row:1/0;a<e;){if(a>=g){if((r=d.end.row+1)>e)break;g=(d=this.getNextFoldLine(r,d))?d.start.row:1/0}else r=a+1;s+=this.getRowLength(a),a=r,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(s))}var f=\"\";d&&a>=g?(f=this.getFoldDisplayLine(d,e,t),o=d.start.row):(f=this.getLine(e).substring(0,t),o=e);var m=0;if(this.$useWrapMode){var p=this.$wrapData[o];if(p){for(var v=0;f.length>=p[v];)s++,v++;f=f.substring(p[v-1]||0,f.length),m=v>0?p.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(s+=this.lineWidgets[a].rowsAbove),{row:s,column:m+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,s=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);n<i;){var o=this.$wrapData[n];e+=o?o.length+1:1,++n>s&&(n=t.end.row+1,s=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var r=this.$foldData,a=0;a<r.length;a++)e-=(t=r[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,i,n){if(0===i)return[0,0];var s,o;for(i||(i=1/0),n=n||0,o=0;o<t.length&&!((n+=\"\\t\"===(s=t.charAt(o))?this.getScreenTabSize(n):e.getCharacterWidth(s))>i);o++);return[n,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=i}.call(f.prototype),e(\"./edit_session/folding\").Folding.call(f.prototype),e(\"./edit_session/bracket_match\").BracketMatch.call(f.prototype),r.defineOptions(f.prototype,\"session\",{wrap:{set:function(e){if(e&&\"off\"!=e?\"free\"==e?e=!0:\"printMargin\"==e?e=-1:\"string\"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t=\"number\"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?\"printMargin\":this.getWrapLimitRange().min?this.$wrap:\"free\":\"off\"},handlesSet:!0},wrapMethod:{set:function(e){(e=\"auto\"==e?\"text\"!=this.$mode.type:\"text\"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:\"auto\"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal(\"changeBreakpoint\")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal(\"changeTabSize\"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal(\"changeOverwrite\")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=f})),ace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/lang\"),s=e(\"./lib/oop\"),o=e(\"./range\").Range,r=function(){this.$options={}};(function(){this.set=function(e){return s.mixin(this.$options,e),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,i=this.$matchIterator(e,t);if(!i)return!1;var n=null;return i.forEach((function(e,i,s,r){return n=new o(e,i,s,r),!(i==r&&t.start&&t.start.start&&0!=t.skipCurrent&&n.isEqual(t.start))||(n=null,!1)})),n},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,s=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),r=[],a=t.re;if(t.$isMultiLine){var l,h=a.length,c=s.length-h;e:for(var u=a.offset||0;u<=c;u++){for(var d=0;d<h;d++)if(-1==s[u+d].search(a[d]))continue e;var g=s[u],f=s[u+h-1],m=g.length-g.match(a[0])[0].length,p=f.match(a[h-1])[0].length;l&&l.end.row===u&&l.end.column>m||(r.push(l=new o(u,m,u+h-1,p)),h>2&&(u=u+h-2))}}else for(var v=0;v<s.length;v++){var w=n.getMatchOffsets(s[v],a);for(d=0;d<w.length;d++){var $=w[d];r.push(new o(v,$.offset,v,$.offset+$.length))}}if(i){var b=i.start.column,y=i.start.column;for(v=0,d=r.length-1;v<d&&r[v].start.column<b&&r[v].start.row==i.start.row;)v++;for(;v<d&&r[d].end.column>y&&r[d].end.row==i.end.row;)d--;for(r=r.slice(v,d+1),v=0,d=r.length;v<d;v++)r[v].start.row+=i.start.row,r[v].end.row+=i.start.row}return r},this.replace=function(e,t){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(n){var s=n.exec(e);if(!s||s[0].length!=e.length)return null;if(t=e.replace(n,t),i.preserveCase){t=t.split(\"\");for(var o=Math.min(e.length,e.length);o--;){var r=e[o];r&&r.toLowerCase()!=r?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join(\"\")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=n.escapeRegExp(i)),e.wholeWord&&(i=function(e,t){function i(e){return/\\w/.test(e)||t.regExp?\"\\\\b\":\"\"}return i(e[0])+e+i(e[e.length-1])}(i,e));var s=e.caseSensitive?\"gm\":\"gmi\";if(e.$isMultiLine=!t&&/[\\n\\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,s);try{var o=new RegExp(i,s)}catch(r){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\\r\\n|\\r|\\n/g,\"$\\n^\").split(\"\\n\"),n=[],s=0;s<i.length;s++)try{n.push(new RegExp(i[s],t))}catch(o){return!1}return n},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return!1;var n=1==t.backwards,s=0!=t.skipCurrent,o=t.range,r=t.start;r||(r=o?o[n?\"end\":\"start\"]:e.selection.getRange()),r.start&&(r=r[s!=n?\"end\":\"start\"]);var a=o?o.start.row:0,l=o?o.end.row:e.getLength()-1;if(n)var h=function(e){var i=r.row;if(!u(i,r.column,e)){for(i--;i>=a;i--)if(u(i,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(i=l,a=r.row;i>=a;i--)if(u(i,Number.MAX_VALUE,e))return}};else h=function(e){var i=r.row;if(!u(i,r.column,e)){for(i+=1;i<=l;i++)if(u(i,0,e))return;if(0!=t.wrap)for(i=a,l=r.row;i<=l;i++)if(u(i,0,e))return}};if(t.$isMultiLine)var c=i.length,u=function(t,s,o){var r=n?t-c+1:t;if(!(r<0)){var a=e.getLine(r),l=a.search(i[0]);if(!(!n&&l<s||-1===l)){for(var h=1;h<c;h++)if(-1==(a=e.getLine(r+h)).search(i[h]))return;var u=a.match(i[c-1])[0].length;if(!(n&&u>s))return!!o(r,l,r+c-1,u)||void 0}}};else if(n)u=function(t,n,s){var o,r=e.getLine(t),a=[],l=0;for(i.lastIndex=0;o=i.exec(r);){var h=o[0].length;if(l=o.index,!h){if(l>=r.length)break;i.lastIndex=l+=1}if(o.index+h>n)break;a.push(o.index,h)}for(var c=a.length-1;c>=0;c-=2){var u=a[c-1];if(s(t,u,t,u+(h=a[c])))return!0}};else u=function(t,n,s){var o,r,a=e.getLine(t);for(i.lastIndex=n;r=i.exec(a);){var l=r[0].length;if(s(t,o=r.index,t,o+l))return!0;if(!l&&(i.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:h}}}).call(r.prototype),t.Search=r})),ace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/keys\"),s=e(\"../lib/useragent\"),o=n.KEY_MODS;function r(e,t){this.platform=t||(s.isMac?\"mac\":\"win\"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){r.call(this,e,t),this.$singleCommand=!1}a.prototype=r.prototype,function(){function e(e){return\"object\"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var i=e&&(\"string\"===typeof e?e:e.name);e=this.commands[i],t||delete this.commands[i];var n=this.commandKeyBinding;for(var s in n){var o=n[s];if(o==e)delete n[s];else if(Array.isArray(o)){var r=o.indexOf(e);-1!=r&&(o.splice(r,1),1==o.length&&(n[s]=o[0]))}}},this.bindKey=function(e,t,i){if(\"object\"==typeof e&&e&&(void 0==i&&(i=e.position),e=e[this.platform]),e)return\"function\"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split(\"|\").forEach((function(e){var n=\"\";if(-1!=e.indexOf(\" \")){var s=e.split(/\\s+/);e=s.pop(),s.forEach((function(e){var t=this.parseKeys(e),i=o[t.hashId]+t.key;n+=(n?\" \":\"\")+i,this._addCommandToBinding(n,\"chainKeys\")}),this),n+=\" \"}var r=this.parseKeys(e),a=o[r.hashId]+r.key;this._addCommandToBinding(n+a,t,i)}),this)},this._addCommandToBinding=function(t,i,n){var s,o=this.commandKeyBinding;if(i)if(!o[t]||this.$singleCommand)o[t]=i;else{Array.isArray(o[t])?-1!=(s=o[t].indexOf(i))&&o[t].splice(s,1):o[t]=[o[t]],\"number\"!=typeof n&&(n=e(i));var r=o[t];for(s=0;s<r.length;s++){if(e(r[s])>n)break}r.splice(s,0,i)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var i=e[t];if(i){if(\"string\"===typeof i)return this.bindKey(i,t);\"function\"===typeof i&&(i={exec:i}),\"object\"===typeof i&&(i.name||(i.name=t),this.addCommand(i))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter((function(e){return e})),i=t.pop(),s=n[i];if(n.FUNCTION_KEYS[s])i=n.FUNCTION_KEYS[s].toLowerCase();else{if(!t.length)return{key:i,hashId:-1};if(1==t.length&&\"shift\"==t[0])return{key:i.toUpperCase(),hashId:-1}}for(var o=0,r=t.length;r--;){var a=n.KEY_MODS[t[r]];if(null==a)return\"undefined\"!=typeof console&&console.error(\"invalid modifier \"+t[r]+\" in \"+e),!1;o|=a}return{key:i,hashId:o}},this.findKeyCommand=function(e,t){var i=o[e]+t;return this.commandKeyBinding[i]},this.handleKeyboard=function(e,t,i,n){if(!(n<0)){var s=o[t]+i,r=this.commandKeyBinding[s];return e.$keyChain&&(e.$keyChain+=\" \"+s,r=this.commandKeyBinding[e.$keyChain]||r),!r||\"chainKeys\"!=r&&\"chainKeys\"!=r[r.length-1]?(e.$keyChain&&(t&&4!=t||1!=i.length?(-1==t||n>0)&&(e.$keyChain=\"\"):e.$keyChain=e.$keyChain.slice(0,-s.length-1)),{command:r}):(e.$keyChain=e.$keyChain||s,{command:\"null\"})}},this.getStatusText=function(e,t){return t.$keyChain||\"\"}}.call(r.prototype),t.HashHandler=r,t.MultiHashHandler=a})),ace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/oop\"),s=e(\"../keyboard/hash_handler\").MultiHashHandler,o=e(\"../lib/event_emitter\").EventEmitter,r=function(e,t){s.call(this,t,e),this.byName=this.commands,this.setDefaultHandler(\"exec\",(function(e){return e.command.exec(e.editor,e.args||{})}))};n.inherits(r,s),function(){n.implement(this,o),this.exec=function(e,t,i){if(Array.isArray(e)){for(var n=e.length;n--;)if(this.exec(e[n],t,i))return!0;return!1}if(\"string\"===typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var s={editor:t,command:e,args:i};return s.returnValue=this._emit(\"exec\",s),this._signal(\"afterExec\",s),!1!==s.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit(\"changeStatus\"),this.recording?(this.macro.pop(),this.off(\"exec\",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on(\"exec\",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){\"string\"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return\"string\"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(r.prototype),t.CommandManager=r})),ace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/lang\"),s=e(\"../config\"),o=e(\"../range\").Range;function r(e,t){return{win:e,mac:t}}t.commands=[{name:\"showSettingsMenu\",bindKey:r(\"Ctrl-,\",\"Command-,\"),exec:function(e){s.loadModule(\"ace/ext/settings_menu\",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:\"goToNextError\",bindKey:r(\"Alt-E\",\"F4\"),exec:function(e){s.loadModule(\"./ext/error_marker\",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:\"animate\",readOnly:!0},{name:\"goToPreviousError\",bindKey:r(\"Alt-Shift-E\",\"Shift-F4\"),exec:function(e){s.loadModule(\"./ext/error_marker\",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:\"animate\",readOnly:!0},{name:\"selectall\",description:\"Select all\",bindKey:r(\"Ctrl-A\",\"Command-A\"),exec:function(e){e.selectAll()},readOnly:!0},{name:\"centerselection\",description:\"Center selection\",bindKey:r(null,\"Ctrl-L\"),exec:function(e){e.centerSelection()},readOnly:!0},{name:\"gotoline\",description:\"Go to line...\",bindKey:r(\"Ctrl-L\",\"Command-L\"),exec:function(e,t){\"number\"!==typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:\"gotoLine\"})},readOnly:!0},{name:\"fold\",bindKey:r(\"Alt-L|Ctrl-F1\",\"Command-Alt-L|Command-F1\"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"unfold\",bindKey:r(\"Alt-Shift-L|Ctrl-Shift-F1\",\"Command-Alt-Shift-L|Command-Shift-F1\"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"toggleFoldWidget\",bindKey:r(\"F2\",\"F2\"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"toggleParentFoldWidget\",bindKey:r(\"Alt-F2\",\"Alt-F2\"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"foldall\",description:\"Fold all\",bindKey:r(null,\"Ctrl-Command-Option-0\"),exec:function(e){e.session.foldAll()},scrollIntoView:\"center\",readOnly:!0},{name:\"foldAllComments\",description:\"Fold all comments\",bindKey:r(null,\"Ctrl-Command-Option-0\"),exec:function(e){e.session.foldAllComments()},scrollIntoView:\"center\",readOnly:!0},{name:\"foldOther\",description:\"Fold other\",bindKey:r(\"Alt-0\",\"Command-Option-0\"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:\"center\",readOnly:!0},{name:\"unfoldall\",description:\"Unfold all\",bindKey:r(\"Alt-Shift-0\",\"Command-Option-Shift-0\"),exec:function(e){e.session.unfold()},scrollIntoView:\"center\",readOnly:!0},{name:\"findnext\",description:\"Find next\",bindKey:r(\"Ctrl-K\",\"Command-G\"),exec:function(e){e.findNext()},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"findprevious\",description:\"Find previous\",bindKey:r(\"Ctrl-Shift-K\",\"Command-Shift-G\"),exec:function(e){e.findPrevious()},multiSelectAction:\"forEach\",scrollIntoView:\"center\",readOnly:!0},{name:\"selectOrFindNext\",description:\"Select or find next\",bindKey:r(\"Alt-K\",\"Ctrl-G\"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:\"selectOrFindPrevious\",description:\"Select or find previous\",bindKey:r(\"Alt-Shift-K\",\"Ctrl-Shift-G\"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:\"find\",description:\"Find\",bindKey:r(\"Ctrl-F\",\"Command-F\"),exec:function(e){s.loadModule(\"ace/ext/searchbox\",(function(t){t.Search(e)}))},readOnly:!0},{name:\"overwrite\",description:\"Overwrite\",bindKey:\"Insert\",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:\"selecttostart\",description:\"Select to start\",bindKey:r(\"Ctrl-Shift-Home\",\"Command-Shift-Home|Command-Shift-Up\"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"gotostart\",description:\"Go to start\",bindKey:r(\"Ctrl-Home\",\"Command-Home|Command-Up\"),exec:function(e){e.navigateFileStart()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"selectup\",description:\"Select up\",bindKey:r(\"Shift-Up\",\"Shift-Up|Ctrl-Shift-P\"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"golineup\",description:\"Go line up\",bindKey:r(\"Up\",\"Up|Ctrl-P\"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selecttoend\",description:\"Select to end\",bindKey:r(\"Ctrl-Shift-End\",\"Command-Shift-End|Command-Shift-Down\"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"gotoend\",description:\"Go to end\",bindKey:r(\"Ctrl-End\",\"Command-End|Command-Down\"),exec:function(e){e.navigateFileEnd()},multiSelectAction:\"forEach\",readOnly:!0,scrollIntoView:\"animate\",aceCommandGroup:\"fileJump\"},{name:\"selectdown\",description:\"Select down\",bindKey:r(\"Shift-Down\",\"Shift-Down|Ctrl-Shift-N\"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"golinedown\",description:\"Go line down\",bindKey:r(\"Down\",\"Down|Ctrl-N\"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectwordleft\",description:\"Select word left\",bindKey:r(\"Ctrl-Shift-Left\",\"Option-Shift-Left\"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotowordleft\",description:\"Go to word left\",bindKey:r(\"Ctrl-Left\",\"Option-Left\"),exec:function(e){e.navigateWordLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selecttolinestart\",description:\"Select to line start\",bindKey:r(\"Alt-Shift-Left\",\"Command-Shift-Left|Ctrl-Shift-A\"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotolinestart\",description:\"Go to line start\",bindKey:r(\"Alt-Left|Home\",\"Command-Left|Home|Ctrl-A\"),exec:function(e){e.navigateLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectleft\",description:\"Select left\",bindKey:r(\"Shift-Left\",\"Shift-Left|Ctrl-Shift-B\"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotoleft\",description:\"Go to left\",bindKey:r(\"Left\",\"Left|Ctrl-B\"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectwordright\",description:\"Select word right\",bindKey:r(\"Ctrl-Shift-Right\",\"Option-Shift-Right\"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotowordright\",description:\"Go to word right\",bindKey:r(\"Ctrl-Right\",\"Option-Right\"),exec:function(e){e.navigateWordRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selecttolineend\",description:\"Select to line end\",bindKey:r(\"Alt-Shift-Right\",\"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotolineend\",description:\"Go to line end\",bindKey:r(\"Alt-Right|End\",\"Command-Right|End|Ctrl-E\"),exec:function(e){e.navigateLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectright\",description:\"Select right\",bindKey:r(\"Shift-Right\",\"Shift-Right\"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"gotoright\",description:\"Go to right\",bindKey:r(\"Right\",\"Right|Ctrl-F\"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectpagedown\",description:\"Select page down\",bindKey:\"Shift-PageDown\",exec:function(e){e.selectPageDown()},readOnly:!0},{name:\"pagedown\",description:\"Page down\",bindKey:r(null,\"Option-PageDown\"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:\"gotopagedown\",description:\"Go to page down\",bindKey:r(\"PageDown\",\"PageDown|Ctrl-V\"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:\"selectpageup\",description:\"Select page up\",bindKey:\"Shift-PageUp\",exec:function(e){e.selectPageUp()},readOnly:!0},{name:\"pageup\",description:\"Page up\",bindKey:r(null,\"Option-PageUp\"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:\"gotopageup\",description:\"Go to page up\",bindKey:\"PageUp\",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:\"scrollup\",description:\"Scroll up\",bindKey:r(\"Ctrl-Up\",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:\"scrolldown\",description:\"Scroll down\",bindKey:r(\"Ctrl-Down\",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:\"selectlinestart\",description:\"Select line start\",bindKey:\"Shift-Home\",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectlineend\",description:\"Select line end\",bindKey:\"Shift-End\",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"togglerecording\",description:\"Toggle recording\",bindKey:r(\"Ctrl-Alt-E\",\"Command-Option-E\"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:\"replaymacro\",description:\"Replay macro\",bindKey:r(\"Ctrl-Shift-E\",\"Command-Shift-E\"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:\"jumptomatching\",description:\"Jump to matching\",bindKey:r(\"Ctrl-\\\\|Ctrl-P\",\"Command-\\\\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:\"forEach\",scrollIntoView:\"animate\",readOnly:!0},{name:\"selecttomatching\",description:\"Select to matching\",bindKey:r(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\",\"Command-Shift-\\\\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:\"forEach\",scrollIntoView:\"animate\",readOnly:!0},{name:\"expandToMatching\",description:\"Expand to matching\",bindKey:r(\"Ctrl-Shift-M\",\"Ctrl-Shift-M\"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:\"forEach\",scrollIntoView:\"animate\",readOnly:!0},{name:\"passKeysToBrowser\",description:\"Pass keys to browser\",bindKey:r(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:\"copy\",description:\"Copy\",exec:function(e){},readOnly:!0},{name:\"cut\",description:\"Cut\",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit(\"cut\",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"paste\",description:\"Paste\",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:\"cursor\"},{name:\"removeline\",description:\"Remove line\",bindKey:r(\"Ctrl-D\",\"Command-D\"),exec:function(e){e.removeLines()},scrollIntoView:\"cursor\",multiSelectAction:\"forEachLine\"},{name:\"duplicateSelection\",description:\"Duplicate selection\",bindKey:r(\"Ctrl-Shift-D\",\"Command-Shift-D\"),exec:function(e){e.duplicateSelection()},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"sortlines\",description:\"Sort lines\",bindKey:r(\"Ctrl-Alt-S\",\"Command-Alt-S\"),exec:function(e){e.sortLines()},scrollIntoView:\"selection\",multiSelectAction:\"forEachLine\"},{name:\"togglecomment\",description:\"Toggle comment\",bindKey:r(\"Ctrl-/\",\"Command-/\"),exec:function(e){e.toggleCommentLines()},multiSelectAction:\"forEachLine\",scrollIntoView:\"selectionPart\"},{name:\"toggleBlockComment\",description:\"Toggle block comment\",bindKey:r(\"Ctrl-Shift-/\",\"Command-Shift-/\"),exec:function(e){e.toggleBlockComment()},multiSelectAction:\"forEach\",scrollIntoView:\"selectionPart\"},{name:\"modifyNumberUp\",description:\"Modify number up\",bindKey:r(\"Ctrl-Shift-Up\",\"Alt-Shift-Up\"),exec:function(e){e.modifyNumber(1)},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"modifyNumberDown\",description:\"Modify number down\",bindKey:r(\"Ctrl-Shift-Down\",\"Alt-Shift-Down\"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:\"cursor\",multiSelectAction:\"forEach\"},{name:\"replace\",description:\"Replace\",bindKey:r(\"Ctrl-H\",\"Command-Option-F\"),exec:function(e){s.loadModule(\"ace/ext/searchbox\",(function(t){t.Search(e,!0)}))}},{name:\"undo\",description:\"Undo\",bindKey:r(\"Ctrl-Z\",\"Command-Z\"),exec:function(e){e.undo()}},{name:\"redo\",description:\"Redo\",bindKey:r(\"Ctrl-Shift-Z|Ctrl-Y\",\"Command-Shift-Z|Command-Y\"),exec:function(e){e.redo()}},{name:\"copylinesup\",description:\"Copy lines up\",bindKey:r(\"Alt-Shift-Up\",\"Command-Option-Up\"),exec:function(e){e.copyLinesUp()},scrollIntoView:\"cursor\"},{name:\"movelinesup\",description:\"Move lines up\",bindKey:r(\"Alt-Up\",\"Option-Up\"),exec:function(e){e.moveLinesUp()},scrollIntoView:\"cursor\"},{name:\"copylinesdown\",description:\"Copy lines down\",bindKey:r(\"Alt-Shift-Down\",\"Command-Option-Down\"),exec:function(e){e.copyLinesDown()},scrollIntoView:\"cursor\"},{name:\"movelinesdown\",description:\"Move lines down\",bindKey:r(\"Alt-Down\",\"Option-Down\"),exec:function(e){e.moveLinesDown()},scrollIntoView:\"cursor\"},{name:\"del\",description:\"Delete\",bindKey:r(\"Delete\",\"Delete|Ctrl-D|Shift-Delete\"),exec:function(e){e.remove(\"right\")},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"backspace\",description:\"Backspace\",bindKey:r(\"Shift-Backspace|Backspace\",\"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),exec:function(e){e.remove(\"left\")},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"cut_or_delete\",description:\"Cut or delete\",bindKey:r(\"Shift-Delete\",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove(\"left\")},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removetolinestart\",description:\"Remove to line start\",bindKey:r(\"Alt-Backspace\",\"Command-Backspace\"),exec:function(e){e.removeToLineStart()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removetolineend\",description:\"Remove to line end\",bindKey:r(\"Alt-Delete\",\"Ctrl-K|Command-Delete\"),exec:function(e){e.removeToLineEnd()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removetolinestarthard\",description:\"Remove to line start hard\",bindKey:r(\"Ctrl-Shift-Backspace\",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removetolineendhard\",description:\"Remove to line end hard\",bindKey:r(\"Ctrl-Shift-Delete\",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removewordleft\",description:\"Remove word left\",bindKey:r(\"Ctrl-Backspace\",\"Alt-Backspace|Ctrl-Alt-Backspace\"),exec:function(e){e.removeWordLeft()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"removewordright\",description:\"Remove word right\",bindKey:r(\"Ctrl-Delete\",\"Alt-Delete\"),exec:function(e){e.removeWordRight()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"outdent\",description:\"Outdent\",bindKey:r(\"Shift-Tab\",\"Shift-Tab\"),exec:function(e){e.blockOutdent()},multiSelectAction:\"forEach\",scrollIntoView:\"selectionPart\"},{name:\"indent\",description:\"Indent\",bindKey:r(\"Tab\",\"Tab\"),exec:function(e){e.indent()},multiSelectAction:\"forEach\",scrollIntoView:\"selectionPart\"},{name:\"blockoutdent\",description:\"Block outdent\",bindKey:r(\"Ctrl-[\",\"Ctrl-[\"),exec:function(e){e.blockOutdent()},multiSelectAction:\"forEachLine\",scrollIntoView:\"selectionPart\"},{name:\"blockindent\",description:\"Block indent\",bindKey:r(\"Ctrl-]\",\"Ctrl-]\"),exec:function(e){e.blockIndent()},multiSelectAction:\"forEachLine\",scrollIntoView:\"selectionPart\"},{name:\"insertstring\",description:\"Insert string\",exec:function(e,t){e.insert(t)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"inserttext\",description:\"Insert text\",exec:function(e,t){e.insert(n.stringRepeat(t.text||\"\",t.times||1))},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"splitline\",description:\"Split line\",bindKey:r(null,\"Ctrl-O\"),exec:function(e){e.splitLine()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"transposeletters\",description:\"Transpose letters\",bindKey:r(\"Alt-Shift-X\",\"Ctrl-T\"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:\"cursor\"},{name:\"touppercase\",description:\"To uppercase\",bindKey:r(\"Ctrl-U\",\"Ctrl-U\"),exec:function(e){e.toUpperCase()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"tolowercase\",description:\"To lowercase\",bindKey:r(\"Ctrl-Shift-U\",\"Ctrl-Shift-U\"),exec:function(e){e.toLowerCase()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"autoindent\",description:\"Auto Indent\",bindKey:r(null,null),exec:function(e){e.autoIndent()},multiSelectAction:\"forEachLine\",scrollIntoView:\"animate\"},{name:\"expandtoline\",description:\"Expand to line\",bindKey:r(\"Ctrl-Shift-L\",\"Command-Shift-L\"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\",readOnly:!0},{name:\"joinlines\",description:\"Join lines\",bindKey:r(null,null),exec:function(e){for(var t=e.selection.isBackwards(),i=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),s=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),r=e.session.doc.getLine(i.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\\n\\s*/,\" \").length,l=e.session.doc.getLine(i.row),h=i.row+1;h<=s.row+1;h++){var c=n.stringTrimLeft(n.stringTrimRight(e.session.doc.getLine(h)));0!==c.length&&(c=\" \"+c),l+=c}s.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(i.row,0,s.row+2,0),l),a>0?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+a)):(r=e.session.doc.getLine(i.row).length>r?r+1:r,e.selection.moveCursorTo(i.row,r))},multiSelectAction:\"forEach\",readOnly:!0},{name:\"invertSelection\",description:\"Invert selection\",bindKey:r(null,null),exec:function(e){var t=e.session.doc.getLength()-1,i=e.session.doc.getLine(t).length,n=e.selection.rangeList.ranges,s=[];n.length<1&&(n=[e.selection.getRange()]);for(var r=0;r<n.length;r++)r==n.length-1&&(n[r].end.row===t&&n[r].end.column===i||s.push(new o(n[r].end.row,n[r].end.column,t,i))),0===r?0===n[r].start.row&&0===n[r].start.column||s.push(new o(0,0,n[r].start.row,n[r].start.column)):s.push(new o(n[r-1].end.row,n[r-1].end.column,n[r].start.row,n[r].start.column));e.exitMultiSelectMode(),e.clearSelection();for(r=0;r<s.length;r++)e.selection.addRange(s[r],!1)},readOnly:!0,scrollIntoView:\"none\"},{name:\"addLineAfter\",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert(\"\\n\")},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"addLineBefore\",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert(\"\\n\"),0===t.row&&e.navigateUp()},multiSelectAction:\"forEach\",scrollIntoView:\"cursor\"},{name:\"openCommandPallete\",description:\"Open command pallete\",bindKey:r(\"F1\",\"F1\"),exec:function(e){e.prompt({$type:\"commands\"})},readOnly:!0},{name:\"modeSelect\",description:\"Change language mode...\",bindKey:r(null,null),exec:function(e){e.prompt({$type:\"modes\"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:\"foldToLevel\"+a,description:\"Fold To Level \"+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:\"center\",readOnly:!0})})),ace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/clipboard\"],(function(e,t,i){\"use strict\";e(\"./lib/fixoldbrowsers\");var n=e(\"./lib/oop\"),s=e(\"./lib/dom\"),o=e(\"./lib/lang\"),r=e(\"./lib/useragent\"),a=e(\"./keyboard/textinput\").TextInput,l=e(\"./mouse/mouse_handler\").MouseHandler,h=e(\"./mouse/fold_handler\").FoldHandler,c=e(\"./keyboard/keybinding\").KeyBinding,u=e(\"./edit_session\").EditSession,d=e(\"./search\").Search,g=e(\"./range\").Range,f=e(\"./lib/event_emitter\").EventEmitter,m=e(\"./commands/command_manager\").CommandManager,p=e(\"./commands/default_commands\").commands,v=e(\"./config\"),w=e(\"./token_iterator\").TokenIterator,$=e(\"./clipboard\"),b=function(e,t,i){this.$toDestroy=[];var n=e.getContainerElement();this.container=n,this.renderer=e,this.id=\"editor\"+ ++b.$uid,this.commands=new m(r.isMac?\"mac\":\"win\",p),\"object\"==typeof document&&(this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new h(this)),this.keyBinding=new c(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on(\"exec\",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal(\"input\",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on(\"change\",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||i&&i.session||new u(\"\")),v.resetOptions(this),i&&this.setOptions(i),v._signal(\"editor\",this)};b.$uid=0,function(){n.implement(this,f),this.$initOperationListeners=function(){this.commands.on(\"exec\",this.startOperation.bind(this),!0),this.commands.on(\"afterExec\",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on(\"change\",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on(\"changeSelection\",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&\"mouse\"==this.curOp.command.name)return;if(this._signal(\"beforeEndOperation\"),!this.curOp)return;var t=this.curOp.command,i=t&&t.scrollIntoView;if(i){switch(i){case\"center-animate\":i=\"animate\";case\"center\":this.renderer.scrollCursorIntoView(null,.5);break;case\"animate\":case\"cursor\":this.renderer.scrollCursorIntoView();break;case\"selectionPart\":var n=this.selection.getRange(),s=this.renderer.layerConfig;(n.start.row>=s.lastRow||n.end.row<=s.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}\"animate\"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=[\"backspace\",\"del\",\"insertstring\"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,i=this.$mergeableCommands,n=t.command&&e.command.name==t.command.name;if(\"insertstring\"==e.command.name){var s=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\\s/.test(s)||/\\s/.test(t.args)),this.mergeNextCommand=!0}else n=n&&-1!==i.indexOf(e.command.name);\"always\"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&\"string\"===typeof e&&\"ace\"!=e){this.$keybindingId=e;var i=this;v.loadModule([\"keybinding\",e],(function(n){i.$keybindingId==e&&i.keyBinding.setKeyboardHandler(n&&n.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off(\"change\",this.$onDocumentChange),this.session.off(\"changeMode\",this.$onChangeMode),this.session.off(\"tokenizerUpdate\",this.$onTokenizerUpdate),this.session.off(\"changeTabSize\",this.$onChangeTabSize),this.session.off(\"changeWrapLimit\",this.$onChangeWrapLimit),this.session.off(\"changeWrapMode\",this.$onChangeWrapMode),this.session.off(\"changeFold\",this.$onChangeFold),this.session.off(\"changeFrontMarker\",this.$onChangeFrontMarker),this.session.off(\"changeBackMarker\",this.$onChangeBackMarker),this.session.off(\"changeBreakpoint\",this.$onChangeBreakpoint),this.session.off(\"changeAnnotation\",this.$onChangeAnnotation),this.session.off(\"changeOverwrite\",this.$onCursorChange),this.session.off(\"changeScrollTop\",this.$onScrollTopChange),this.session.off(\"changeScrollLeft\",this.$onScrollLeftChange);var i=this.session.getSelection();i.off(\"changeCursor\",this.$onCursorChange),i.off(\"changeSelection\",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on(\"change\",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on(\"changeMode\",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on(\"tokenizerUpdate\",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on(\"changeTabSize\",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on(\"changeWrapLimit\",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on(\"changeWrapMode\",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on(\"changeFold\",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on(\"changeFrontMarker\",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on(\"changeBackMarker\",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on(\"changeBreakpoint\",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on(\"changeAnnotation\",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on(\"changeOverwrite\",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on(\"changeScrollTop\",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on(\"changeScrollLeft\",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on(\"changeCursor\",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on(\"changeSelection\",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal(\"changeSession\",{session:e,oldSession:t}),this.curOp=null,t&&t._signal(\"changeEditor\",{oldEditor:this}),e&&e._signal(\"changeEditor\",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption(\"fontSize\")||s.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption(\"fontSize\",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var i=t.getMatchingBracketRanges(e.getCursorPosition());if(!i&&t.$mode.getMatching&&(i=t.$mode.getMatching(e.session)),i){var n=\"ace_bracket\";Array.isArray(i)?1==i.length&&(n=\"ace_error_bracket\"):i=[i],2==i.length&&(0==g.comparePoints(i[0].end,i[1].start)?i=[g.fromPoints(i[0].start,i[1].end)]:0==g.comparePoints(i[0].start,i[1].end)&&(i=[g.fromPoints(i[1].start,i[0].end)])),t.$bracketHighlight={ranges:i,markerIds:i.map((function(e){return t.addMarker(e,n,\"text\")}))}}}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var i=e.getCursorPosition(),n=new w(e.session,i.row,i.column),s=n.getCurrentToken();if(!s||!/\\b(?:tag-open|tag-name)/.test(s.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===s.type.indexOf(\"tag-open\")||(s=n.stepForward())){var o=s.value,r=s.value,a=0,l=n.stepBackward();if(\"<\"===l.value)do{l=s,(s=n.stepForward())&&(-1!==s.type.indexOf(\"tag-name\")?o===(r=s.value)&&(\"<\"===l.value?a++:\"</\"===l.value&&a--):o===r&&\"/>\"===s.value&&a--)}while(s&&a>=0);else{do{if(s=l,l=n.stepBackward(),s)if(-1!==s.type.indexOf(\"tag-name\"))o===s.value&&(\"<\"===l.value?a++:\"</\"===l.value&&a--);else if(\"/>\"===s.value){for(var h=0,c=l;c;){if(-1!==c.type.indexOf(\"tag-name\")&&c.value===o){a--;break}if(\"<\"===c.value)break;c=n.stepBackward(),h++}for(var u=0;u<h;u++)n.stepForward()}}while(l&&a<=0);n.stepForward()}if(!s)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var d=n.getCurrentTokenRow(),f=n.getCurrentTokenColumn(),m=new g(d,f,d,f+s.value.length),p=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&void 0!=p&&0!==m.compareRange(p.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(m,\"ace_bracket\",\"text\"))}}}),50)}},this.focus=function(){var e=this;setTimeout((function(){e.isFocused()||e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit(\"focus\",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit(\"blur\",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,i=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,i,t),this._signal(\"change\",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal(\"changeSelection\")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&(\"line\"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var i=new g(e.row,e.column,e.row,1/0);i.id=t.addMarker(i,\"ace_active-line\",\"screenLine\"),t.$highlightLineMarker=i}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal(\"changeBackMarker\"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(i,\"ace_selection\",n)}var s=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(s),this._signal(\"changeSelection\")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var i=t.start.column,n=t.end.column,s=e.getLine(t.start.row),o=s.substring(i,n);if(!(o.length>5e3)&&/[\\w\\d]/.test(o)){var r=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=s.substring(i-1,n+1);if(r.test(a))return r}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit(\"changeMode\",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),i=!1;if(!e&&this.$copyWithEmptySelection){i=!0;for(var n=this.selection.getAllRanges(),s=0;s<n.length;s++){var o=n[s];s&&n[s-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var r={text:e};return this._signal(\"copy\",r),$.lineMode=i?r.text:\"\",r.text},this.onCopy=function(){this.commands.exec(\"copy\",this)},this.onCut=function(){this.commands.exec(\"cut\",this)},this.onPaste=function(e,t){var i={text:e,event:t};this.commands.exec(\"paste\",this,i)},this.$handlePaste=function(e){\"string\"==typeof e&&(e={text:e}),this._signal(\"paste\",e);var t=e.text,i=t==$.lineMode,n=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)i?n.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(i)this.selection.rangeList.ranges.forEach((function(e){n.insert({row:e.start.row,column:0},t)}));else{var s=t.split(/\\r\\n|\\r|\\n/),o=this.selection.rangeList.ranges,r=2==s.length&&(!s[0]||!s[1]);if(s.length!=o.length||r)return this.commands.exec(\"insertstring\",this,t);for(var a=o.length;a--;){var l=o[a];l.isEmpty()||n.remove(l),n.insert(l.start,s[a])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var i=this.session,n=i.getMode(),s=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=n.transformAction(i.getState(s.row),\"insertion\",this,i,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if(\"\\t\"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf(\"\\n\")){(r=new g.fromPoints(s,s)).end.column+=e.length,this.session.remove(r)}}else{var r=this.getSelectionRange();s=this.session.remove(r),this.clearSelection()}if(\"\\n\"==e||\"\\r\\n\"==e){var a=i.getLine(s.row);if(s.column>a.search(/\\S|$/)){var l=a.substr(s.column).search(/\\S|$/);i.doc.removeInLine(s.row,s.column,s.column+l)}}this.clearSelection();var h=s.column,c=i.getState(s.row),u=(a=i.getLine(s.row),n.checkOutdent(c,a,e));if(i.insert(s,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new g(s.row,h+o.selection[0],s.row,h+o.selection[1])):this.selection.setSelectionRange(new g(s.row+o.selection[0],o.selection[1],s.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(i.getDocument().isNewLine(e)){var d=n.getNextLineIndent(c,a.slice(0,s.column),i.getTabString());i.insert({row:s.row+1,column:0},d)}u&&n.autoOutdent(c,i,s.row)}},this.autoIndent=function(){var e,t,i=this.session,n=i.getMode();if(this.selection.isEmpty())e=0,t=i.doc.getLength()-1;else{var s=this.getSelectionRange();e=s.start.row,t=s.end.row}for(var o,r,a,l=\"\",h=\"\",c=\"\",u=i.getTabString(),d=e;d<=t;d++)d>0&&(l=i.getState(d-1),h=i.getLine(d-1),c=n.getNextLineIndent(l,h,u)),o=i.getLine(d),c!==(r=n.$getIndent(o))&&(r.length>0&&(a=new g(d,0,d,r.length),i.remove(a)),c.length>0&&i.insert({row:d,column:0},c)),n.autoOutdent(l,i,d)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:\"insertstring\"}});var i=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(i):i(),this.endOperation()},this.applyComposition=function(e,t){var i;(t.extendLeft||t.extendRight)&&((i=this.selection.getRange()).start.column-=t.extendLeft,i.end.column+=t.extendRight,i.start.column<0&&(i.start.row--,i.start.column+=this.session.getLine(i.start.row).length+1),this.selection.setRange(i),e||i.isEmpty()||this.remove());(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((i=this.selection.getRange()).start.column-=t.restoreStart,i.end.column-=t.restoreEnd,this.selection.setRange(i))},this.onCommandKey=function(e,t,i){return this.keyBinding.onCommandKey(e,t,i)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption(\"scrollSpeed\",e)},this.getScrollSpeed=function(){return this.getOption(\"scrollSpeed\")},this.setDragDelay=function(e){this.setOption(\"dragDelay\",e)},this.getDragDelay=function(){return this.getOption(\"dragDelay\")},this.setSelectionStyle=function(e){this.setOption(\"selectionStyle\",e)},this.getSelectionStyle=function(){return this.getOption(\"selectionStyle\")},this.setHighlightActiveLine=function(e){this.setOption(\"highlightActiveLine\",e)},this.getHighlightActiveLine=function(){return this.getOption(\"highlightActiveLine\")},this.setHighlightGutterLine=function(e){this.setOption(\"highlightGutterLine\",e)},this.getHighlightGutterLine=function(){return this.getOption(\"highlightGutterLine\")},this.setHighlightSelectedWord=function(e){this.setOption(\"highlightSelectedWord\",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption(\"readOnly\",e)},this.getReadOnly=function(){return this.getOption(\"readOnly\")},this.setBehavioursEnabled=function(e){this.setOption(\"behavioursEnabled\",e)},this.getBehavioursEnabled=function(){return this.getOption(\"behavioursEnabled\")},this.setWrapBehavioursEnabled=function(e){this.setOption(\"wrapBehavioursEnabled\",e)},this.getWrapBehavioursEnabled=function(){return this.getOption(\"wrapBehavioursEnabled\")},this.setShowFoldWidgets=function(e){this.setOption(\"showFoldWidgets\",e)},this.getShowFoldWidgets=function(){return this.getOption(\"showFoldWidgets\")},this.setFadeFoldWidgets=function(e){this.setOption(\"fadeFoldWidgets\",e)},this.getFadeFoldWidgets=function(){return this.getOption(\"fadeFoldWidgets\")},this.remove=function(e){this.selection.isEmpty()&&(\"left\"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,n=i.getState(t.start.row),s=i.getMode().transformAction(n,\"deletion\",this,i,t);if(0===t.end.column){var o=i.getTextRange(t);if(\"\\n\"==o[o.length-1]){var r=i.getLine(t.end.row);/^\\s+$/.test(r)&&(t.end.column=r.length)}}s&&(t=s)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert(\"\\n\"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var i,n,s=this.session.getLine(e.row);t<s.length?(i=s.charAt(t)+s.charAt(t-1),n=new g(e.row,t-1,e.row,t+1)):(i=s.charAt(t-1)+s.charAt(t-2),n=new g(e.row,t-2,e.row,t)),this.session.replace(n,i),this.session.selection.moveToPosition(n.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\\s+$/.test(i)){c=this.$getSelectedRows();return void e.indentRows(c.first,c.last,\"\\t\")}}var n=e.getLine(t.start.row),s=t.start,r=e.getTabSize(),a=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var l=r-a%r,h=o.stringRepeat(\" \",l);else{for(l=a%r;\" \"==n[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),h=\"\\t\"}return this.insert(h)}var c=this.$getSelectedRows();e.indentRows(c.first,c.last,\"\\t\")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,\"\\t\")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,i=[],n=e.first;n<=e.last;n++)i.push(t.getLine(n));i.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var s=new g(0,0,0,0);for(n=e.first;n<=e.last;n++){var o=t.getLine(n);s.start.row=n,s.end.row=n,s.end.column=o.length,t.replace(s,i[n-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,e)},this.getNumberAt=function(e,t){var i=/[\\-]?[0-9]+(?:\\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(e);i.lastIndex<t;){var s=i.exec(n);if(s.index<=t&&s.index+s[0].length>=t)return{value:s[0],start:s.index,end:s.index+s[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,i=this.selection.getCursor().column,n=new g(t,i-1,t,i),s=this.session.getTextRange(n);if(!isNaN(parseFloat(s))&&isFinite(s)){var o=this.getNumberAt(t,i);if(o){var r=o.value.indexOf(\".\")>=0?o.start+o.value.indexOf(\".\")+1:o.end,a=o.start+o.value.length-r,l=parseFloat(o.value);l*=Math.pow(10,a),r!==o.end&&i<r?e*=Math.pow(10,o.end-i-1):e*=Math.pow(10,o.end-i),l+=e;var h=(l/=Math.pow(10,a)).toFixed(a),c=new g(t,o.start,t,o.end);this.session.replace(c,h),this.moveCursorTo(t,Math.max(o.start+1,i+h.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[[\"first\",\"last\"],[\"true\",\"false\"],[\"yes\",\"no\"],[\"width\",\"height\"],[\"top\",\"bottom\"],[\"right\",\"left\"],[\"on\",\"off\"],[\"x\",\"y\"],[\"get\",\"set\"],[\"max\",\"min\"],[\"horizontal\",\"vertical\"],[\"show\",\"hide\"],[\"add\",\"remove\"],[\"up\",\"down\"],[\"before\",\"after\"],[\"even\",\"odd\"],[\"in\",\"out\"],[\"inside\",\"outside\"],[\"next\",\"previous\"],[\"increase\",\"decrease\"],[\"attach\",\"detach\"],[\"&&\",\"||\"],[\"==\",\"!=\"]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var i=this.getSelectedText(),n=this.selection.getWordRange().start.column,s=i.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,\"$1 \").split(/\\s/),r=t-n-1;r<0&&(r=0);var a=0,l=0,h=this;i.match(/[A-Za-z0-9_]+/)&&s.forEach((function(t,s){l=a+t.length,r>=a&&r<=l&&(i=t,h.selection.clearSelection(),h.moveCursorTo(e,a+n),h.selection.selectTo(e,l+n)),a=l}));for(var c,u=this.$toggleWordPairs,d=0;d<u.length;d++)for(var g=u[d],f=0;f<=1;f++){var m=+!f,p=i.match(new RegExp(\"^\\\\s?_?(\"+o.escapeRegExp(g[f])+\")\\\\s?$\",\"i\"));if(p)i.match(new RegExp(\"([_]|^|\\\\s)(\"+o.escapeRegExp(p[1])+\")($|\\\\s)\",\"g\"))&&(c=i.replace(new RegExp(o.escapeRegExp(g[f]),\"i\"),(function(e){var t=g[m];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+g[m].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(c),c=\"\")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,i=e.getRange(),n=e.isBackwards();if(i.isEmpty()){var s=i.start.row;t.duplicateLines(s,s)}else{var o=n?i.start:i.end,r=t.insert(o,t.getTextRange(i),!1);i.start=o,i.end=r,e.setSelectionRange(i,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,i){return this.session.moveText(e,t,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var i,n,s=this.selection;if(!s.inMultiSelectMode||this.inVirtualSelectionMode){var o=s.toOrientedRange();i=this.$getSelectedRows(o),n=this.session.$moveLines(i.first,i.last,t?0:e),t&&-1==e&&(n=0),o.moveBy(n,0),s.fromOrientedRange(o)}else{var r=s.rangeList.ranges;s.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,h=r.length,c=0;c<h;c++){var u=c;r[c].moveBy(a,0);for(var d=(i=this.$getSelectedRows(r[c])).first,g=i.last;++c<h;){l&&r[c].moveBy(l,0);var f=this.$getSelectedRows(r[c]);if(t&&f.first!=g)break;if(!t&&f.first>g+1)break;g=f.last}for(c--,a=this.session.$moveLines(d,g,t?0:e),t&&-1==e&&(u=c+1);u<=c;)r[u].moveBy(a,0),u++;t||(a=0),l+=a}s.fromOrientedRange(s.ranges[0]),s.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var i=this.renderer,n=this.renderer.layerConfig,s=e*Math.floor(n.height/n.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(s,0)})):!1===t&&(this.selection.moveCursorBy(s,0),this.selection.clearSelection());var o=i.scrollTop;i.scrollBy(0,s*n.lineHeight),null!=t&&i.scrollCursorIntoView(null,.5),i.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,i,n){this.renderer.scrollToLine(e,t,i,n)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var i=this.getCursorPosition(),n=new w(this.session,i.row,i.column),s=n.getCurrentToken(),o=s||n.stepForward();if(o){var r,a,l=!1,h={},c=i.column-o.start,u={\")\":\"(\",\"(\":\"(\",\"]\":\"[\",\"[\":\"[\",\"{\":\"{\",\"}\":\"{\"};do{if(o.value.match(/[{}()\\[\\]]/g)){for(;c<o.value.length&&!l;c++)if(u[o.value[c]])switch(a=u[o.value[c]]+\".\"+o.type.replace(\"rparen\",\"lparen\"),isNaN(h[a])&&(h[a]=0),o.value[c]){case\"(\":case\"[\":case\"{\":h[a]++;break;case\")\":case\"]\":case\"}\":h[a]--,-1===h[a]&&(r=\"bracket\",l=!0)}}else-1!==o.type.indexOf(\"tag-name\")&&(isNaN(h[o.value])&&(h[o.value]=0),\"<\"===s.value?h[o.value]++:\"</\"===s.value&&h[o.value]--,-1===h[o.value]&&(r=\"tag\",l=!0));l||(s=o,o=n.stepForward(),c=0)}while(o&&!l);if(r){var d,f;if(\"bracket\"===r)(d=this.session.getBracketRange(i))||(f=(d=new g(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+c-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+c-1)).start,(t||f.row===i.row&&Math.abs(f.column-i.column)<2)&&(d=this.session.getBracketRange(f)));else if(\"tag\"===r){if(!o||-1===o.type.indexOf(\"tag-name\"))return;var m=o.value;if(0===(d=new g(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2)).compare(i.row,i.column)){l=!1;do{o=s,(s=n.stepBackward())&&(-1!==s.type.indexOf(\"tag-close\")&&d.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),o.value===m&&-1!==o.type.indexOf(\"tag-name\")&&(\"<\"===s.value?h[m]++:\"</\"===s.value&&h[m]--,0===h[m]&&(l=!0)))}while(s&&!l)}o&&o.type.indexOf(\"tag-name\")&&(f=d.start).row==i.row&&Math.abs(f.column-i.column)<2&&(f=d.end)}(f=d&&d.cursor||f)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,i){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,i)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var i=this.$search.find(this.session),n=0;return i?(this.$tryReplace(i,e)&&(n=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end),n):n},this.replaceAll=function(e,t){t&&this.$search.set(t);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;var s=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=i.length-1;o>=0;--o)this.$tryReplace(i[o],e)&&n++;return this.selection.setSelectionRange(s),n},this.$tryReplace=function(e,t){var i=this.session.getTextRange(e);return null!==(t=this.$search.replace(i,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),\"string\"==typeof e||e instanceof RegExp?t.needle=e:\"object\"==typeof e&&n.mixin(t,e);var s=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(s)||this.$search.$options.needle)||(s=this.session.getWordRange(s.start.row,s.start.column),e=this.session.getTextRange(s)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:s});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,i),o):(t.backwards?s.start=s.end:s.end=s.start,void this.selection.setRange(s))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(i)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal(\"destroy\",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,i=this,n=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement(\"div\"));var s=this.$scrollAnchor;s.style.cssText=\"position:absolute\",this.container.insertBefore(s,this.container.firstChild);var o=this.on(\"changeSelection\",(function(){n=!0})),r=this.renderer.on(\"beforeRender\",(function(){n&&(t=i.renderer.container.getBoundingClientRect())})),a=this.renderer.on(\"afterRender\",(function(){if(n&&t&&(i.isFocused()||i.searchBox&&i.searchBox.isFocused())){var e=i.renderer,o=e.$cursorLayer.$pixelPos,r=e.layerConfig,a=o.top-r.offset;null!=(n=o.top>=0&&a+t.top<0||!(o.top<r.height&&o.top+t.top+r.lineHeight>window.innerHeight)&&null)&&(s.style.top=a+\"px\",s.style.left=o.left+\"px\",s.style.height=r.lineHeight+\"px\",s.scrollIntoView(n)),n=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off(\"changeSelection\",o),this.renderer.off(\"afterRender\",a),this.renderer.off(\"beforeRender\",r))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||\"ace\",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&\"wide\"!=e,s.setCssClass(t.element,\"ace_slim-cursors\",/slim/.test(e)))},this.prompt=function(e,t,i){var n=this;v.loadModule(\"./ext/prompt\",(function(s){s.prompt(n,e,t,i)}))}}.call(b.prototype),v.defineOptions(b.prototype,\"editor\",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal(\"changeSelectionStyle\",{data:e})},initialValue:\"line\"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:[\"ace\",\"slim\",\"smooth\",\"wide\"],initialValue:\"ace\"},mergeUndoDeltas:{values:[!1,!0,\"always\"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?y.attach(this):y.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?y.attach(this):y.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off(\"afterRender\",this.$updatePlaceholder),s.removeCssClass(this.container,\"ace_hasPlaceholder\"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||\"\");else{this.renderer.on(\"afterRender\",this.$updatePlaceholder),s.addCssClass(this.container,\"ace_hasPlaceholder\");var t=s.createElement(\"div\");t.className=\"ace_placeholder\",t.textContent=this.$placeholder||\"\",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on(\"input\",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:\"renderer\",vScrollBarAlwaysVisible:\"renderer\",highlightGutterLine:\"renderer\",animatedScroll:\"renderer\",showInvisibles:\"renderer\",showPrintMargin:\"renderer\",printMarginColumn:\"renderer\",printMargin:\"renderer\",fadeFoldWidgets:\"renderer\",showFoldWidgets:\"renderer\",displayIndentGuides:\"renderer\",showGutter:\"renderer\",fontSize:\"renderer\",fontFamily:\"renderer\",maxLines:\"renderer\",minLines:\"renderer\",scrollPastEnd:\"renderer\",fixedWidthGutter:\"renderer\",theme:\"renderer\",hasCssTransforms:\"renderer\",maxPixelHeight:\"renderer\",useTextareaForIME:\"renderer\",scrollSpeed:\"$mouseHandler\",dragDelay:\"$mouseHandler\",dragEnabled:\"$mouseHandler\",focusTimeout:\"$mouseHandler\",tooltipFollowsMouse:\"$mouseHandler\",firstLineNumber:\"session\",overwrite:\"session\",newLineMode:\"session\",useWorker:\"session\",useSoftTabs:\"session\",navigateWithinSoftTabs:\"session\",tabSize:\"session\",wrap:\"session\",indentedSoftWrap:\"session\",foldStyle:\"session\",mode:\"session\"});var y={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?\"\\xb7\":\"\"))+\"\"},getWidth:function(e,t,i){return Math.max(t.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on(\"changeSelection\",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off(\"changeSelection\",this.update),this.update(null,e)}};t.Editor=b})),ace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,i){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),\"remove\"!=e.action&&\"insert\"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=i.length;n--;){var s=i[n][0];if(s.id<=e)break;s.id<t&&(s.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var i=this.selections,n=i.length;n--;){var s=i[n];if(s.rev<e)return t&&(s=i[n+1]),s}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=null,s=0,o=i.length;o--;){var r=i[o][0];if(r.id<t&&!n&&(n=o+1),r.id<=e){s=o+1;break}}return i.slice(s,n)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var i=this.$undoStack;if(function(e,t){for(var i=t;i--;){var n=e[i];if(n&&!n[0].ignore){for(;i<t-1;){var s=c(e[i],e[i+1]);e[i]=s[0],e[i+1]=s[1],i++}return!0}}}(i,i.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var n=i.pop(),s=null;return n&&(s=e.undoChanges(n,t),this.$redoStack.push(n),this.$syncRev()),this.$fromUndo=!1,s}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var i=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var i=0;i<t.length;i++)for(var n=t[i],s=0;s<n.length;s++)m(e,n[s])}(this.$redoStack,i),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var n=this.$redoStack.pop(),s=null;return n&&(s=e.redoChanges(n,t),this.$undoStack.push(n),this.$syncRev()),this.$fromUndo=!1,s},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],i=t&&t[0].id||0;this.$redoStackBaseRev=i,this.$rev=i},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){void 0==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+\"\\n---\\n\"+a(this.$redoStack)}}).call(n.prototype);var s=e(\"./range\").Range,o=s.comparePoints;s.comparePoints;function r(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join(\"\\n\");var t=\"\";return e.action?(t=\"insert\"==e.action?\"+\":\"-\",t+=\"[\"+e.lines+\"]\"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join(\"\\n\"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+=\"\\t(\"+(e.id||e.rev)+\")\"),t}function l(e){return e.start.row+\":\"+e.start.column+\"=>\"+e.end.row+\":\"+e.end.column}function h(e,t){var i=\"insert\"==e.action,n=\"insert\"==t.action;if(i&&n)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(i&&!n)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}else if(!i&&n)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(!i&&!n)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}return[t,e]}function c(e,t){for(var i=e.length;i--;)for(var n=0;n<t.length;n++)if(!h(e[i],t[n])){for(;i<e.length;){for(;n--;)h(t[n],e[i]);n=t.length,i++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function u(e,t){var i=\"insert\"==e.action,n=\"insert\"==t.action;if(i&&n)o(e.start,t.start)<0?d(t,e,1):d(e,t,1);else if(i&&!n)o(e.start,t.end)>=0?d(e,t,-1):(o(e.start,t.start)<=0||d(e,s.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!i&&n)o(t.start,e.end)>=0?d(t,e,-1):(o(t.start,e.start)<=0||d(t,s.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!i&&!n)if(o(t.start,e.end)>=0)d(t,e,-1);else{var r,a;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(r=e,e=f(e,t.start)),o(e.end,t.end)>0&&(a=f(e,t.end)),g(t.end,e.start,e.end,-1),a&&!r&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,r,a].filter(Boolean);d(e,t,-1)}return[t,e]}function d(e,t,i){g(e.start,t.start,t.end,i),g(e.end,t.start,t.end,i)}function g(e,t,i,n){e.row==(1==n?t:i).row&&(e.column+=n*(i.column-t.column)),e.row+=n*(i.row-t.row)}function f(e,t){var i=e.lines,n=e.end;e.end=r(t);var s=e.end.row-e.start.row,o=i.splice(s,i.length),a=s?t.column:t.column-e.start.column;return i.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:r(t),end:n,lines:o,action:e.action}}function m(e,t){t=function(e){return{start:r(e.start),end:r(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var i=e.length;i--;){for(var n=e[i],s=0;s<n.length;s++){var o=u(n[s],t);t=o[0],2!=o.length&&(o[2]?(n.splice(s+1,1,o[1],o[2]),s++):o[1]||(n.splice(s,1),s--))}n.length||e.splice(i,1)}return e}t.UndoManager=n})),ace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/dom\"),s=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+\"px\",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){n.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,i){var n=t.firstRowScreen*t.lineHeight,s=Math.floor(n/this.canvasHeight);return i.documentToScreenRow(e,0)*t.lineHeight-s*this.canvasHeight},this.computeLineHeight=function(e,t,i){return t.lineHeight*i.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=n.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=n.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement(\"afterbegin\",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,i,s){var o=this.cellCache.pop();if(!o){var r=n.createElement(\"div\");s&&s(r),this.element.appendChild(r),o={element:r,text:\"\",row:e}}return o.row=e,o}}).call(s.prototype),t.Lines=s})),ace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/dom\"),s=e(\"../lib/oop\"),o=e(\"../lib/lang\"),r=e(\"../lib/event_emitter\").EventEmitter,a=e(\"./lines\").Lines,l=function(e){this.element=n.createElement(\"div\"),this.element.className=\"ace_layer ace_gutter-layer\",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function h(e){var t=document.createTextNode(\"\");e.appendChild(t);var i=n.createElement(\"span\");return e.appendChild(i),e}(function(){s.implement(this,r),this.setSession=function(e){this.session&&this.session.off(\"change\",this.$updateAnnotations),this.session=e,e&&e.on(\"change\",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn(\"deprecated use session.addGutterDecoration\"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn(\"deprecated use session.removeGutterDecoration\"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],n=i.row,s=this.$annotations[n];s||(s=this.$annotations[n]={text:[]});var r=i.text;r=r?o.escapeHTML(r):i.html||\"\",-1===s.text.indexOf(r)&&s.text.push(r);var a=i.type;\"error\"==a?s.className=\" ace_error\":\"warning\"==a&&\" ace_error\"!=s.className?s.className=\" ace_warning\":\"info\"!=a||s.className||(s.className=\" ace_info\")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,i=e.end.row-t;if(0===i);else if(\"remove\"==e.action)this.$annotations.splice(t,i+1,null);else{var n=new Array(i+1);n.unshift(t,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(e){this.config=e;var t=this.session,i=e.firstRow,n=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=n,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var s=t.getNextFoldLine(i),o=s?s.start.row:1/0,r=null,a=-1,l=i;;){if(l>o&&(l=s.end.row+1,o=(s=t.getNextFoldLine(l,s))?s.start.row:1/0),l>n){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(r=this.$lines.get(++a))?r.row=l:(r=this.$lines.createCell(l,e,this.session,h),this.$lines.push(r)),this.$renderCell(r,e,s,l),l++}this._signal(\"afterRender\"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,i=t.gutterRenderer||this.$renderer,n=t.$firstLineNumber,s=this.$lines.last()?this.$lines.last().text:\"\";(this.$fixedWidth||t.$useWrapMode)&&(s=t.getLength()+n-1);var o=i?i.getWidth(t,s,e):s.toString().length*e.characterWidth,r=this.$padding||this.$computePadding();(o+=r.left+r.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+\"px\",this._signal(\"changeGutterWidth\",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace(\"ace_gutter-active-line \",\"\"));var t=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<t.length;i++){var n=t[i];if(n.row>=this.$cursorRow){if(n.row>this.$cursorRow){var s=this.session.getFoldLine(this.$cursorRow);if(!(i>0&&s&&s.start.row==t[i-1].row))break;n=t[i-1]}n.element.className=\"ace_gutter-active-line \"+n.element.className,this.$cursorCell=n;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),n=this.oldLastRow;if(this.oldLastRow=i,!t||n<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);s>0;s--)this.$lines.shift();if(n>i)for(s=this.session.getFoldedRowCount(i+1,n);s>0;s--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),i>n&&this.$lines.push(this.$renderLines(e,n+1,i)),this.updateLineHighlight(),this._signal(\"afterRender\"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,i){for(var n=[],s=t,o=this.session.getNextFoldLine(s),r=o?o.start.row:1/0;s>r&&(s=o.end.row+1,r=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(s>i);){var a=this.$lines.createCell(s,e,this.session,h);this.$renderCell(a,e,o,s),n.push(a),s++}return n},this.$renderCell=function(e,t,i,s){var o=e.element,r=this.session,a=o.childNodes[0],l=o.childNodes[1],h=r.$firstLineNumber,c=r.$breakpoints,u=r.$decorations,d=r.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&r.foldWidgets,f=i?i.start.row:Number.MAX_VALUE,m=\"ace_gutter-cell \";if(this.$highlightGutterLine&&(s==this.$cursorRow||i&&s<this.$cursorRow&&s>=f&&this.$cursorRow<=i.end.row)&&(m+=\"ace_gutter-active-line \",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace(\"ace_gutter-active-line \",\"\")),this.$cursorCell=e)),c[s]&&(m+=c[s]),u[s]&&(m+=u[s]),this.$annotations[s]&&(m+=this.$annotations[s].className),o.className!=m&&(o.className=m),g){var p=g[s];null==p&&(p=g[s]=r.getFoldWidget(s))}if(p){m=\"ace_fold-widget ace_\"+p;\"start\"==p&&s==f&&s<i.end.row?m+=\" ace_closed\":m+=\" ace_open\",l.className!=m&&(l.className=m);var v=t.lineHeight+\"px\";n.setStyle(l.style,\"height\",v),n.setStyle(l.style,\"display\",\"inline-block\")}else l&&n.setStyle(l.style,\"display\",\"none\");var w=(d?d.getText(r,s):s+h).toString();return w!==a.data&&(a.data=w),n.setStyle(e.element.style,\"height\",this.$lines.computeLineHeight(s,t,r)+\"px\"),n.setStyle(e.element.style,\"top\",this.$lines.computeLineTop(s,t,r)+\"px\"),e.text=w,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer=\"\",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer=\"\",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return\"\"}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,\"ace_folding-enabled\"):n.removeCssClass(this.element,\"ace_folding-enabled\"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?\"markers\":this.$showFoldWidgets&&e.x>i.right-t.right?\"foldWidgets\":void 0}}).call(l.prototype),t.Gutter=l})),ace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"],(function(e,t,i){\"use strict\";var n=e(\"../range\").Range,s=e(\"../lib/dom\"),o=function(e){this.element=s.createElement(\"div\"),this.element.className=\"ace_layer ace_marker-layer\",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var i=-1!=this.i&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement(\"div\"),this.element.appendChild(i),this.i=-1),i.style.cssText=t,i.className=e},this.update=function(e){if(e){var t;for(var i in this.config=e,this.i=0,this.markers){var n=this.markers[i];if(n.range){var s=n.range.clipRows(e.firstRow,e.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),n.renderer){var o=this.$getTop(s.start.row,e),r=this.$padding+s.start.column*e.characterWidth;n.renderer(t,s,r,o,e)}else\"fullLine\"==n.type?this.drawFullLineMarker(t,s,n.clazz,e):\"screenLine\"==n.type?this.drawScreenLineMarker(t,s,n.clazz,e):s.isMultiLine()?\"text\"==n.type?this.drawTextMarker(t,s,n.clazz,e):this.drawMultiLineMarker(t,s,n.clazz,e):this.drawSingleLineMarker(t,s,n.clazz+\" ace_start ace_br15\",e)}else n.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,s,o){for(var r=this.session,a=t.start.row,l=t.end.row,h=a,c=0,u=0,d=r.getScreenLastRowColumn(h),g=new n(h,t.start.column,h,u);h<=l;h++)g.start.row=g.end.row=h,g.start.column=h==a?t.start.column:r.getRowWrapIndent(h),g.end.column=d,c=u,u=d,d=h+1<l?r.getScreenLastRowColumn(h+1):h==l?0:t.end.column,this.drawSingleLineMarker(e,g,i+(h==a?\" ace_start\":\"\")+\" ace_br\"+((h==a||h==a+1&&t.start.column?1:0)|(c<u?2:0)|(u>d?4:0)|(h==l?8:0)),s,h==l?0:1,o)},this.drawMultiLineMarker=function(e,t,i,n,s){var o=this.$padding,r=n.lineHeight,a=this.$getTop(t.start.row,n),l=o+t.start.column*n.characterWidth;(s=s||\"\",this.session.$bidiHandler.isBidiRow(t.start.row))?((h=t.clone()).end.row=h.start.row,h.end.column=this.session.getLine(h.start.row).length,this.drawBidiSingleLineMarker(e,h,i+\" ace_br1 ace_start\",n,null,s)):this.elt(i+\" ace_br1 ace_start\",\"height:\"+r+\"px;right:0;top:\"+a+\"px;left:\"+l+\"px;\"+(s||\"\"));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var h;(h=t.clone()).start.row=h.end.row,h.start.column=0,this.drawBidiSingleLineMarker(e,h,i+\" ace_br12\",n,null,s)}else{a=this.$getTop(t.end.row,n);var c=t.end.column*n.characterWidth;this.elt(i+\" ace_br12\",\"height:\"+r+\"px;width:\"+c+\"px;top:\"+a+\"px;left:\"+o+\"px;\"+(s||\"\"))}if(!((r=(t.end.row-t.start.row-1)*n.lineHeight)<=0)){a=this.$getTop(t.start.row+1,n);var u=(t.start.column?1:0)|(t.end.column?0:8);this.elt(i+(u?\" ace_br\"+u:\"\"),\"height:\"+r+\"px;right:0;top:\"+a+\"px;left:\"+o+\"px;\"+(s||\"\"))}},this.drawSingleLineMarker=function(e,t,i,n,s,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,i,n,s,o);var r=n.lineHeight,a=(t.end.column+(s||0)-t.start.column)*n.characterWidth,l=this.$getTop(t.start.row,n),h=this.$padding+t.start.column*n.characterWidth;this.elt(i,\"height:\"+r+\"px;width:\"+a+\"px;top:\"+l+\"px;left:\"+h+\"px;\"+(o||\"\"))},this.drawBidiSingleLineMarker=function(e,t,i,n,s,o){var r=n.lineHeight,a=this.$getTop(t.start.row,n),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(i,\"height:\"+r+\"px;width:\"+e.width+(s||0)+\"px;top:\"+a+\"px;left:\"+(l+e.left)+\"px;\"+(o||\"\"))}),this)},this.drawFullLineMarker=function(e,t,i,n,s){var o=this.$getTop(t.start.row,n),r=n.lineHeight;t.start.row!=t.end.row&&(r+=this.$getTop(t.end.row,n)-o),this.elt(i,\"height:\"+r+\"px;top:\"+o+\"px;left:0;right:0;\"+(s||\"\"))},this.drawScreenLineMarker=function(e,t,i,n,s){var o=this.$getTop(t.start.row,n),r=n.lineHeight;this.elt(i,\"height:\"+r+\"px;top:\"+o+\"px;left:0;right:0;\"+(s||\"\"))}}).call(o.prototype),t.Marker=o})),ace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/oop\"),s=e(\"../lib/dom\"),o=e(\"../lib/lang\"),r=e(\"./lines\").Lines,a=e(\"../lib/event_emitter\").EventEmitter,l=function(e){this.dom=s,this.element=this.dom.createElement(\"div\"),this.element.className=\"ace_layer ace_text-layer\",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new r(this.element)};(function(){n.implement(this,a),this.EOF_CHAR=\"\\xb6\",this.EOL_CHAR_LF=\"\\xac\",this.EOL_CHAR_CRLF=\"\\xa4\",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR=\"\\u2014\",this.SPACE_CHAR=\"\\xb7\",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t=\"\\n\"==e.getNewLineCharacter()&&\"windows\"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin=\"0 \"+e+\"px\"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on(\"changeCharacterSize\",function(e){this._signal(\"changeCharacterSize\",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,\"string\"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],i=1;i<e+1;i++){if(this.showTabs)(n=this.dom.createElement(\"span\")).className=\"ace_invisible ace_invisible_tab\",n.textContent=o.stringRepeat(this.TAB_CHAR,i),t.push(n);else t.push(this.dom.createTextNode(o.stringRepeat(\" \",i),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\\s\\S| \\t|\\t |\\s$/;var n,s=\"ace_indent-guide\",r=this.showSpaces?\" ace_invisible ace_invisible_space\":\"\",a=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(\" \",this.tabSize),l=this.showTabs?\" ace_invisible ace_invisible_tab\":\"\",h=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):a;(n=this.dom.createElement(\"span\")).className=s+r,n.textContent=a,this.$tabStrings[\" \"]=n,(n=this.dom.createElement(\"span\")).className=s+l,n.textContent=h,this.$tabStrings[\"\\t\"]=n}},this.updateLines=function(e,t,i){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var n=Math.max(t,e.firstRow),s=Math.min(i,e.lastRow),o=this.element.childNodes,r=0,a=e.firstRow;a<n;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row}r++}for(var l,h=!1,c=(a=n,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>c&&(a=l.end.row+1,c=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>s);){var u=o[r++];if(u){this.dom.removeChildren(u),this.$renderLine(u,a,a==c&&l),h&&(u.style.top=this.$lines.computeLineTop(a,e,this.session)+\"px\");var d=e.lineHeight*this.session.getRowLength(a)+\"px\";u.style.height!=d&&(h=!0,u.style.height=d)}a++}if(h)for(;r<this.$lines.cells.length;){var g=this.$lines.cells[r++];g.element.style.top=this.$lines.computeLineTop(g.row,e,this.session)+\"px\"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=e.lastRow,n=t?t.lastRow:-1;if(!t||n<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);s>0;s--)this.$lines.shift();if(t.lastRow>e.lastRow)for(s=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);s>0;s--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,i){for(var n=[],o=t,r=this.session.getNextFoldLine(o),a=r?r.start.row:1/0;o>a&&(o=r.end.row+1,a=(r=this.session.getNextFoldLine(o,r))?r.start.row:1/0),!(o>i);){var l=this.$lines.createCell(o,e,this.session),h=l.element;this.dom.removeChildren(h),s.setStyle(h.style,\"height\",this.$lines.computeLineHeight(o,e,this.session)+\"px\"),s.setStyle(h.style,\"top\",this.$lines.computeLineTop(o,e,this.session)+\"px\"),this.$renderLine(h,o,o==a&&r),this.$useLineGroups()?h.className=\"ace_line_group\":h.className=\"ace_line\",n.push(l),o++}return n},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,i=e.lastRow,n=this.$lines;n.getLength();)n.pop();n.push(this.$renderLinesFragment(e,t,i))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,i,n){for(var s,r=this,a=/(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g,l=this.dom.createFragment(this.element),h=0;s=a.exec(n);){var c=s[1],u=s[2],d=s[3],g=s[4],f=s[5];if(r.showSpaces||!u){var m=h!=s.index?n.slice(h,s.index):\"\";if(h=s.index+s[0].length,m&&l.appendChild(this.dom.createTextNode(m,this.element)),c){var p=r.session.getScreenTabSize(t+s.index);l.appendChild(r.$tabStrings[p].cloneNode(!0)),t+=p-1}else if(u){if(r.showSpaces)(w=this.dom.createElement(\"span\")).className=\"ace_invisible ace_invisible_space\",w.textContent=o.stringRepeat(r.SPACE_CHAR,u.length),l.appendChild(w);else l.appendChild(this.com.createTextNode(u,this.element))}else if(d){(w=this.dom.createElement(\"span\")).className=\"ace_invisible ace_invisible_space ace_invalid\",w.textContent=o.stringRepeat(r.SPACE_CHAR,d.length),l.appendChild(w)}else if(g){t+=1,(w=this.dom.createElement(\"span\")).style.width=2*r.config.characterWidth+\"px\",w.className=r.showSpaces?\"ace_cjk ace_invisible ace_invisible_space\":\"ace_cjk\",w.textContent=r.showSpaces?r.SPACE_CHAR:g,l.appendChild(w)}else if(f){t+=1,(w=this.dom.createElement(\"span\")).style.width=2*r.config.characterWidth+\"px\",w.className=\"ace_cjk\",w.textContent=f,l.appendChild(w)}}}if(l.appendChild(this.dom.createTextNode(h?n.slice(h):n,this.element)),this.$textToken[i.type])e.appendChild(l);else{var v=\"ace_\"+i.type.replace(/\\./g,\" ace_\"),w=this.dom.createElement(\"span\");\"fold\"==i.type&&(w.style.width=i.value.length*this.config.characterWidth+\"px\"),w.className=v,w.appendChild(l),e.appendChild(w)}return t+n.length},this.renderIndentGuide=function(e,t,i){var n=t.search(this.$indentGuideRe);if(n<=0||n>=i)return t;if(\" \"==t[0]){for(var s=(n-=n%this.tabSize)/this.tabSize,o=0;o<s;o++)e.appendChild(this.$tabStrings[\" \"].cloneNode(!0));return t.substr(n)}if(\"\\t\"==t[0]){for(o=0;o<n;o++)e.appendChild(this.$tabStrings[\"\\t\"].cloneNode(!0));return t.substr(n)}return t},this.$createLineElement=function(e){var t=this.dom.createElement(\"div\");return t.className=\"ace_line\",t.style.height=this.config.lineHeight+\"px\",t},this.$renderWrappedLine=function(e,t,i){var n=0,s=0,r=i[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var h=0;h<t.length;h++){var c=t[h],u=c.value;if(0==h&&this.displayIndentGuides){if(n=u.length,!(u=this.renderIndentGuide(l,u,r)))continue;n-=u.length}if(n+u.length<r)a=this.$renderToken(l,a,c,u),n+=u.length;else{for(;n+u.length>=r;)a=this.$renderToken(l,a,c,u.substring(0,r-n)),u=u.substring(r-n),n=r,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat(\"\\xa0\",i.indent),this.element)),a=0,r=i[++s]||Number.MAX_VALUE;0!=u.length&&(n+=u.length,a=this.$renderToken(l,a,c,u))}}i[i.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,\"\",!0)},this.$renderSimpleLine=function(e,t){var i=0,n=t[0],s=n.value;this.displayIndentGuides&&(s=this.renderIndentGuide(e,s)),s&&(i=this.$renderToken(e,i,n,s));for(var o=1;o<t.length;o++){if(i+(s=(n=t[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,i,n,s);i=this.$renderToken(e,i,n,s)}},this.$renderOverflowMessage=function(e,t,i,n,s){i&&this.$renderToken(e,t,i,n.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement(\"span\");o.className=\"ace_inline_button ace_keyword ace_toggle_wrap\",o.textContent=s?\"<hide>\":\"<click to see more...>\",e.appendChild(o)},this.$renderLine=function(e,t,i){if(i||0==i||(i=this.session.getFoldLine(t)),i)var n=this.$getFoldLineTokens(t,i);else n=this.session.getTokens(t);var s=e;if(n.length){var o=this.session.getRowSplitData(t);if(o&&o.length){this.$renderWrappedLine(e,n,o);s=e.lastChild}else{s=e;this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s)),this.$renderSimpleLine(s,n)}}else this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s));if(this.showEOL&&s){i&&(t=i.end.row);var r=this.dom.createElement(\"span\");r.className=\"ace_invisible ace_invisible_eol\",r.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,s.appendChild(r)}},this.$getFoldLineTokens=function(e,t){var i=this.session,n=[];var s=i.getTokens(e);return t.walk((function(e,t,o,r,a){null!=e?n.push({type:\"fold\",value:e}):(a&&(s=i.getTokens(t)),s.length&&function(e,t,i){for(var s=0,o=0;o+e[s].value.length<t;)if(o+=e[s].value.length,++s==e.length)return;for(o!=t&&((r=e[s].value.substring(t-o)).length>i-t&&(r=r.substring(0,i-t)),n.push({type:e[s].type,value:r}),o=t+r.length,s+=1);o<i&&s<e.length;){var r;(r=e[s].value).length+o>i?n.push({type:e[s].type,value:r.substring(0,i-o)}):n.push(e[s]),o+=r.length,s+=1}}(s,r,o))}),t.end.row,this.session.getLine(t.end.row).length),n},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/dom\"),s=function(e){this.element=n.createElement(\"div\"),this.element.className=\"ace_layer ace_cursor-layer\",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),n.addCssClass(this.element,\"ace_hidden-cursors\"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,i=t.length;i--;)n.setStyle(t[i].style,\"opacity\",e?\"\":\"0\")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+\"ms\";setTimeout(function(){n.addCssClass(this.element,\"ace_animate-blinking\")}.bind(this))},this.$stopCssAnimation=function(){n.removeCssClass(this.element,\"ace_animate-blinking\")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,n.setCssClass(this.element,\"ace_smooth-blinking\",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=n.createElement(\"div\");return e.className=\"ace_cursor\",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,n.addCssClass(this.element,\"ace_hidden-cursors\"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,n.removeCssClass(this.element,\"ace_hidden-cursors\"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&n.removeCssClass(this.element,\"ace_smooth-blinking\"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout(function(){n.addCssClass(this.element,\"ace_smooth-blinking\")}.bind(this)),n.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),top:(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,i=0,s=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);i=0;for(var o=t.length;i<o;i++){var r=this.getPixelPosition(t[i].cursor,!0);if(!((r.top>e.height+e.offset||r.top<0)&&i>1)){var a=this.cursors[s++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,r,e,t[i],this.session):this.isCursorInView(r,e)?(n.setStyle(l,\"display\",\"block\"),n.translate(a,r.left,r.top),n.setStyle(l,\"width\",Math.round(e.characterWidth)+\"px\"),n.setStyle(l,\"height\",e.lineHeight+\"px\")):n.setStyle(l,\"display\",\"none\")}}for(;this.cursors.length>s;)this.removeCursor();var h=this.session.getOverwrite();this.$setOverwrite(h),this.$pixelPos=r,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?n.addCssClass(this.element,\"ace_overwrite-cursors\"):n.removeCssClass(this.element,\"ace_overwrite-cursors\"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(s.prototype),t.Cursor=s})),ace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/oop\"),s=e(\"./lib/dom\"),o=e(\"./lib/event\"),r=e(\"./lib/event_emitter\").EventEmitter,a=32768,l=function(e){this.element=s.createElement(\"div\"),this.element.className=\"ace_scrollbar ace_scrollbar\"+this.classSuffix,this.inner=s.createElement(\"div\"),this.inner.className=\"ace_scrollbar-inner\",this.inner.textContent=\"\\xa0\",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,\"scroll\",this.onScroll.bind(this)),o.addListener(this.element,\"mousedown\",o.preventDefault)};(function(){n.implement(this,r),this.setVisible=function(e){this.element.style.display=e?\"\":\"none\",this.isVisible=e,this.coeff=1}}).call(l.prototype);var h=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=s.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+\"px\",this.$minWidth=0};n.inherits(h,l),function(){this.classSuffix=\"-v\",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit(\"scroll\",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+\"px\"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+\"px\"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(h.prototype);var c=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+\"px\"};n.inherits(c,l),function(){this.classSuffix=\"-h\",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit(\"scroll\",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+\"px\"},this.setInnerWidth=function(e){this.inner.style.width=e+\"px\"},this.setScrollWidth=function(e){this.inner.style.width=e+\"px\"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(c.prototype),t.ScrollBar=h,t.ScrollBarV=h,t.ScrollBarH=c,t.VScrollBar=h,t.HScrollBar=c})),ace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/event\"),s=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var i=this;this._flush=function(e){i.pending=!1;var t=i.changes;if(t&&(n.blockIdle(100),i.changes=0,i.onRender(t)),i.changes){if(i.$recursionLimit--<0)return;i.schedule()}else i.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(n.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(s.prototype),t.RenderLoop=s})),ace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"],(function(e,t,i){var n=e(\"../lib/oop\"),s=e(\"../lib/dom\"),o=e(\"../lib/lang\"),r=e(\"../lib/event\"),a=e(\"../lib/useragent\"),l=e(\"../lib/event_emitter\").EventEmitter,h=256,c=\"function\"==typeof ResizeObserver,u=200,d=t.FontMetrics=function(e){this.el=s.createElement(\"div\"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement(\"div\"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement(\"div\"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat(\"X\",h),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){n.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height=\"auto\",e.left=e.top=\"0px\",e.visibility=\"hidden\",e.position=\"absolute\",e.whiteSpace=\"pre\",a.isIE<8?e[\"font-family\"]=\"inherit\":e.font=\"inherit\",e.overflow=t?\"hidden\":\"visible\"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight=\"bold\";var t=this.$measureSizes();this.$measureNode.style.fontWeight=\"\",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit(\"changeCharacterSize\",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=r.onIdle((function t(){e.checkForSizeChanges(),r.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/h};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,h),this.$main.getBoundingClientRect().width/h},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return[\"div\",{style:\"position: absolute;top:\"+e+\"px;left:\"+t+\"px;\"}]};this.els=s.buildDom([e(0,0),e(u,0),e(0,u),e(u,u)],this.el)},this.transformCoordinates=function(e,t){e&&(e=o(1/this.$getZoom(this.el),e));function i(e,t,i){var n=e[1]*t[0]-e[0]*t[1];return[(-t[1]*i[0]+t[0]*i[1])/n,(+e[1]*i[0]-e[0]*i[1])/n]}function n(e,t){return[e[0]-t[0],e[1]-t[1]]}function s(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function r(e){var t=e.getBoundingClientRect();return[t.left,t.top]}this.els||this.$initTransformMeasureNodes();var a=r(this.els[0]),l=r(this.els[1]),h=r(this.els[2]),c=r(this.els[3]),d=i(n(c,l),n(c,h),n(s(l,h),s(c,a))),g=o(1+d[0],n(l,a)),f=o(1+d[1],n(h,a));if(t){var m=t,p=d[0]*m[0]/u+d[1]*m[1]/u+1,v=s(o(m[0],g),o(m[1],f));return s(o(1/p/u,v),a)}var w=n(e,a),$=i(n(g,o(d[0],w)),n(f,o(d[1],w)),w);return o(u,$)}}).call(d.prototype)})),ace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/lib/useragent\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/oop\"),s=e(\"./lib/dom\"),o=e(\"./config\"),r=e(\"./layer/gutter\").Gutter,a=e(\"./layer/marker\").Marker,l=e(\"./layer/text\").Text,h=e(\"./layer/cursor\").Cursor,c=e(\"./scrollbar\").HScrollBar,u=e(\"./scrollbar\").VScrollBar,d=e(\"./renderloop\").RenderLoop,g=e(\"./layer/font_metrics\").FontMetrics,f=e(\"./lib/event_emitter\").EventEmitter,m='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \\'Monaco\\', \\'Menlo\\', \\'Ubuntu Mono\\', \\'Consolas\\', \\'source-code-pro\\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \\'\\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\");}.ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");}.ace_dark .ace_fold-widget.ace_end {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget.ace_closed {background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',p=e(\"./lib/useragent\"),v=p.isIE;s.importCssString(m,\"ace_editor.css\");var w=function(e,t){var i=this;this.container=e||s.createElement(\"div\"),s.addCssClass(this.container,\"ace_editor\"),s.HI_DPI&&s.addCssClass(this.container,\"ace_hidpi\"),this.setTheme(t),this.$gutter=s.createElement(\"div\"),this.$gutter.className=\"ace_gutter\",this.container.appendChild(this.$gutter),this.$gutter.setAttribute(\"aria-hidden\",!0),this.scroller=s.createElement(\"div\"),this.scroller.className=\"ace_scroller\",this.container.appendChild(this.scroller),this.content=s.createElement(\"div\"),this.content.className=\"ace_content\",this.scroller.appendChild(this.content),this.$gutterLayer=new r(this.$gutter),this.$gutterLayer.on(\"changeGutterWidth\",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var n=this.$textLayer=new l(this.content);this.canvas=n.element,this.$markerFront=new a(this.content),this.$cursorLayer=new h(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.on(\"scroll\",(function(e){i.$scrollAnimation||i.session.setScrollTop(e.data-i.scrollMargin.top)})),this.scrollBarH.on(\"scroll\",(function(e){i.$scrollAnimation||i.session.setScrollLeft(e.data-i.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on(\"changeCharacterSize\",(function(e){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal(\"changeCharacterSize\",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!p.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal(\"renderer\",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle(\"ace_nobold\",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),s.setStyle(this.scroller.style,\"line-height\",this.lineHeight+\"px\")},this.setSession=function(e){this.session&&this.session.doc.off(\"changeNewLineMode\",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on(\"changeNewLineMode\",this.onChangeNewLineMode))},this.updateLines=function(e,t,i){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,i,n){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var s=this.container;n||(n=s.clientHeight||s.scrollHeight),i||(i=s.clientWidth||s.scrollWidth);var o=this.$updateCachedSize(e,t,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,i,n){n-=this.$extraHeight||0;var o=0,r=this.$size,a={width:r.width,height:r.height,scrollerHeight:r.scrollerHeight,scrollerWidth:r.scrollerWidth};if(n&&(e||r.height!=n)&&(r.height=n,o|=this.CHANGE_SIZE,r.scrollerHeight=r.height,this.$horizScroll&&(r.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+\"px\",o|=this.CHANGE_SCROLL),i&&(e||r.width!=i)){o|=this.CHANGE_SIZE,r.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,s.setStyle(this.scrollBarH.element.style,\"left\",t+\"px\"),s.setStyle(this.scroller.style,\"left\",t+this.margin.left+\"px\"),r.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()-this.margin.h),s.setStyle(this.$gutter.style,\"left\",this.margin.left+\"px\");var l=this.scrollBarV.getWidth()+\"px\";s.setStyle(this.scrollBarH.element.style,\"right\",l),s.setStyle(this.scroller.style,\"right\",l),s.setStyle(this.scroller.style,\"bottom\",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return r.$dirty=!i||!n,o&&this._signal(\"resize\",a),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption(\"animatedScroll\",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption(\"showInvisibles\",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption(\"showInvisibles\")},this.getDisplayIndentGuides=function(){return this.getOption(\"displayIndentGuides\")},this.setDisplayIndentGuides=function(e){this.setOption(\"displayIndentGuides\",e)},this.setShowPrintMargin=function(e){this.setOption(\"showPrintMargin\",e)},this.getShowPrintMargin=function(){return this.getOption(\"showPrintMargin\")},this.setPrintMarginColumn=function(e){this.setOption(\"printMarginColumn\",e)},this.getPrintMarginColumn=function(){return this.getOption(\"printMarginColumn\")},this.getShowGutter=function(){return this.getOption(\"showGutter\")},this.setShowGutter=function(e){return this.setOption(\"showGutter\",e)},this.getFadeFoldWidgets=function(){return this.getOption(\"fadeFoldWidgets\")},this.setFadeFoldWidgets=function(e){this.setOption(\"fadeFoldWidgets\",e)},this.setHighlightGutterLine=function(e){this.setOption(\"highlightGutterLine\",e)},this.getHighlightGutterLine=function(){return this.getOption(\"highlightGutterLine\")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=s.createElement(\"div\");e.className=\"ace_layer ace_print-margin-layer\",this.$printMarginEl=s.createElement(\"div\"),this.$printMarginEl.className=\"ace_print-margin\",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+\"px\",t.visibility=this.$showPrintMargin?\"visible\":\"hidden\",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var i=this.$cursorLayer.$pixelPos;if(i){t&&t.markerRange&&(i=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var n=this.layerConfig,o=i.top,r=i.left;o-=n.offset;var a=t&&t.useTextareaForIME?this.lineHeight:v?0:1;if(o<0||o>n.height-a)s.translate(this.textarea,0,0);else{var l=1,h=this.$size.height-a;if(t)if(t.useTextareaForIME){var c=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(c)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(r-=this.scrollLeft)>this.$size.scrollerWidth-l&&(r=this.$size.scrollerWidth-l),r+=this.gutterWidth+this.margin.left,s.setStyle(e,\"height\",a+\"px\"),s.setStyle(e,\"width\",l+\"px\"),s.translate(this.textarea,Math.min(r,this.$size.scrollerWidth-l),Math.min(o,h))}}}else s.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,i,n){var s=this.scrollMargin;s.top=0|e,s.bottom=0|t,s.right=0|n,s.left=0|i,s.v=s.top+s.bottom,s.h=s.left+s.right,s.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-s.top),this.updateFull()},this.setMargin=function(e,t,i,n){var s=this.margin;s.top=0|e,s.bottom=0|t,s.right=0|n,s.left=0|i,s.v=s.top+s.bottom,s.h=s.left+s.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption(\"hScrollBarAlwaysVisible\",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption(\"vScrollBarAlwaysVisible\",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal(\"beforeRender\",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var i=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;n>0&&(this.scrollTop=n,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}i=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),s.translate(this.content,-this.scrollLeft,-i.offset);var o=i.width+2*this.$padding+\"px\",r=i.minHeight+\"px\";s.setStyle(this.content.style,\"width\",o),s.setStyle(this.content.style,\"height\",r)}if(e&this.CHANGE_H_SCROLL&&(s.translate(this.content,-this.scrollLeft,-i.offset),this.scroller.className=this.scrollLeft<=0?\"ace_scroller\":\"ace_scroller ace_scroll-left\"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal(\"afterRender\",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(i):this.$gutterLayer.scrollLines(i)),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal(\"afterRender\",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(i):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(i),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),this._signal(\"afterRender\",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,i=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);var n=!(i<=2*this.lineHeight)&&e>t;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var s=this.container.clientWidth;this.container.style.height=i+\"px\",this.$updateCachedSize(!0,this.$gutterWidth,s,i),this.desiredHeight=i,this._signal(\"autosize\")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,i=t.height<=2*this.lineHeight,n=this.session.getScreenLength()*this.lineHeight,s=this.$getLongestLine(),o=!i&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-s-2*this.$padding<0),r=this.$horizScroll!==o;r&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=h;var c=this.scrollMargin;this.session.setScrollTop(Math.max(-c.top,Math.min(this.scrollTop,n-t.scrollerHeight+c.bottom))),this.session.setScrollLeft(Math.max(-c.left,Math.min(this.scrollLeft,s+2*this.$padding-t.scrollerWidth+c.right)));var u=!i&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-n+h<0||this.scrollTop>c.top),d=a!==u;d&&(this.$vScroll=u,this.scrollBarV.setVisible(u));var g,f,m=this.scrollTop%this.lineHeight,p=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-m)/this.lineHeight)),w=v+p,$=this.lineHeight;v=e.screenToDocumentRow(v,0);var b=e.getFoldLine(v);b&&(v=b.start.row),g=e.documentToScreenRow(v,0),f=e.getRowLength(v)*$,w=Math.min(e.screenToDocumentRow(w,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(w)*$+f,m=this.scrollTop-g*$;var y=0;return(this.layerConfig.width!=s||r)&&(y=this.CHANGE_H_SCROLL),(r||d)&&(y|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal(\"scrollbarVisibilityChanged\"),d&&(s=this.$getLongestLine())),this.layerConfig={width:s,padding:this.$padding,firstRow:v,firstRowScreen:g,lastRow:w,lineHeight:$,characterWidth:this.characterWidth,minHeight:l,maxHeight:n,offset:m,gutterOffset:$?Math.max(0,Math.ceil((m+t.height-t.scrollerHeight)/$)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(s-this.$padding),y},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(e>i.lastRow+1)&&!(t<i.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,i){this.scrollCursorIntoView(e,i),this.scrollCursorIntoView(t,i)},this.scrollCursorIntoView=function(e,t,i){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(e),s=n.left,o=n.top,r=i&&i.top||0,a=i&&i.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+r>o?(t&&l+r>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var h=this.scrollLeft;h>s?(s<this.$padding+2*this.layerConfig.characterWidth&&(s=-this.scrollMargin.left),this.session.setScrollLeft(s)):h+this.$size.scrollerWidth<s+this.characterWidth?this.session.setScrollLeft(Math.round(s+this.characterWidth-this.$size.scrollerWidth)):h<=this.$padding&&s-h<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){\"number\"==typeof e&&(e={row:e,column:0});var i=this.$cursorLayer.getPixelPosition(e),n=this.$size.scrollerHeight-this.lineHeight,s=i.top-n*(t||0);return this.session.setScrollTop(s),s},this.STEPS=8,this.$calcSteps=function(e,t){var i,n,s=0,o=this.STEPS,r=[];for(s=0;s<o;++s)r.push((i=s/this.STEPS,n=e,(t-e)*(Math.pow(i-1,3)+1)+n));return r},this.scrollToLine=function(e,t,i,n){var s=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),!1!==i&&this.animateScrolling(o,n)},this.animateScrolling=function(e,t){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(e!=i){if(this.$scrollAnimation){var s=this.$scrollAnimation.steps;if(s.length&&(e=s[0])==i)return}var o=n.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:o},clearInterval(this.$timer),n.session.setScrollTop(o.shift()),n.session.$scrollTop=i,this.$timer=setInterval((function(){if(!n.session)return clearInterval(n.$timer);o.length?(n.session.setScrollTop(o.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([e,t]);e=n[1]-this.gutterWidth-this.margin.left,t=n[0]}else i=this.scroller.getBoundingClientRect();var s=e+this.scrollLeft-i.left-this.$padding,o=s/this.characterWidth,r=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:r,column:a,side:o-a>0?1:-1,offsetX:s}},this.screenToTextCoordinates=function(e,t){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([e,t]);e=n[1]-this.gutterWidth-this.margin.left,t=n[0]}else i=this.scroller.getBoundingClientRect();var s=e+this.scrollLeft-i.left-this.$padding,o=s/this.characterWidth,r=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(r,0),s)},this.textToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(e,t),s=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e)?this.session.$bidiHandler.getPosLeft(n.column):Math.round(n.column*this.characterWidth)),o=n.row*this.lineHeight;return{pageX:i.left+s-this.scrollLeft,pageY:i.top+o-this.scrollTop}},this.visualizeFocus=function(){s.addCssClass(this.container,\"ace_focus\")},this.visualizeBlur=function(){s.removeCssClass(this.container,\"ace_focus\")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),void 0==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(s.addCssClass(this.textarea,\"ace_composition\"),this.textarea.style.cssText=\"\",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display=\"none\"):e.markerId=this.session.addMarker(e.markerRange,\"ace_composition_marker\",\"text\")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,\"composition_placeholder\",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),s.removeCssClass(this.textarea,\"ace_composition\"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=\"\"}},this.addToken=function(e,t,i,n){var s=this.session;s.bgTokenizer.lines[i]=null;var o={type:t,value:e},r=s.getTokens(i);if(null==n)r.push(o);else for(var a=0,l=0;l<r.length;l++){var h=r[l];if(n<=(a+=h.value.length)){var c=h.value.length-(a-n),u=h.value.slice(0,c),d=h.value.slice(c);r.splice(l,1,{type:h.type,value:u},o,{type:h.type,value:d});break}}this.updateLines(i,i)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var i=this;if(this.$themeId=e,i._dispatchEvent(\"themeChange\",{theme:e}),e&&\"string\"!=typeof e)r(e);else{var n=e||this.$options.theme.initialValue;o.loadModule([\"theme\",n],r)}function r(n){if(i.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error(\"couldn't load module \"+e+\" or it didn't call define\");n.$id&&(i.$themeId=n.$id),s.importCssString(n.cssText,n.cssClass,i.container),i.theme&&s.removeCssClass(i.container,i.theme.cssClass);var o=\"padding\"in n?n.padding:\"padding\"in(i.theme||{})?4:i.$padding;i.$padding&&o!=i.$padding&&i.setPadding(o),i.$theme=n.cssClass,i.theme=n,s.addCssClass(i.container,n.cssClass),s.setCssClass(i.container,\"ace_dark\",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent(\"themeLoaded\",{theme:n}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){s.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){s.removeCssClass(this.container,e)},this.setCursorStyle=function(e){s.setStyle(this.scroller.style,\"cursor\",e)},this.setMouseCursor=function(e){s.setStyle(this.scroller.style,\"cursor\",e)},this.attachToShadowRoot=function(){s.importCssString(m,\"ace_editor.css\",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=\"\"}}).call(w.prototype),o.defineOptions(w.prototype,\"renderer\",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){\"number\"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?\"block\":\"none\",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){s.setCssClass(this.$gutter,\"ace_fade-fold-widgets\",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){\"number\"==typeof e&&(e+=\"px\"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:\"./theme/textmate\",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!p.isMobile&&!p.isIE}}),t.VirtualRenderer=w})),ace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"],(function(e,t,i){\"use strict\";var n=e(\"../lib/oop\"),s=e(\"../lib/net\"),o=e(\"../lib/event_emitter\").EventEmitter,r=e(\"../config\");function a(e){if(\"undefined\"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(r.get(\"loadWorkerFromBlob\")){var t=function(e){var t=\"importScripts('\"+s.qualifyURL(e)+\"');\";try{return new Blob([t],{type:\"application/javascript\"})}catch(n){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(t),i.getBlob(\"application/javascript\")}}(e),i=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(i)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,o),this.$createWorkerFromOldConfig=function(t,i,n,s,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),r.get(\"packaged\")||!e.toUrl)s=s||r.moduleUrl(i,\"worker\");else{var l=this.$normalizePath;s=s||l(e.toUrl(\"ace/worker/worker.js\",null,\"_\"));var h={};t.forEach((function(t){h[t]=l(e.toUrl(t,null,\"_\").replace(/(\\.js)?(\\?.*)?$/,\"\"))}))}return this.$worker=a(s),o&&this.send(\"importScripts\",o),this.$worker.postMessage({init:!0,tlns:h,module:i,classname:n}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case\"event\":this._signal(t.name,{data:t.data});break;case\"call\":var i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case\"error\":this.reportError(t.data);break;case\"log\":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return s.qualifyURL(e)},this.terminate=function(){this._signal(\"terminate\",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off(\"change\",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,t.push(n)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(i){console.error(i.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call(\"setValue\",[e.getValue()]),e.on(\"change\",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),\"insert\"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call(\"setValue\",[this.$doc.getValue()]):this.emit(\"change\",{data:e}))}}).call(l.prototype);t.UIWorkerClient=function(e,t,i){var n=null,s=!1,a=Object.create(o),h=[],c=new l({messageBuffer:h,terminate:function(){},postMessage:function(e){h.push(e),n&&(s?setTimeout(u):u())}});c.setEmitSync=function(e){s=e};var u=function(){var e=h.shift();e.command?n[e.command].apply(n,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){c.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:\"call\",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:\"event\",name:e,data:t})},r.loadModule([\"worker\",t],(function(e){for(n=new e[i](a);h.length;)u()})),c},t.WorkerClient=l,t.createWorker=a})),ace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"],(function(e,t,i){\"use strict\";var n=e(\"./range\").Range,s=e(\"./lib/event_emitter\").EventEmitter,o=e(\"./lib/oop\"),r=function(e,t,i,n,s,o){var r=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=s,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on(\"change\",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout((function(){r.onCursorChange()}))},this.$pos=i;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on(\"changeCursor\",this.$onCursorChange)};(function(){o.implement(this,s),this.setup=function(){var e=this,t=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var s=this.pos;s.$insertRight=!0,s.detach(),s.markerId=i.addMarker(new n(s.row,s.column,s.row,s.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(i){var n=t.createAnchor(i.row,i.column);n.$insertRight=!0,n.detach(),e.others.push(n)})),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(i){i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var i=\"insert\"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,s=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),s&&(this.length+=i),s&&!this.session.$fromUndo)if(\"insert\"===e.action)for(var r=this.others.length-1;r>=0;r--){var a={row:(l=this.others[r]).row,column:l.column+o};this.doc.insertMergedLines(a,e.lines)}else if(\"remove\"===e.action)for(r=this.others.length-1;r>=0;r--){var l;a={row:(l=this.others[r]).row,column:l.column+o};this.doc.remove(new n(a.row,a.column,a.row,a.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,i=function(i,s){t.removeMarker(i.markerId),i.markerId=t.addMarker(new n(i.row,i.column,i.row,i.column+e.length),s,null,!1)};i(this.pos,this.mainClass);for(var s=this.others.length;s--;)i(this.others[s],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit(\"cursorEnter\",e)):(this.hideOtherMarkers(),this._emit(\"cursorLeave\",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off(\"change\",this.$onUpdate),this.session.selection.off(\"changeCursor\",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(r.prototype),t.PlaceHolder=r})),ace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"],(function(e,t,i){var n=e(\"../lib/event\"),s=e(\"../lib/useragent\");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,i=t.altKey,r=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),h=e.getButton();if(a&&s.isMac&&(h=t.button),e.editor.inMultiSelectMode&&2==h)e.editor.textInput.onContextMenu(e.domEvent);else if(a||i||l){if(0===h){var c,u=e.editor,d=u.selection,g=u.inMultiSelectMode,f=e.getDocumentPosition(),m=d.getCursor(),p=e.inSelection()||d.isEmpty()&&o(f,m),v=e.x,w=e.y,$=u.session,b=u.renderer.pixelToScreenCoordinates(v,w),y=b;if(u.$mouseHandler.$enableJumpToDef)a&&i||l&&i?c=r?\"block\":\"add\":i&&u.$blockSelectEnabled&&(c=\"block\");else if(l&&!i){if(c=\"add\",!g&&r)return}else i&&u.$blockSelectEnabled&&(c=\"block\");if(c&&s.isMac&&t.ctrlKey&&u.$mouseHandler.cancelContextMenu(),\"add\"==c){if(!g&&p)return;if(!g){var C=d.toOrientedRange();u.addSelectionMarker(C)}var S=d.rangeList.rangeAtPoint(f);u.inVirtualSelectionMode=!0,r&&(S=null,C=d.ranges[0]||C,u.removeSelectionMarker(C)),u.once(\"mouseup\",(function(){var e=d.toOrientedRange();S&&e.isEmpty()&&o(S.cursor,e.cursor)?d.substractPoint(e.cursor):(r?d.substractPoint(C.cursor):C&&(u.removeSelectionMarker(C),d.addRange(C)),d.addRange(e)),u.inVirtualSelectionMode=!1}))}else if(\"block\"==c){var x;e.stop(),u.inVirtualSelectionMode=!0;var k=[],A=function(){var e=u.renderer.pixelToScreenCoordinates(v,w),t=$.screenToDocumentPosition(e.row,e.column,e.offsetX);o(y,e)&&o(t,d.lead)||(y=e,u.selection.moveToPosition(t),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(k),k=d.rectangularRangeBlock(y,b),u.$mouseHandler.$clickSelection&&1==k.length&&k[0].isEmpty()&&(k[0]=u.$mouseHandler.$clickSelection.clone()),k.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers())};g&&!l?d.toSingleRange():!g&&l&&(x=d.toOrientedRange(),u.addSelectionMarker(x)),r?b=$.documentToScreenPosition(d.lead):d.moveToPosition(f),y={row:-1,column:-1};var L=A;n.capture(u.container,(function(e){v=e.clientX,w=e.clientY}),(function(e){A(),clearInterval(R),u.removeSelectionMarkers(k),k.length||(k=[d.toOrientedRange()]),x&&(u.removeSelectionMarker(x),d.toSingleRange(x));for(var t=0;t<k.length;t++)d.addRange(k[t]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null}));var R=setInterval((function(){L()}),20);return e.preventDefault()}}}else 0===h&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"],(function(e,t,i){t.defaultCommands=[{name:\"addCursorAbove\",description:\"Add cursor above\",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:\"Ctrl-Alt-Up\",mac:\"Ctrl-Alt-Up\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"addCursorBelow\",description:\"Add cursor below\",exec:function(e){e.selectMoreLines(1)},bindKey:{win:\"Ctrl-Alt-Down\",mac:\"Ctrl-Alt-Down\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"addCursorAboveSkipCurrent\",description:\"Add cursor above (skip current)\",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Up\",mac:\"Ctrl-Alt-Shift-Up\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"addCursorBelowSkipCurrent\",description:\"Add cursor below (skip current)\",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Down\",mac:\"Ctrl-Alt-Shift-Down\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectMoreBefore\",description:\"Select more before\",exec:function(e){e.selectMore(-1)},bindKey:{win:\"Ctrl-Alt-Left\",mac:\"Ctrl-Alt-Left\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectMoreAfter\",description:\"Select more after\",exec:function(e){e.selectMore(1)},bindKey:{win:\"Ctrl-Alt-Right\",mac:\"Ctrl-Alt-Right\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectNextBefore\",description:\"Select next before\",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Left\",mac:\"Ctrl-Alt-Shift-Left\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"selectNextAfter\",description:\"Select next after\",exec:function(e){e.selectMore(1,!0)},bindKey:{win:\"Ctrl-Alt-Shift-Right\",mac:\"Ctrl-Alt-Shift-Right\"},scrollIntoView:\"cursor\",readOnly:!0},{name:\"toggleSplitSelectionIntoLines\",description:\"Split into lines\",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:\"Ctrl-Alt-L\",mac:\"Ctrl-Alt-L\"},readOnly:!0},{name:\"splitSelectionIntoLines\",description:\"Split into lines\",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:\"alignCursors\",description:\"Align cursors\",exec:function(e){e.alignCursors()},bindKey:{win:\"Ctrl-Alt-A\",mac:\"Ctrl-Alt-A\"},scrollIntoView:\"cursor\"},{name:\"findAll\",description:\"Find all\",exec:function(e){e.findAll()},bindKey:{win:\"Ctrl-Alt-K\",mac:\"Ctrl-Alt-G\"},scrollIntoView:\"cursor\",readOnly:!0}],t.multiSelectCommands=[{name:\"singleSelection\",description:\"Single selection\",bindKey:\"esc\",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:\"cursor\",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e(\"../keyboard/hash_handler\").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)})),ace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"],(function(e,t,i){var n=e(\"./range_list\").RangeList,s=e(\"./range\").Range,o=e(\"./selection\").Selection,r=e(\"./mouse/multi_select_handler\").onMouseDown,a=e(\"./lib/event\"),l=e(\"./lib/lang\"),h=e(\"./commands/multi_select_commands\");t.commands=h.defaultCommands.concat(h.multiSelectCommands);var c=new(0,e(\"./search\").Search);var u=e(\"./edit_session\").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}e.cursor||(e.cursor=e.end);var n=this.rangeList.add(e);return this.$onAddRange(e),n.length&&this.$onRemoveRange(n),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal(\"multiSelect\"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal(\"addRange\",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var i=e.length;i--;){var n=this.ranges.indexOf(e[i]);this.ranges.splice(n,1)}this._signal(\"removeRange\",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal(\"singleSelect\"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new n,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],i=0;i<e.length;i++){var n=e[i],o=n.start.row,r=n.end.row;if(o===r)t.push(n.clone());else{for(t.push(new s(o,n.start.column,o,this.session.getLine(o).length));++o<r;)t.push(this.getLineRange(o,!0));t.push(new s(r,0,r,n.end.column))}0!=i||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(i=t.length;i--;)this.addRange(t[i])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],i=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],i=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{var n=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(n,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,i){var n=[],o=e.column<t.column;if(o)var r=e.column,a=t.column,l=e.offsetX,h=t.offsetX;else r=t.column,a=e.column,l=t.offsetX,h=e.offsetX;var c,u,d,g=e.row<t.row;if(g)var f=e.row,m=t.row;else f=t.row,m=e.row;r<0&&(r=0),f<0&&(f=0),f==m&&(i=!0);for(var p=f;p<=m;p++){var v=s.fromPoints(this.session.screenToDocumentPosition(p,r,l),this.session.screenToDocumentPosition(p,a,h));if(v.isEmpty()){if(c&&(u=v.end,d=c,u.row==d.row&&u.column==d.column))break;c=v.end}v.cursor=o?v.start:v.end,n.push(v)}if(g&&n.reverse(),!i){for(var w=n.length-1;n[w].isEmpty()&&w>0;)w--;if(w>0)for(var $=0;n[$].isEmpty();)$++;for(var b=w;b>=$;b--)n[b].isEmpty()&&n.splice(b,1)}return n}}.call(o.prototype);var d=e(\"./editor\").Editor;function g(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on(\"changeSession\",e.$multiselectOnSessionChange),e.on(\"mousedown\",r),e.commands.addCommands(h.defaultCommands),function(e){if(!e.textInput)return;var t=e.textInput.getElement(),i=!1;function n(t){i&&(e.renderer.setMouseCursor(\"\"),i=!1)}a.addListener(t,\"keydown\",(function(t){var s=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&s?i||(e.renderer.setMouseCursor(\"crosshair\"),i=!0):i&&n()}),e),a.addListener(t,\"keyup\",n,e),a.addListener(t,\"blur\",n,e)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,\"ace_selection\",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,i=e.length;i--;){var n=e[i];if(n.marker){this.session.removeMarker(n.marker);var s=t.indexOf(n);-1!=s&&t.splice(s,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle(\"ace_multiselect\"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler(\"exec\",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle(\"ace_multiselect\"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler(\"exec\",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit(\"changeSelection\"))},this.$onMultiSelectExec=function(e){var t=e.command,i=e.editor;if(i.multiSelect){if(t.multiSelectAction)\"forEach\"==t.multiSelectAction?n=i.forEachSelection(t,e.args):\"forEachLine\"==t.multiSelectAction?n=i.forEachSelection(t,e.args,!0):\"single\"==t.multiSelectAction?(i.exitMultiSelectMode(),n=t.exec(i,e.args||{})):n=t.multiSelectAction(i,e.args||{});else{var n=t.exec(i,e.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(e,t,i){if(!this.inVirtualSelectionMode){var n,s=i&&i.keepOrder,r=1==i||i&&i.$byLines,a=this.session,l=this.selection,h=l.rangeList,c=(s?l:h).ranges;if(!c.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var u=l._eventRegistry;l._eventRegistry={};var d=new o(a);this.inVirtualSelectionMode=!0;for(var g=c.length;g--;){if(r)for(;g>0&&c[g].start.row==c[g-1].end.row;)g--;d.fromOrientedRange(c[g]),d.index=g,this.selection=a.selection=d;var f=e.exec?e.exec(this,t||{}):e(this,t||{});n||void 0===f||(n=f),d.toOrientedRange(c[g])}d.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=u,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e=\"\";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,i=[],n=0;n<t.length;n++)i.push(this.session.getTextRange(t[n]));var s=this.session.getDocument().getNewLineCharacter();(e=i.join(s)).length==(i.length-1)*s.length&&(e=\"\")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var n=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;n.row!=t.row||this.session.$clipPositionToDocument(n.row,n.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,i){if((t=t||{}).needle=e||t.needle,void 0==t.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(n)}this.$search.set(t);var s=this.$search.findAll(this.session);if(!s.length)return 0;var o=this.multiSelect;i||o.toSingleRange(s[0]);for(var r=s.length;r--;)o.addRange(s[r],!0);return n&&o.rangeList.rangeAtPoint(n.start)&&o.addRange(n,!0),s.length},this.selectMoreLines=function(e,t){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,o=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var r,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(i.isEmpty())h=a;else var l=this.session.documentToScreenPosition(n?i.end:i.start),h=this.session.screenToDocumentPosition(l.row+e,l.column);n?(r=s.fromPoints(a,h)).cursor=r.start:(r=s.fromPoints(h,a)).cursor=r.end;if(r.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var c=i.cursor}else this.selection.addRange(i);this.selection.addRange(r),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,i=t.multiSelect,n=i.ranges,s=n.length;s--;){if((a=n[s]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}}i.mergeOverlappingRanges();var r=[];for(s=n.length;s--;){var a=n[s];r.unshift(t.getTextRange(a))}e<0?r.unshift(r.pop()):r.push(r.shift());for(s=n.length;s--;){o=(a=n[s]).clone();t.replace(a,r[s]),a.start.row=o.start.row,a.start.column=o.start.column}i.fromOrientedRange(i.ranges[0])},this.selectMore=function(e,t,i){var n=this.session,s=n.multiSelect.toOrientedRange();if(!s.isEmpty()||((s=n.getWordRange(s.start.row,s.start.column)).cursor=-1==e?s.start:s.end,this.multiSelect.addRange(s),!i)){var o=n.getTextRange(s),r=function(e,t,i){return c.$options.wrap=!0,c.$options.needle=t,c.$options.backwards=-1==i,c.find(e)}(n,o,e);r&&(r.cursor=-1==e?r.start:r.end,this.session.unfold(r),this.multiSelect.addRange(r),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,i=t.ranges,n=-1,o=i.filter((function(e){if(e.cursor.row==n)return!0;n=e.cursor.row}));if(i.length&&o.length!=i.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var r=0,a=1/0,h=i.map((function(t){var i=t.cursor,n=e.getLine(i.row).substr(i.column).search(/\\S/g);return-1==n&&(n=0),i.column>r&&(r=i.column),n<a&&(a=n),n}));i.forEach((function(t,i){var n=t.cursor,o=r-n.column,c=h[i]-a;o>c?e.insert(n,l.stringRepeat(\" \",o-c)):e.remove(new s(n.row,n.column,n.row,n.column-o+c)),t.start.column=t.end.column=r,t.start.row=t.end.row=n.row,t.cursor=t.end})),t.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,d=c.end.row,g=u==d;if(g){var f,m=this.session.getLength();do{f=this.session.getLine(d)}while(/[=:]/.test(f)&&++d<m);do{f=this.session.getLine(u)}while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),d>=m&&(d=m-1)}var p=this.session.removeFullLines(u,d);p=this.$reAlignText(p,g),this.session.insert({row:u,column:0},p.join(\"\\n\")+\"\\n\"),g||(c.start.column=0,c.end.column=p[p.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){var i,n,s,o=!0,r=!0;return e.map((function(e){var t=e.match(/(\\s*)(.*?)(\\s*)([=:].*)/);return t?null==i?(i=t[1].length,n=t[2].length,s=t[3].length,t):(i+n+s!=t[1].length+t[2].length+t[3].length&&(r=!1),i!=t[1].length&&(o=!1),i>t[1].length&&(i=t[1].length),n<t[2].length&&(n=t[2].length),s>t[3].length&&(s=t[3].length),t):[e]})).map(t?h:o?r?function(e){return e[2]?a(i+n-e[2].length)+e[2]+a(s)+e[4].replace(/^([=:])\\s+/,\"$1 \"):e[0]}:h:function(e){return e[2]?a(i)+e[2]+a(s)+e[4].replace(/^([=:])\\s+/,\"$1 \"):e[0]});function a(e){return l.stringRepeat(\" \",e)}function h(e){return e[2]?a(i)+e[2]+a(n-e[2].length+s)+e[4].replace(/^([=:])\\s+/,\"$1 \"):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var i=e.oldSession;i&&(i.multiSelect.off(\"addRange\",this.$onAddRange),i.multiSelect.off(\"removeRange\",this.$onRemoveRange),i.multiSelect.off(\"multiSelect\",this.$onMultiSelect),i.multiSelect.off(\"singleSelect\",this.$onSingleSelect),i.multiSelect.lead.off(\"change\",this.$checkMultiselectChange),i.multiSelect.anchor.off(\"change\",this.$checkMultiselectChange)),t&&(t.multiSelect.on(\"addRange\",this.$onAddRange),t.multiSelect.on(\"removeRange\",this.$onRemoveRange),t.multiSelect.on(\"multiSelect\",this.$onMultiSelect),t.multiSelect.on(\"singleSelect\",this.$onSingleSelect),t.multiSelect.lead.on(\"change\",this.$checkMultiselectChange),t.multiSelect.anchor.on(\"change\",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=g,e(\"./config\").defineOptions(d.prototype,\"editor\",{enableMultiselect:{set:function(e){g(this),e?(this.on(\"changeSession\",this.$multiselectOnSessionChange),this.on(\"mousedown\",r)):(this.off(\"changeSession\",this.$multiselectOnSessionChange),this.off(\"mousedown\",r))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=e(\"../../range\").Range,s=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);return this.foldingStartMarker.test(n)?\"start\":\"markbeginend\"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?\"end\":\"\"},this.getFoldWidgetRange=function(e,t,i){return null},this.indentationBlock=function(e,t,i){var s=/\\S/,o=e.getLine(t),r=o.search(s);if(-1!=r){for(var a=i||o.length,l=e.getLength(),h=t,c=t;++t<l;){var u=e.getLine(t).search(s);if(-1!=u){if(u<=r){var d=e.getTokenAt(t,0);if(!d||\"string\"!==d.type)break}c=t}}if(c>h){var g=e.getLine(c).length;return new n(h,a,c,g)}}},this.openingBracketBlock=function(e,t,i,s,o){var r={row:i,column:s+1},a=e.$findClosingBracket(t,r,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),\"start\"==l&&a.row>r.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(r,a)}},this.closingBracketBlock=function(e,t,i,s,o){var r={row:i,column:s},a=e.$findOpeningBracket(t,r);if(a)return a.column++,r.column--,n.fromPoints(a,r)}}).call(s.prototype)})),ace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],(function(e,t,i){\"use strict\";t.isDark=!1,t.cssClass=\"ace-tm\",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") right repeat-y;}',t.$id=\"ace/theme/textmate\",e(\"../lib/dom\").importCssString(t.cssText,t.cssClass)})),ace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"],(function(e,t,i){\"use strict\";var n=e(\"./lib/dom\");function s(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on(\"change\",this.updateOnChange),this.session.on(\"changeFold\",this.updateOnFold),this.session.on(\"changeEditor\",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on(\"beforeRender\",this.measureWidgets),e.renderer.on(\"afterRender\",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off(\"beforeRender\",this.measureWidgets),t.renderer.off(\"afterRender\",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var i=t.lineWidgets;if(i&&e.action){for(var n=e.data,s=n.start.row,o=n.end.row,r=\"add\"==e.action,a=s+1;a<o;a++)i[a]&&(i[a].hidden=r);i[o]&&(r?i[s]?i[o].hidden=r:i[s]=i[o]:(i[s]==i[o]&&(i[s]=void 0),i[o].hidden=r))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var i=e.start.row,n=e.end.row-i;if(0===n);else if(\"remove\"==e.action){var s=t.splice(i+1,n);!t[i]&&s[s.length-1]&&(t[i]=s.pop()),s.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(n);t[i]&&null!=t[i].column&&e.start.column>t[i].column&&i++,o.unshift(i,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,i){if(e)for(t=!1,e.row=i;e.$oldWidget;)e.$oldWidget.row=i,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=n.createElement(\"div\"),e.el.innerHTML=e.html),e.el&&(n.addCssClass(e.el,\"ace_lineWidgetContainer\"),e.el.style.position=\"absolute\",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var i=this.session.getFoldAt(e.row,0);if(e.$fold=i,i){var s=this.session.lineWidgets;e.row!=i.end.row||s[i.start.row]?e.hidden=!0:s[i.start.row]=e}return this.session._emit(\"changeFold\",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(i){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit(\"changeFold\",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,i=t&&t[e],n=[];i;)n.push(i),i=i.$oldWidget;return n},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var i=this.session._changedWidgets,n=t.layerConfig;if(i&&i.length){for(var s=1/0,o=0;o<i.length;o++){var r=i[o];if(r&&r.el&&r.session==this.session){if(!r._inDocument){if(this.session.lineWidgets[r.row]!=r)continue;r._inDocument=!0,t.container.appendChild(r.el)}r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/n.characterWidth));var a=r.h/n.lineHeight;r.coverLine&&(a-=this.session.getRowLineCount(r.row))<0&&(a=0),r.rowCount!=a&&(r.rowCount=a,r.row<s&&(s=r.row))}}s!=1/0&&(this.session._emit(\"changeFold\",{data:{start:{row:s}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var i=t.layerConfig,n=this.session.lineWidgets;if(n){for(var s=Math.min(this.firstRow,i.firstRow),o=Math.max(this.lastRow,i.lastRow,n.length);s>0&&!n[s];)s--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,t.$cursorLayer.config=i;for(var r=s;r<=o;r++){var a=n[r];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+\"px\";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;a.coverLine||(l+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-i.offset+\"px\";var h=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(h-=t.scrollLeft),a.el.style.left=h+\"px\",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=i.width+2*i.padding+\"px\"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+\"px\":a.el.style.right=\"\"}}}}}).call(s.prototype),t.LineWidgets=s})),ace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"],(function(e,t,i){\"use strict\";var n=e(\"../line_widgets\").LineWidgets,s=e(\"../lib/dom\"),o=e(\"../range\").Range;t.showErrorMarker=function(e,t){var i=e.session;i.widgetManager||(i.widgetManager=new n(i),i.widgetManager.attach(e));var r=e.getCursorPosition(),a=r.row,l=i.widgetManager.getWidgetsAtRow(a).filter((function(e){return\"errorMarker\"==e.type}))[0];l?l.destroy():a-=t;var h,c=function(e,t,i){var n=e.getAnnotations().sort(o.comparePoints);if(n.length){var s=function(e,t,i){for(var n=0,s=e.length-1;n<=s;){var o=n+s>>1,r=i(t,e[o]);if(r>0)n=o+1;else{if(!(r<0))return o;s=o-1}}return-(n+1)}(n,{row:t,column:-1},o.comparePoints);s<0&&(s=-s-1),s>=n.length?s=i>0?0:n.length-1:0===s&&i<0&&(s=n.length-1);var r=n[s];if(r&&i){if(r.row===t){do{r=n[s+=i]}while(r&&r.row===t);if(!r)return n.slice()}var a=[];t=r.row;do{a[i<0?\"unshift\":\"push\"](r),r=n[s+=i]}while(r&&r.row==t);return a.length&&a}}}(i,a,t);if(c){var u=c[0];r.column=(u.pos&&\"number\"!=typeof u.column?u.pos.sc:u.column)||0,r.row=u.row,h=e.renderer.$gutterLayer.$annotations[r.row]}else{if(l)return;h={text:[\"Looks good!\"],className:\"ace_ok\"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var d={row:r.row,fixedWidth:!0,coverGutter:!0,el:s.createElement(\"div\"),type:\"errorMarker\"},g=d.el.appendChild(s.createElement(\"div\")),f=d.el.appendChild(s.createElement(\"div\"));f.className=\"error_widget_arrow \"+h.className;var m=e.renderer.$cursorLayer.getPixelPosition(r).left;f.style.left=m+e.renderer.gutterWidth-5+\"px\",d.el.className=\"error_widget_wrapper\",g.className=\"error_widget \"+h.className,g.innerHTML=h.text.join(\"<br>\"),g.appendChild(s.createElement(\"div\"));var p=function(e,t,i){if(0===t&&(\"esc\"===i||\"return\"===i))return d.destroy(),{command:\"null\"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(p),i.widgetManager.removeLineWidget(d),e.off(\"changeSelection\",d.destroy),e.off(\"changeSession\",d.destroy),e.off(\"mouseup\",d.destroy),e.off(\"change\",d.destroy))},e.keyBinding.addKeyboardHandler(p),e.on(\"changeSelection\",d.destroy),e.on(\"changeSession\",d.destroy),e.on(\"mouseup\",d.destroy),e.on(\"change\",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},s.importCssString(\"    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }\",\"\")})),ace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\"],(function(e,t,n){\"use strict\";e(\"./lib/fixoldbrowsers\");var s=e(\"./lib/dom\"),o=e(\"./lib/event\"),r=e(\"./range\").Range,a=e(\"./editor\").Editor,l=e(\"./edit_session\").EditSession,h=e(\"./undomanager\").UndoManager,c=e(\"./virtual_renderer\").VirtualRenderer;e(\"./worker/worker_client\"),e(\"./keyboard/hash_handler\"),e(\"./placeholder\"),e(\"./multi_select\"),e(\"./mode/folding/fold_mode\"),e(\"./theme/textmate\"),e(\"./ext/error_marker\"),t.config=e(\"./config\"),t.require=e,t.define=i(\"Z66Z\"),t.edit=function(e,i){if(\"string\"==typeof e){var n=e;if(!(e=document.getElementById(n)))throw new Error(\"ace.edit can't find div #\"+n)}if(e&&e.env&&e.env.editor instanceof a)return e.env.editor;var r=\"\";if(e&&/input|textarea/i.test(e.tagName)){var l=e;r=l.value,e=s.createElement(\"pre\"),l.parentNode.replaceChild(e,l)}else e&&(r=e.textContent,e.innerHTML=\"\");var h=t.createEditSession(r),u=new a(new c(e),h,i),d={document:h,editor:u,onResize:u.resize.bind(u,null)};return l&&(d.textarea=l),o.addListener(window,\"resize\",d.onResize),u.on(\"destroy\",(function(){o.removeListener(window,\"resize\",d.onResize),d.editor.container.env=null})),u.container.env=u.env=d,u},t.createEditSession=function(e,t){var i=new l(e,t);return i.setUndoManager(new h),i},t.Range=r,t.Editor=a,t.EditSession=l,t.UndoManager=h,t.VirtualRenderer=c,t.version=t.config.version})),ace.require([\"ace/ace\"],(function(t){for(var i in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(i)&&(window.ace[i]=t[i]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))}).call(this,i(\"RoC8\")(e))}}]);","map":{"version":3,"sources":["static/chunks/0ba5e9ea.634104f4a87fadf30002.js"],"names":["window","push","ed46","module","exports","__webpack_require__","global","this","define","deps","payload","arguments","length","modules","payloads","original","apply","console","error","trace","_require","parentId","callback","lookup","undefined","Object","prototype","toString","call","params","i","l","dep","require","packagedModule","normalizeModule","moduleName","indexOf","chunks","split","charAt","slice","join","previous","replace","mod","id","uri","packaged","ns","root","exportAce","ace","Element","remove","defineProperty","enumerable","writable","configurable","value","parentNode","removeChild","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","navigator","os","exec","platform","toLowerCase","ua","userAgent","appName","isWin","isIE","parseFloat","match","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","test","MSStream","isMobile","useragent","buildDom","arr","parent","refs","txt","document","createTextNode","appendChild","Array","isArray","els","ch","el","createElement","options","childIndex","keys","forEach","n","val","className","setAttribute","getDocumentHead","doc","head","getElementsByTagName","documentElement","tag","createElementNS","removeChildren","element","innerHTML","textContent","ownerDocument","createFragment","createDocumentFragment","hasCssClass","name","addCssClass","removeCssClass","classes","index","splice","toggleCssClass","add","setCssClass","node","include","hasCssString","sheets","querySelectorAll","importCssString","cssText","target","container","getRootNode","style","insertBefore","firstChild","importCssStylsheet","rel","href","scrollbarWidth","inner","width","minWidth","height","display","outer","position","left","overflow","body","noScrollbar","offsetWidth","withScrollbar","clientWidth","computedStyle","getComputedStyle","setStyle","styles","property","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","transform","animationName","translate","tx","ty","Math","round","top","inherits","ctor","superCtor","super_","create","constructor","mixin","obj","key","implement","proto","oop","Keys","ret","MODIFIER_KEYS","16","17","18","224","91","92","93","KEY_MODS","ctrl","alt","option","shift","super","meta","command","cmd","control","FUNCTION_KEYS","8","9","13","19","27","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","-13","112","113","114","115","116","117","118","119","120","121","122","123","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","186","187","188","189","190","191","192","219","220","221","222","111","106","parseInt","enter","escape","esc","del","mods","pow","filter","x","keyCodeToString","keyCode","keyString","String","fromCharCode","activeListenerOptions","pressedKeys","ts","getListenerOptions","createComment","addEventListener","passive","e","detectListenerOptionsSupport","EventListener","elem","type","destroy","removeListener","addListener","destroyer","$toDestroy","removeEventListener","stopEvent","stopPropagation","preventDefault","getButton","ctrlKey","altKey","shiftKey","button","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","wheelDeltaX","wheelX","wheelY","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","detail","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","timer","clicks","eventNames","2","3","4","onMousedown","isNewClick","abs","clientX","clientY","clearTimeout","setTimeout","_clicks","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","defaultPrevented","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","result","postMessage","postMessageId","nextTick","win","messageName","listener","data","$idleBlocked","onIdle","cb","timeout","handler","$idleBlockId","blockIdle","delay","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","bind","Range","startRow","startColumn","endRow","endColumn","start","row","column","end","isEqual","range","contains","compare","compareRange","cmp","comparePoint","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","max","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","last","a","stringReverse","string","reverse","stringRepeat","count","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","array","deepCopy","arrayToMap","map","createMap","props","arrayRemove","escapeRegExp","str","escapeHTML","getMatchOffsets","regExp","matches","offset","deferredCall","fcn","deferred","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","$cancelT","lineMode","pasteCancelled","Date","now","event","dom","lang","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","MAX_LINE_LENGTH","KEYS","MODS","valueResetRegex","TextInput","host","text","opacity","copied","pasted","inComposition","sendingText","tempStyle","fontSize","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","isFocused","activeElement","onBlur","hasFocus","onFocus","resetSelection","$focusScroll","focus","preventScroll","isTransformed","getBoundingClientRect","ancestors","t","parentElement","nodeType","removeAttribute","blur","on","curOp","commandName","isUserAction","docChanged","selectionChanged","onCompositionEnd","newValue","selectionEnd","selection","setSelectionRange","afterContextMenu","selectionStart","line","getRange","cursor","getLine","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","onPaste","extendLeft","extendRight","inserted","restoreStart","restoreEnd","endIndex","shouldReset","onTextInput","onInput","onCompositionUpdate","inputType","execCommand","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","context","compositionStartOffset","off","closeTimeout","syncComposition","onContextMenuClose","renderer","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","_signal","getSelectionRange","msGetInputContext","getInputContext","getElement","setCommandMode","readOnly","setReadOnly","setCopyWithEmptySelection","onContextMenu","_emit","domEvent","moveToMouse","bringToFront","characterWidth","rect","borderTopWidth","borderLeftWidth","maxTop","bottom","clientHeight","move","min","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","up","home","down","right","commands","findKeyCommand","addIosSelectionHandler","$setUserAgentForTests","_isMobile","_isIOS","DefaultHandlers","mouseHandler","$clickSelection","editor","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","anchor","ev","inSelection","pos","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","y","getShiftKey","selectToPosition","setCapture","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","ax","ay","bx","by","distance","sqrt","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","stop","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","html","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","showTooltip","$gutter","MouseEvent","$inSelection","propagationStopped","selectionRange","DragdropHandler","blankImage","src","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","lineHeight","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","addMarker","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","clearInterval","setInterval","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","self","dataTransfer","effectAllowed","getReadOnly","scrollTop","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","insert","types","some","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","mode","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","action","getAttribute","selected","hasUndo","getUndoManager","replaceChild","class","updateMenu","readText","then","writeText","ontouchstart","ontouchend","onclick","showContextMenu","pagePos","textToScreenCoordinates","leftOffset","pageX","scrollLeft","pageY","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","setRange","switchToSelectionMode","cursorPos","getPixelPosition","anchorPos","offsetTop","offsetLeft","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","get","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","path","s","onload","_","isAbort","qualifyURL","EventEmitter","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","newCallback","Promise","resolve","handlers","_disabled_","old","disabled","removeDefaultHandler","pop","capturing","removeAllListeners","optionsProvider","setOptions","optList","setOption","getOptions","optionNames","$options","hidden","getOption","opt","warn","forwardTo","handlesSet","set","message","reportError","msg","Error","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","net","workerPath","modePath","themePath","basePath","suffix","$moduleUrls","loadWorkerFromBlob","sharedPopups","hasOwnProperty","all","$modes","moduleUrl","component","parts","sep","base","re","RegExp","setModuleUrl","subst","$loading","loadModule","onLoad","moduleType","afterLoad","reportErrorIfPathIsNotConfigured","init","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","script","attributes","j","attr","m","m1","toUpperCase","version","DefaultGutterHandler","config","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","args","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","ET","BN","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","len","_getCharClass","chars","ix","wType","nType","cType","c","rtlCandidate","_getCharacterType","uc","charCodeAt","L","R","EN","ON_R","AN","R_H","B","RLE","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","getValue","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","onChange","delta","lines","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","splits","$wrapData","indent","substring","size","isFullWidth","getScreenTabSize","$main","substr","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","getAnchor","getSelectionLead","isBackwards","$setSelection","Number","MAX_VALUE","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","lastIndex","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","lineWidgets","widget","rowsAbove","rowCount","docPos","keepDesiredColumn","moveCursorToScreen","desiredColumn","r","getRangeOfMovements","func","toJSON","rangeCount","ranges","r1","fromJSON","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","regex","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","values","tokens","stack","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","consumeLineEnd","merge","unshift","TextHighlightRules","$rules","addRules","prefix","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","concat","noEscape","keywordMap","createKeywordMapper","ignoreCase","splitChar","keywords","$keywordList","list","word","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","\"","'","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","charBefore","iterator","$matchTokenType","iterator2","bracket","wordChars","code","unicode","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","fun","minEmptyLength","floor","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","$id","delegations","scope","functionName","$delegator","method","language","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","score","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","setValue","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","from","to","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","SearchHighlight","clazz","setRegexp","MAX_RANGES","cache","update","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","sort","b","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","idx","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","startIndex","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","firstConsumed","consumedFolds","k","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","trim","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","foldToLevel","foldAllComments","$foldStyles","manual","markbegin","markbeginend","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","children","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","$brackets",")","(","]","[","{","}","<",">","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","setMode","bgTokenizer","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","setUndoManager","reset","getSelection","undoManager","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","undo","redo","hasRedo","addSelection","startNewGroup","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markerId","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","oldMode","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","isNaN","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","diff","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","indentation","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","find","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","bindKey","isDefault","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","returnValue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","showSettingsMenu","showErrorMarker","scrollIntoView","description","centerSelection","gotoLine","prompt","$type","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","autoIndent","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","updateFull","oldEditor","getSession","resize","onResize","setTheme","theme","getTheme","getFontSize","setFontSize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","getMatching","markerType","$highlightTags","$highlightTagPending","$tagHighlight","currentTag","prevToken","stepCount","tmpToken","sbm","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","$updateHighlightActiveLine","updateLines","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","d","lineState","shouldOutdent","$enableAutoIndent","lineIndent","selectedRange","currIndent","prevLineState","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","that","item","reg","wordPairs","negate","firstCondition","res","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","found","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","enableAutoIndent","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","placeholderNode","$placeholder","content","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","showGutter","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","getText","lastLineNumber","$renderer","UndoManager","$maxRev","allowMerge","$lastDelta","$keepRedoStack","$redoStack","lastDeltas","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","i2","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","fragment","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","padding","$padding","$computePadding","ceil","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","childNodes","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","markers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","showSpaces","showTabs","showEOL","$tabStrings","tabStr","span","$indentGuideRe","spaceClass","spaceContent","tabClass","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","rparen","lparen","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","MAX_SCROLL_H","ScrollBar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","changes","$recursionLimit","_flush","change","clear","CHAR_COUNT","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","observe","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","mul","solve","l1","l2","det","sub","m2","ut","u","f","GutterLayer","MarkerLayer","TextLayer","CursorLayer","editorCss","HIDE_TEXTAREA","VirtualRenderer","onGutterResize","$markerBack","textLayer","$textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$printMarginEl","containerEl","posTop","posLeft","setScrollMargin","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","freeze","unfreeze","st","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","$useTextareaForIME","addToken","removeExtraToken","newToken","$themeId","cssClass","$theme","isDark","setMouseCursor","attachToShadowRoot","workerUrl","Worker","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","onMessage","callbackId","callbacks","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","err","deltaQueue","$doc","emit","ex","attachToDocument","q","UIWorkerClient","main","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","zIndex","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","Renderer","edit","_id","getElementById","env","tagName","oldNode","createEditSession"],"mappings":"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EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,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"},"name":"static/chunks/0ba5e9ea.634104f4a87fadf30002.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[10],{\n\n/***/ \"ed46\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"ace\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\nace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nif (typeof Element != \"undefined\" && !Element.prototype.remove) {\n    Object.defineProperty(Element.prototype, \"remove\", {\n        enumerable: false,\n        writable: true,\n        configurable: true,\n        value: function() { this.parentNode && this.parentNode.removeChild(this); }\n    });\n}\n\n\n});\n\nace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function() {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    } else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    } else {\n        return exports.OS.WINDOWS;\n    }\n};\nvar _navigator = typeof navigator == \"object\" ? navigator : {};\n\nvar os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\nvar ua = _navigator.userAgent || \"\";\nvar appName = _navigator.appName || \"\";\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE = \n    (appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0)\n    ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1])\n    : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]); // for ie\n    \nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\nexports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\nexports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\n\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\nexports.isAndroid = ua.indexOf(\"Android\") >= 0;\n\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n\nif (exports.isIOS) exports.isMac = true;\n\nexports.isMobile = exports.isIOS || exports.isAndroid;\n\n});\n\nace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"./useragent\"); \nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\nexports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent)\n            parent.appendChild(txt);\n        return txt;\n    }\n    \n    if (!Array.isArray(arr)) {\n        if (arr && arr.appendChild && parent)\n            parent.appendChild(arr);\n        return arr;\n    }\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n            var ch = buildDom(arr[i], parent, refs);\n            ch && els.push(ch);\n        }\n        return els;\n    }\n    \n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n    for (var i = childIndex; i < arr.length; i++)\n        buildDom(arr[i], el, refs);\n    if (childIndex == 2) {\n        Object.keys(options).forEach(function(n) {\n            var val = options[n];\n            if (n === \"class\") {\n                el.className = Array.isArray(val) ? val.join(\" \") : val;\n            } else if (typeof val == \"function\" || n == \"value\" || n[0] == \"$\") {\n                el[n] = val;\n            } else if (n === \"ref\") {\n                if (refs) refs[val] = el;\n            } else if (val != null) {\n                el.setAttribute(n, val);\n            }\n        });\n    }\n    if (parent)\n        parent.appendChild(el);\n    return el;\n};\n\nexports.getDocumentHead = function(doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\n\nexports.createElement = function(tag, ns) {\n    return document.createElementNS ?\n           document.createElementNS(ns || XHTML_NS, tag) :\n           document.createElement(tag);\n};\n\nexports.removeChildren = function(element) {\n    element.innerHTML = \"\";\n};\n\nexports.createTextNode = function(textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n};\n\nexports.createFragment = function(element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n};\n\nexports.hasCssClass = function(el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function(el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\n\nexports.toggleCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function(node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    } else {\n        exports.removeCssClass(node, className);\n    }\n};\n\nexports.hasCssString = function(id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n    if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length)\n            if (sheets[index++].id === id)\n                return true;\n    }\n};\n\nexports.importCssString = function importCssString(cssText, id, target) {\n    var container = target;\n    if (!target || !target.getRootNode) {\n        container = document;\n    } else {\n        container = target.getRootNode();\n        if (!container || container == target)\n            container = document;\n    }\n    \n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container))\n        return null;\n    \n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    \n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id)\n        style.id = id;\n\n    if (container == doc)\n        container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n};\n\nexports.importCssStylsheet = function(uri, doc) {\n    exports.buildDom([\"link\", {rel: \"stylesheet\", href: uri}], exports.getDocumentHead(doc));\n};\nexports.scrollbarWidth = function(document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n\n    outer.appendChild(inner);\n\n    var body = document.documentElement;\n    body.appendChild(outer);\n\n    var noScrollbar = inner.offsetWidth;\n\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n\n    return noScrollbar-withScrollbar;\n};\n\nif (typeof document == \"undefined\") {\n    exports.importCssString = function() {};\n}\n\nexports.computedStyle = function(element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n};\n\nexports.setStyle = function(styles, property, value) {\n    if (styles[property] !== value) {\n        styles[property] = value;\n    }\n};\n\nexports.HAS_CSS_ANIMATION = false;\nexports.HAS_CSS_TRANSFORMS = false;\nexports.HI_DPI = useragent.isWin\n    ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n    : true;\n\nif (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform  !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n    div = null;\n}\n\nif (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function(element, tx, ty) {\n        element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) +\"px)\";\n    };\n} else {\n    exports.translate = function(element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n    };\n}\n\n});\n\nace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\n\nexports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\n\nexports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./oop\");\nvar Keys = (function() {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta',\n            91: 'MetaLeft', 92: 'MetaRight', 93: 'ContextMenu'\n        },\n\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\" : 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8, \n            \"control\": 1\n        },\n\n        FUNCTION_KEYS : {\n            8  : \"Backspace\",\n            9  : \"Tab\",\n            13 : \"Return\",\n            19 : \"Pause\",\n            27 : \"Esc\",\n            32 : \"Space\",\n            33 : \"PageUp\",\n            34 : \"PageDown\",\n            35 : \"End\",\n            36 : \"Home\",\n            37 : \"Left\",\n            38 : \"Up\",\n            39 : \"Right\",\n            40 : \"Down\",\n            44 : \"Print\",\n            45 : \"Insert\",\n            46 : \"Delete\",\n            96 : \"Numpad0\",\n            97 : \"Numpad1\",\n            98 : \"Numpad2\",\n            99 : \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n\n        PRINTABLE_KEYS: {\n           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',\n           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',\n           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',\n           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',\n           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',\n           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',\n          186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n          219: '[', 220: '\\\\',221: ']', 222: \"'\", 111: '/', 106: '*'\n        }\n    };\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n    \n    (function() {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {            \n            ret.KEY_MODS[i] = mods.filter(function(x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n\n    return ret;\n})();\noop.mixin(exports, Keys);\n\nexports.keyCodeToString = function(keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\nace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\n\nvar pressedKeys = null;\nvar ts = 0;\n\nvar activeListenerOptions;\nfunction detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n    try {\n        document.createComment(\"\").addEventListener(\"test\", function() {}, { \n            get passive() { \n                activeListenerOptions = {passive: false};\n            }\n        });\n    } catch(e) {}\n}\n\nfunction getListenerOptions() {\n    if (activeListenerOptions == undefined)\n        detectListenerOptionsSupport();\n    return activeListenerOptions;\n}\n\nfunction EventListener(elem, type, callback) {\n    this.elem = elem;\n    this.type = type;\n    this.callback = callback;\n}\nEventListener.prototype.destroy = function() {\n    removeListener(this.elem, this.type, this.callback);\n    this.elem = this.type = this.callback = undefined;\n};\n\nvar addListener = exports.addListener = function(elem, type, callback, destroyer) {\n    elem.addEventListener(type, callback, getListenerOptions());\n    if (destroyer)\n        destroyer.$toDestroy.push(new EventListener(elem, type, callback));\n};\n\nvar removeListener = exports.removeListener = function(elem, type, callback) {\n    elem.removeEventListener(type, callback, getListenerOptions());\n};\nexports.stopEvent = function(e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\n\nexports.stopPropagation = function(e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n};\n\nexports.preventDefault = function(e) {\n    if (e.preventDefault)\n        e.preventDefault();\n};\nexports.getButton = function(e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    return e.button;\n};\n\nexports.capture = function(el, eventHandler, releaseCaptureHandler) {\n    var ownerDocument = el && el.ownerDocument || document;\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n\n        removeListener(ownerDocument, \"mousemove\", eventHandler);\n        removeListener(ownerDocument, \"mouseup\", onMouseUp);\n        removeListener(ownerDocument, \"dragstart\", onMouseUp);\n    }\n\n    addListener(ownerDocument, \"mousemove\", eventHandler);\n    addListener(ownerDocument, \"mouseup\", onMouseUp);\n    addListener(ownerDocument, \"dragstart\", onMouseUp);\n    \n    return onMouseUp;\n};\n\nexports.addMouseWheelListener = function(el, callback, destroyer) {\n    if (\"onmousewheel\" in el) {\n        addListener(el, \"mousewheel\", function(e) {\n            var factor = 8;\n            if (e.wheelDeltaX !== undefined) {\n                e.wheelX = -e.wheelDeltaX / factor;\n                e.wheelY = -e.wheelDeltaY / factor;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = -e.wheelDelta / factor;\n            }\n            callback(e);\n        }, destroyer);\n    } else if (\"onwheel\" in el) {\n        addListener(el, \"wheel\",  function(e) {\n            var factor = 0.35;\n            switch (e.deltaMode) {\n                case e.DOM_DELTA_PIXEL:\n                    e.wheelX = e.deltaX * factor || 0;\n                    e.wheelY = e.deltaY * factor || 0;\n                    break;\n                case e.DOM_DELTA_LINE:\n                case e.DOM_DELTA_PAGE:\n                    e.wheelX = (e.deltaX || 0) * 5;\n                    e.wheelY = (e.deltaY || 0) * 5;\n                    break;\n            }\n            \n            callback(e);\n        }, destroyer);\n    } else {\n        addListener(el, \"DOMMouseScroll\", function(e) {\n            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                e.wheelX = (e.detail || 0) * 5;\n                e.wheelY = 0;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = (e.detail || 0) * 5;\n            }\n            callback(e);\n        }, destroyer);\n    }\n};\n\nexports.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName, destroyer) {\n    var clicks = 0;\n    var startX, startY, timer; \n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        } else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        } else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function() {timer = null;}, timeouts[clicks - 1] || 600);\n\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        \n        e._clicks = clicks;\n\n        eventHandler[callbackName](\"mousedown\", e);\n\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function(el) {\n        addListener(el, \"mousedown\", onMousedown, destroyer);\n    });\n};\n\nvar getModifierHash = function(e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n};\n\nexports.getModifierString = function(e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\n\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    \n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    \n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    \n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    \n    return callback(e, hashId, keyCode);\n}\n\n\nexports.addCommandKeyListener = function(el, callback, destroyer) {\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function(e) {\n            lastKeyDownKeyCode = e.keyCode;\n        }, destroyer);\n        addListener(el, \"keypress\", function(e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        }, destroyer);\n    } else {\n        var lastDefaultPrevented = null;\n\n        addListener(el, \"keydown\", function(e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        }, destroyer);\n\n        addListener(el, \"keypress\", function(e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        }, destroyer);\n\n        addListener(el, \"keyup\", function(e) {\n            pressedKeys[e.keyCode] = null;\n        }, destroyer);\n\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\n\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function(callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + (postMessageId++);\n        \n        var listener = function(e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                removeListener(win, \"message\", listener);\n                callback();\n            }\n        };\n        \n        addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n    };\n}\n\nexports.$idleBlocked = false;\nexports.onIdle = function(cb, timeout) {\n    return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n            cb();\n        } else {\n            setTimeout(handler, 100);\n        }\n    }, timeout);\n};\n\nexports.$idleBlockId = null;\nexports.blockIdle = function(delay) {\n    if (exports.$idleBlockId)\n        clearTimeout(exports.$idleBlockId);\n        \n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function() {\n        exports.$idleBlocked = false;\n    }, delay || 100);\n};\n\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\n\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function(callback) {\n        setTimeout(callback, 17);\n    };\n});\n\nace.define(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n\n(function() {\n    this.isEqual = function(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n\n    this.contains = function(row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            } else if (cmp == 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp == -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            } else if (cmp == 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function(p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function(range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function(row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function(row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    };\n    this.compareStart = function(row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            var end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            var start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            var start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function() {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function() {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    };\n    this.moveBy = function(row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n\n}).call(Range.prototype);\nRange.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\n\nRange.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\n\n\nexports.Range = Range;\n});\n\nace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.last = function(a) {\n    return a[a.length - 1];\n};\n\nexports.stringReverse = function(string) {\n    return string.split(\"\").reverse().join(\"\");\n};\n\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\n\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\n\nexports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\n\nexports.copyArray = function(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else \n            copy[i] = array[i];\n    }\n    return copy;\n};\n\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    \n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\n\nexports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n\n};\n\nexports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function(array, value) {\n  for (var i = 0; i <= array.length; i++) {\n    if (value === array[i]) {\n      array.splice(i, 1);\n    }\n  }\n};\n\nexports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\nexports.escapeHTML = function(str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\n\nexports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n\n    return matches;\n};\nexports.deferredCall = function(fcn) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    \n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n};\n\n\nexports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n};\n});\n\nace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar $cancelT;\nmodule.exports = { \n    lineMode: false,\n    pasteCancelled: function() {\n        if ($cancelT && $cancelT > Date.now() - 50)\n            return true;\n        return $cancelT = false;\n    },\n    cancel: function() {\n        $cancelT = Date.now();\n    }\n};\n\n});\n\nace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar clipboard = require(\"../clipboard\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE =  useragent.isIE;\nvar HAS_FOCUS_ARGS = useragent.isChrome > 63;\nvar MAX_LINE_LENGTH = 400;\n\nvar KEYS = require(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar isIOS = useragent.isIOS;\nvar valueResetRegex = isIOS ? /\\s/ : /\\n/;\nvar isMobile = useragent.isMobile;\n\nvar TextInput = function(parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    \n    if (!isMobile)\n        text.style.fontSize = \"1px\";\n\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    \n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n    try { var isFocused = document.activeElement === text; } catch(e) {}\n    \n    event.addListener(text, \"blur\", function(e) {\n        if (ignoreFocusEvents) return;\n        host.onBlur(e);\n        isFocused = false;\n    }, host);\n    event.addListener(text, \"focus\", function(e) {\n        if (ignoreFocusEvents) return;\n        isFocused = true;\n        if (useragent.isEdge) {\n            try {\n                if (!document.hasFocus())\n                    return;\n            } catch(e) {}\n        }\n        host.onFocus(e);\n        if (useragent.isEdge)\n            setTimeout(resetSelection);\n        else\n            resetSelection();\n    }, host);\n    this.$focusScroll = false;\n    this.focus = function() {\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n            return text.focus({ preventScroll: true });\n\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        try {\n            var isTransformed = text.getBoundingClientRect().top != 0;\n        } catch(e) {\n            return;\n        }\n        var ancestors = [];\n        if (isTransformed) {\n            var t = text.parentElement;\n            while (t && t.nodeType == 1) {\n                ancestors.push(t);\n                t.setAttribute(\"ace_nocontext\", true);\n                if (!t.parentElement && t.getRootNode)\n                    t = t.getRootNode().host;\n                else\n                    t = t.parentElement;\n            }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n            ancestors.forEach(function(p) {\n                p.removeAttribute(\"ace_nocontext\");\n            });\n        }\n        setTimeout(function() {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function() {\n        text.blur();\n    };\n    this.isFocused = function() {\n        return isFocused;\n    };\n    \n    host.on(\"beforeEndOperation\", function() {\n        var curOp = host.curOp;\n        var commandName = curOp && curOp.command && curOp.command.name;\n        if (commandName == \"insertstring\")\n            return;\n        var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);\n        if (inComposition && isUserAction) {\n            lastValue = text.value = \"\";\n            onCompositionEnd();\n        }\n        resetSelection();\n    });\n    \n    var resetSelection = isIOS\n    ? function(value) {\n        if (!isFocused || (copied && !value) || sendingText) return;\n        if (!value) \n            value = \"\";\n        var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n        if (newValue != text.value)\n            text.value = lastValue = newValue;\n        \n        var selectionStart = 4;\n        var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n\n        if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n            text.setSelectionRange(selectionStart, selectionEnd);\n        }\n        lastSelectionStart = selectionStart;\n        lastSelectionEnd = selectionEnd;\n    }\n    : function() {\n        if (inComposition || sendingText)\n            return;\n        if (!isFocused && !afterContextMenu)\n            return;\n        inComposition = true;\n        \n        var selectionStart = 0;\n        var selectionEnd = 0;\n        var line = \"\";\n\n        if (host.session) {\n            var selection = host.selection;\n            var range = selection.getRange();\n            var row = selection.cursor.row;\n            selectionStart = range.start.column;\n            selectionEnd = range.end.column;\n            line = host.session.getLine(row);\n\n            if (range.start.row != row) {\n                var prevLine = host.session.getLine(row - 1);\n                selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n                selectionEnd += prevLine.length + 1;\n                line = prevLine + \"\\n\" + line;\n            }\n            else if (range.end.row != row) {\n                var nextLine = host.session.getLine(row + 1);\n                selectionEnd = range.end.row > row  + 1 ? nextLine.length : selectionEnd;\n                selectionEnd += line.length + 1;\n                line = line + \"\\n\" + nextLine;\n            }\n            else if (isMobile && row > 0) {\n                line = \"\\n\" + line;\n                selectionEnd += 1;\n                selectionStart += 1;\n            }\n\n            if (line.length > MAX_LINE_LENGTH) {\n                if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                    line = line.slice(0, MAX_LINE_LENGTH);\n                } else {\n                    line = \"\\n\";\n                    if (selectionStart == selectionEnd) {\n                        selectionStart = selectionEnd = 0;\n                    }\n                    else {\n                        selectionStart = 0;\n                        selectionEnd = 1;\n                    }\n                }\n            }\n        }\n\n        var newValue = line + \"\\n\\n\";\n        if (newValue != lastValue) {\n            text.value = lastValue = newValue;\n            lastSelectionStart = lastSelectionEnd = newValue.length;\n        }\n        if (afterContextMenu) {\n            lastSelectionStart = text.selectionStart;\n            lastSelectionEnd = text.selectionEnd;\n        }\n        if (\n            lastSelectionEnd != selectionEnd \n            || lastSelectionStart != selectionStart \n            || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n        ) {\n            try {\n                text.setSelectionRange(selectionStart, selectionEnd);\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n            } catch(e){}\n        }\n        inComposition = false;\n    };\n    this.resetSelection = resetSelection;\n\n    if (isFocused)\n        host.onFocus();\n\n\n    var isAllSelected = function(text) {\n        return text.selectionStart === 0 && text.selectionEnd >= lastValue.length\n            && text.value === lastValue && lastValue\n            && text.selectionEnd !== lastSelectionEnd;\n    };\n\n    var onSelect = function(e) {\n        if (inComposition)\n            return;\n        if (copied) {\n            copied = false;\n        } else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        } else if (isMobile && text.selectionStart != lastSelectionStart) {\n            resetSelection();\n        }\n    };\n\n    var inputHandler = null;\n    this.setInputHandler = function(cb) {inputHandler = cb;};\n    this.getInputHandler = function() {return inputHandler;};\n    var afterContextMenu = false;\n    \n    var sendText = function(value, fromInput) {\n        if (afterContextMenu)\n            afterContextMenu = false;\n        if (pasted) {\n            resetSelection();\n            if (value)\n                host.onPaste(value);\n            pasted = false;\n            return \"\";\n        } else {\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n        \n            var extendLeft = lastSelectionStart;\n            var extendRight = lastValue.length - lastSelectionEnd;\n            \n            var inserted = value;\n            var restoreStart = value.length - selectionStart;\n            var restoreEnd = value.length - selectionEnd;\n        \n            var i = 0;\n            while (extendLeft > 0 && lastValue[i] == value[i]) {\n                i++;\n                extendLeft--;\n            }\n            inserted = inserted.slice(i);\n            i = 1;\n            while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1  && lastValue[lastValue.length - i] == value[value.length - i]) {\n                i++;\n                extendRight--;\n            }\n            restoreStart -= i-1;\n            restoreEnd -= i-1;\n            var endIndex = inserted.length - i + 1;\n            if (endIndex < 0) {\n                extendLeft = -endIndex;\n                endIndex = 0;\n            } \n            inserted = inserted.slice(0, endIndex);\n            if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)\n                return \"\";\n            sendingText = true;\n            var shouldReset = false;\n            if (useragent.isAndroid && inserted == \". \") {\n                inserted = \"  \";\n                shouldReset = true;\n            }\n            \n            if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                host.onTextInput(inserted);\n            } else {\n                host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                });\n            }\n            sendingText = false;\n            \n            lastValue = value;\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n            lastRestoreEnd = restoreEnd;\n            return shouldReset ? \"\\n\" : inserted;\n        }\n    };\n    var onInput = function(e) {\n        if (inComposition)\n            return onCompositionUpdate();\n        if (e && e.inputType) {\n            if (e.inputType == \"historyUndo\") return host.execCommand(\"undo\");\n            if (e.inputType == \"historyRedo\") return host.execCommand(\"redo\");\n        }\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (\n            data.length > MAX_LINE_LENGTH + 100 \n            || valueResetRegex.test(inserted)\n            || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd\n        ) {\n            resetSelection();\n        }\n    };\n    \n    var handleClipboardData = function(e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            } else {\n                return clipboardData.getData(mime);\n            }\n        } catch(e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n\n    var doCopy = function(e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n\n        if (handleClipboardData(e, data)) {\n            if (isIOS) {\n                resetSelection(data);\n                copied = data;\n                setTimeout(function () {\n                    copied = false;\n                }, 10);\n            }\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        } else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                copied = false;\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    \n    var onCut = function(e) {\n        doCopy(e, true);\n    };\n    \n    var onCopy = function(e) {\n        doCopy(e, false);\n    };\n    \n    var onPaste = function(e) {\n        var data = handleClipboardData(e);\n        if (clipboard.pasteCancelled())\n            return;\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);\n\n    event.addListener(text, \"select\", onSelect, host);\n    event.addListener(text, \"input\", onInput, host);\n\n    event.addListener(text, \"cut\", onCut, host);\n    event.addListener(text, \"copy\", onCopy, host);\n    event.addListener(text, \"paste\", onPaste, host);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function(e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        }, host);\n    }\n    var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly) \n            return;\n        \n        inComposition = {};\n\n        if (commandMode)\n            return;\n        \n        if (e.data)\n            inComposition.useTextareaForIME = false;\n        \n        setTimeout(onCompositionUpdate, 0);\n        host._signal(\"compositionStart\");\n        host.on(\"mousedown\", cancelComposition);\n        \n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n        \n        if (inComposition.useTextareaForIME) {\n            lastValue = text.value = \"\";\n            lastSelectionStart = 0;\n            lastSelectionEnd = 0;\n        }\n        else {\n            if (text.msGetInputContext)\n                inComposition.context = text.msGetInputContext();\n            if (text.getInputContext)\n                inComposition.context = text.getInputContext();\n        }\n    };\n\n    var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        if (commandMode)\n            return cancelComposition();\n        \n        if (inComposition.useTextareaForIME) {\n            host.onCompositionUpdate(text.value);\n        }\n        else {\n            var data = text.value;\n            sendText(data);\n            if (inComposition.markerRange) {\n                if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart\n                        = inComposition.context.compositionStartOffset;\n                }\n                inComposition.markerRange.end.column = inComposition.markerRange.start.column\n                    + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n            }\n        }\n    };\n\n    var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd || host.$readOnly) return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e) onInput();\n    };\n    \n\n    function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n    }\n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n    \n    function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n            if (!inComposition)\n                lastValue = text.value;\n            lastSelectionStart = lastSelectionEnd = -1;\n            resetSelection();\n        }\n        syncComposition();\n    }\n\n    event.addListener(text, \"compositionstart\", onCompositionStart, host);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate, host);\n    event.addListener(text, \"keyup\", onKeyup, host);\n    event.addListener(text, \"keydown\", syncComposition, host);\n    event.addListener(text, \"compositionend\", onCompositionEnd, host);\n\n    this.getElement = function() {\n        return text;\n    };\n    this.setCommandMode = function(value) {\n       commandMode = value;\n       text.readOnly = false;\n    };\n    \n    this.setReadOnly = function(readOnly) {\n        if (!commandMode)\n            text.readOnly = readOnly;\n    };\n\n    this.setCopyWithEmptySelection = function(value) {\n    };\n\n    this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", {target: host, domEvent: e});\n        this.moveToMouse(e, true);\n    };\n    \n    this.moveToMouse = function(e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\")\n            + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight -2;\n        var move = function(e) {\n            dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n        }; \n        move(e);\n\n        if (e.type != \"mousedown\")\n            return;\n\n        host.renderer.$isMousePressed = true;\n\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            host.renderer.$isMousePressed = false;\n            if (host.renderer.$keepTextAreaAtCursor)\n                host.renderer.$moveTextAreaToCursor();\n        }, 0);\n    }\n\n    var onContextMenu = function(e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu, host);\n    event.addListener(text, \"mousedown\", function(e) {\n        e.preventDefault();\n        onContextMenuClose();\n    }, host);\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu, host);\n    event.addListener(text, \"contextmenu\", onContextMenu, host);\n    \n    if (isIOS)\n        addIosSelectionHandler(parentNode, host, text);\n\n    function addIosSelectionHandler(parentNode, host, text) {\n        var typingResetTimeout = null;\n        var typing = false;\n \n        text.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout) clearTimeout(typingResetTimeout);\n            typing = true;\n        }, true);\n\n        text.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        }, true);\n        var detectArrowKeys = function(e) {\n            if (document.activeElement !== text) return;\n            if (typing || inComposition || host.$mouseHandler.isMousePressed) return;\n\n            if (copied) {\n                return;\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            \n            var key = null;\n            var modifier = 0;\n            if (selectionStart == 0) {\n                key = KEYS.up;\n            } else if (selectionStart == 1) {\n                key = KEYS.home;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                key = KEYS.end;\n            } else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                key = KEYS.left;\n                modifier = MODS.option;\n            } else if (\n                selectionStart < lastSelectionStart\n                || (\n                    selectionStart == lastSelectionStart \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.left;\n            } else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                key = KEYS.down;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                key = KEYS.right;\n                modifier = MODS.option;\n            } else if (\n                selectionEnd > lastSelectionEnd\n                || (\n                    selectionEnd == lastSelectionEnd \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.right;\n            }\n            \n            if (selectionStart !== selectionEnd)\n                modifier |= MODS.shift;\n\n            if (key) {\n                var result = host.onCommandKey({}, modifier, key);\n                if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command)\n                        host.execCommand(command);\n                }\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                resetSelection(\"\");\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function() {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n};\n\nexports.TextInput = TextInput;\nexports.$setUserAgentForTests = function(_isMobile, _isIOS) {\n    isMobile = _isMobile;\n    isIOS = _isIOS;\n};\n});\n\nace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"../lib/useragent\");\n\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 550; // milliseconds\n\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n\n    exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n    }, this);\n\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n\n(function() {\n\n    this.onMouseDown = function(ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n\n    this.startSelect = function(pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent) return;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n\n    this.select = function() {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            } else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function(unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            } else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            } else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd =\n    this.selectAllEnd =\n    this.selectByWordsEnd =\n    this.selectByLinesEnd = function() {\n        this.$clickSelection = null;\n        this.editor.unsetStyle(\"ace_selecting\");\n        if (this.editor.renderer.scroller.releaseCapture) {\n            this.editor.renderer.scroller.releaseCapture();\n        }\n    };\n\n    this.focusWait = function() {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        } else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n\n    this.onTripleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        } else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n\n    this.onQuadClick = function(ev) {\n        var editor = this.editor;\n\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function(ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        \n        var editor = this.editor;\n        \n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n        \n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n        \n        var direction = Math.abs(vx / vy);\n        \n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n            \n        if (canScroll) {\n            prevScroll.allowed = t;\n        } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n        \n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n\n}).call(DefaultHandlers.prototype);\n\nexports.DefaultHandlers = DefaultHandlers;\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n    if (cmp < 0)\n        return {cursor: range.start, anchor: range.end};\n    else\n        return {cursor: range.end, anchor: range.start};\n}\n\n});\n\nace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nfunction Tooltip (parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n\n(function() {\n    this.$init = function() {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = \"ace_tooltip\";\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function() {\n        return this.$element || this.$init();\n    };\n    this.setText = function(text) {\n        this.getElement().textContent = text;\n    };\n    this.setHtml = function(html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function(x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function(className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function(text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n\n    this.hide = function() {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function() {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function() {\n        return this.getElement().offsetWidth;\n    };\n    \n    this.destroy = function() {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n\n}).call(Tooltip.prototype);\n\nexports.Tooltip = Tooltip;\n});\n\nace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\n\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function(e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\")\n            return;\n\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n\n\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n        tooltip.setHtml(tooltipAnnotation);\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        } else {\n            var gutterElement = mouseEvent.domEvent.target;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor._signal(\"hideGutterTooltip\", tooltip);\n            editor.off(\"mousewheel\", hideTooltip);\n        }\n    }\n\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function(e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function(e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    }, editor);\n    \n    editor.on(\"changeSession\", hideTooltip);\n}\n\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\n\noop.inherits(GutterTooltip, Tooltip);\n\n(function(){\n    this.setPosition = function(x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n\n}).call(GutterTooltip.prototype);\n\n\n\nexports.GutterHandler = GutterHandler;\n\n});\n\nace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function(domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    \n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n\n    this.$pos = null;\n    this.$inSelection = null;\n    \n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n\n(function() {  \n    \n    this.stopPropagation = function() {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    \n    this.preventDefault = function() {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    \n    this.stop = function() {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function() {\n        if (this.$pos)\n            return this.$pos;\n        \n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function() {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n            \n        var editor = this.editor;\n        \n\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n\n        return this.$inSelection;\n    };\n    this.getButton = function() {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function() {\n        return this.domEvent.shiftKey;\n    };\n    \n    this.getAccelKey = useragent.isMac\n        ? function() { return this.domEvent.metaKey; }\n        : function() { return this.domEvent.ctrlKey; };\n    \n}).call(MouseEvent.prototype);\n\n});\n\nace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\n\nfunction DragdropHandler(mouseHandler) {\n\n    var editor = mouseHandler.editor;\n\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera)\n        blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n\n     exports.forEach(function(x) {\n         mouseHandler[x] = this[x];\n    }, this);\n    editor.on(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function(e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function(){\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        if (useragent.isOpera) {\n            editor.container.appendChild(blankImage);\n            blankImage.scrollTop = 0;\n        }\n        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n        if (useragent.isOpera) {\n            editor.container.removeChild(blankImage);\n        }\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function(e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.$resetCursorStyle();\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n\n    this.onDragEnter = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragOver = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function(e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n\n    this.onDrop = function(e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    } else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        } else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler), editor);\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.moveCursorToPosition(cursor);\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = {x: x, y: y};\n        } else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n           x: {\n               left: x - editorRect.left,\n               right: editorRect.right - x\n           },\n           y: {\n               top: y - editorRect.top,\n               bottom: editorRect.bottom - y\n           }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = {row: cursor.row, column: cursor.column};\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        } else {\n            autoScrollStartTime = null;\n        }\n    }\n\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n            editor.$resetCursorStyle();\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function() {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function(type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        } catch (e) {}\n        var dropEffect = \"none\";\n\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n\n        return dropEffect;\n    }\n}\n\n(function() {\n\n    this.dragWait = function() {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n\n    this.dragWaitEnd = function() {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n\n    this.dragReadyEnd = function(e) {\n        this.editor.$resetCursorStyle();\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n\n    this.startDrag = function(){\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function(e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n\n    this.onMouseDown = function(e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            } else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n\n}).call(DragdropHandler.prototype);\n\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nexports.DragdropHandler = DragdropHandler;\n\n});\n\nace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar event = require(\"../lib/event\");\nvar dom = require(\"../lib/dom\");\n\nexports.addTouchListeners = function(el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n    \n    function createContextMenu() {\n        var clipboard = window.navigator && window.navigator.clipboard;\n        var isOpen = false;\n        var updateMenu = function() {\n            var selected = editor.getCopyText();\n            var hasUndo = editor.session.getUndoManager().hasUndo();\n            contextMenu.replaceChild(\n                dom.buildDom(isOpen ? [\"span\",\n                    !selected && [\"span\", { class: \"ace_mobile-button\", action: \"selectall\" }, \"Select All\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"copy\" }, \"Copy\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"cut\" }, \"Cut\"],\n                    clipboard && [\"span\", { class: \"ace_mobile-button\", action: \"paste\" }, \"Paste\"],\n                    hasUndo && [\"span\", { class: \"ace_mobile-button\", action: \"undo\" }, \"Undo\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"find\" }, \"Find\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"openCommandPallete\" }, \"Pallete\"]\n                ] : [\"span\"]),\n                contextMenu.firstChild\n            );\n        };\n        var handleClick = function(e) {\n            var action = e.target.getAttribute(\"action\");\n\n            if (action == \"more\" || !isOpen) {\n                isOpen = !isOpen;\n                return updateMenu();\n            }\n            if (action == \"paste\") {\n                clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                });\n            }\n            else if (action) {\n                if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard)\n                        clipboard.writeText(editor.getCopyText());\n                    else\n                        document.execCommand(\"copy\");\n                }\n                editor.execCommand(action);\n            }\n            contextMenu.firstChild.style.display = \"none\";\n            isOpen = false;\n            if (action != \"openCommandPallete\")\n                editor.focus();\n        };\n        contextMenu = dom.buildDom([\"div\",\n            {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function(e) {\n                    mode = \"menu\";\n                    e.stopPropagation();\n                    e.preventDefault();\n                    editor.textInput.focus();\n                },\n                ontouchend: function(e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    handleClick(e);\n                },\n                onclick: handleClick\n            },\n            [\"span\"],\n            [\"span\", { class: \"ace_mobile-button\", action: \"more\" }, \"...\"]\n        ], editor.container);\n    }\n    function showContextMenu() {\n        if (!contextMenu) createContextMenu();\n        var cursor = editor.selection.cursor;\n        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n        var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;\n        var scrollLeft = editor.renderer.scrollLeft;\n        var rect = editor.container.getBoundingClientRect();\n        contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n        if (pagePos.pageX - rect.left < rect.width - 70) {\n            contextMenu.style.left = \"\";\n            contextMenu.style.right = \"10px\";\n        } else {\n            contextMenu.style.right = \"\";\n            contextMenu.style.left = leftOffset + scrollLeft - rect.left + \"px\";\n        }\n        contextMenu.style.display = \"\";\n        contextMenu.firstChild.style.display = \"none\";\n        editor.on(\"input\", hideContextMenu);\n    }\n    function hideContextMenu(e) {\n        if (contextMenu)\n            contextMenu.style.display = \"none\";\n        editor.off(\"input\", hideContextMenu);\n    }\n\n    function handleLongTap() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        var range = editor.selection.getRange();\n        var inSelection = range.contains(pos.row, pos.column);\n        if (range.isEmpty() || !inSelection) {\n            editor.selection.moveToPosition(pos);\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n        showContextMenu();\n    }\n    function switchToSelectionMode() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        editor.selection.moveToPosition(pos);\n        var range = clickCount >= 2\n            ? editor.selection.getLineRange(pos.row)\n            : editor.session.getBracketRange(pos);\n        if (range && !range.isEmpty()) {\n            editor.selection.setRange(range);\n        } else {\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n    }\n    event.addListener(el, \"contextmenu\", function(e) {\n        if (!pressed) return;\n        var textarea = editor.textInput.getElement();\n        textarea.focus();\n    }, editor);\n    event.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        if (longTouchTimer || touches.length > 1) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n            touchStartT = -1;\n            mode = \"zoom\";\n            return;\n        }\n        \n        pressed = editor.$mouseHandler.isMousePressed = true;\n        var h = editor.renderer.layerConfig.lineHeight;\n        var w = editor.renderer.layerConfig.lineHeight;\n        var t = e.timeStamp;\n        lastT = t;\n        var touchObj = touches[0];\n        var x = touchObj.clientX;\n        var y = touchObj.clientY;\n        if (Math.abs(startX - x) + Math.abs(startY - y) > h)\n            touchStartT = -1;\n        \n        startX = e.clientX = x;\n        startY = e.clientY = y;\n        vX = vY = 0;\n        \n        var ev = new MouseEvent(e, editor);\n        pos = ev.getDocumentPosition();\n\n        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n            clickCount++;\n            e.preventDefault();\n            e.button = 0;\n            switchToSelectionMode();\n        } else {\n            clickCount = 0;\n            var cursor = editor.selection.cursor;\n            var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n            \n            var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n            var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n            var rect = editor.renderer.scroller.getBoundingClientRect();\n            var offsetTop = editor.renderer.layerConfig.offset;\n            var offsetLeft = editor.renderer.scrollLeft;\n            var weightedDistance = function(x, y) {\n                x = x / w;\n                y = y / h - 0.75;\n                return x * x + y * y;\n            };\n            \n            if (e.clientX < rect.left) {\n                mode = \"zoom\";\n                return;\n            }\n            \n            var diff1 = weightedDistance(\n                e.clientX - rect.left - cursorPos.left + offsetLeft,\n                e.clientY - rect.top - cursorPos.top + offsetTop\n            );\n            var diff2 = weightedDistance(\n                e.clientX - rect.left - anchorPos.left + offsetLeft,\n                e.clientY - rect.top - anchorPos.top + offsetTop\n            );\n            if (diff1 < 3.5 && diff2 < 3.5)\n                mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n                \n            if (diff2 < 3.5)\n                mode = \"anchor\";\n            else if (diff1 < 3.5)\n                mode = \"cursor\";\n            else\n                mode = \"scroll\";\n            longTouchTimer = setTimeout(handleLongTap, 450);\n        }\n        touchStartT = t;\n    }, editor);\n\n    event.addListener(el, \"touchend\", function (e) {\n        pressed = editor.$mouseHandler.isMousePressed = false;\n        if (animationTimer) clearInterval(animationTimer);\n        if (mode == \"zoom\") {\n            mode = \"\";\n            animationSteps = 0;\n        } else if (longTouchTimer) {\n            editor.selection.moveToPosition(pos);\n            animationSteps = 0;\n            showContextMenu();\n        } else if (mode == \"scroll\") {\n            animate();\n            hideContextMenu();\n        } else {\n            showContextMenu();\n        }\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n    }, editor);\n    event.addListener(el, \"touchmove\", function (e) {\n        if (longTouchTimer) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n        }\n        var touches = e.touches;\n        if (touches.length > 1 || mode == \"zoom\") return;\n\n        var touchObj = touches[0];\n\n        var wheelX = startX - touchObj.clientX;\n        var wheelY = startY - touchObj.clientY;\n\n        if (mode == \"wait\") {\n            if (wheelX * wheelX + wheelY * wheelY > 4)\n                mode = \"cursor\";\n            else\n                return e.preventDefault();\n        }\n\n        startX = touchObj.clientX;\n        startY = touchObj.clientY;\n\n        e.clientX = touchObj.clientX;\n        e.clientY = touchObj.clientY;\n\n        var t = e.timeStamp;\n        var dt = t - lastT;\n        lastT = t;\n        if (mode == \"scroll\") {\n            var mouseEvent = new MouseEvent(e, editor);\n            mouseEvent.speed = 1;\n            mouseEvent.wheelX = wheelX;\n            mouseEvent.wheelY = wheelY;\n            if (10 * Math.abs(wheelX) < Math.abs(wheelY)) wheelX = 0;\n            if (10 * Math.abs(wheelY) < Math.abs(wheelX)) wheelY = 0;\n            if (dt != 0) {\n                vX = wheelX / dt;\n                vY = wheelY / dt;\n            }\n            editor._emit(\"mousewheel\", mouseEvent);\n            if (!mouseEvent.propagationStopped) {\n                vX = vY = 0;\n            }\n        }\n        else {\n            var ev = new MouseEvent(e, editor);\n            var pos = ev.getDocumentPosition();\n            if (mode == \"cursor\")\n                editor.selection.moveCursorToPosition(pos);\n            else if (mode == \"anchor\")\n                editor.selection.setSelectionAnchor(pos.row, pos.column);\n            editor.renderer.scrollCursorIntoView(pos);\n            e.preventDefault();\n        }\n    }, editor);\n\n    function animate() {\n        animationSteps += 60;\n        animationTimer = setInterval(function() {\n            if (animationSteps-- <= 0) {\n                clearInterval(animationTimer);\n                animationTimer = null;\n            }\n            if (Math.abs(vX) < 0.01) vX = 0;\n            if (Math.abs(vY) < 0.01) vY = 0;\n            if (animationSteps < 20) vX = 0.9 * vX;\n            if (animationSteps < 20) vY = 0.9 * vY;\n            var oldScrollTop = editor.session.getScrollTop();\n            editor.renderer.scrollBy(10 * vX, 10 * vY);\n            if (oldScrollTop == editor.session.getScrollTop())\n                animationSteps = 0;\n        }, 10);\n    }\n};\n\n});\n\nace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"./dom\");\n\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\n\nexports.loadScript = function(path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function(_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function(url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar EventEmitter = {};\nvar stopPropagation = function() { this.propagationStopped = true; };\nvar preventDefault = function() { this.defaultPrevented = true; };\n\nEventEmitter._emit =\nEventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler)\n        return;\n\n    if (typeof e != \"object\" || !e)\n        e = {};\n\n    if (!e.type)\n        e.type = eventName;\n    if (!e.stopPropagation)\n        e.stopPropagation = stopPropagation;\n    if (!e.preventDefault)\n        e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++) {\n        listeners[i](e, this);\n        if (e.propagationStopped)\n            break;\n    }\n    \n    if (defaultHandler && !e.defaultPrevented)\n        return defaultHandler(e, this);\n};\n\n\nEventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++)\n        listeners[i](e, this);\n};\n\nEventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function(resolve) {\n            callback = resolve;\n        });\n    }\n};\n\n\nEventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = {_disabled_: {}};\n    \n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1) \n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    \n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\n\nEventEmitter.on =\nEventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n        listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n};\n\nEventEmitter.off =\nEventEmitter.removeListener =\nEventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1)\n        listeners.splice(index, 1);\n};\n\nEventEmitter.removeAllListeners = function(eventName) {\n    if (!eventName) this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry) this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers) this._defaultHandlers[eventName] = undefined;\n};\n\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"no use strict\";\n\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\n\nvar optionsProvider = {\n    setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n            var options = this.$options;\n            optionNames = Object.keys(options).filter(function(key) {\n                return !options[key].hidden;\n            });\n        } else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function(name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\n\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\n\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function() { throw e; });\n}\n\nvar AppConfig = function() {\n    this.$defaultOptions = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function(obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n\n        Object.keys(options).forEach(function(key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = {forwardTo: opt};\n\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n\n        return this;\n    };\n\n    this.resetOptions = function(obj) {\n        Object.keys(obj.$options).forEach(function(key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n\n    this.setDefaultValue = function(path, name, value) {\n        if (!path) {\n            for (path in this.$defaultOptions)\n                if (this.$defaultOptions[path][name])\n                    break;\n            if (!this.$defaultOptions[path][name])\n                return false;\n        }\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n\n    this.setDefaultValues = function(path, optionHash) {\n        Object.keys(optionHash).forEach(function(key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    \n    this.warn = warn;\n    this.reportError = reportError;\n    \n}).call(AppConfig.prototype);\n\nexports.AppConfig = AppConfig;\n\n});\n\nace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/app_config\"], function(require, exports, module) {\n\"no use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\n\nmodule.exports = exports = new AppConfig();\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false\n};\n\nexports.get = function(key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    return options[key];\n};\n\nexports.set = function(key, value) {\n    if (options.hasOwnProperty(key))\n        options[key] = value;\n    else if (this.setDefaultValue(\"\", key, value) == false)\n        throw new Error(\"Unknown config key: \" + key);\n};\n\nexports.all = function() {\n    return lang.copyObject(options);\n};\n\nexports.$modes = {};\nexports.moduleUrl = function(name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    } else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\n\nexports.setModuleUrl = function(name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\n\nexports.$loading = {};\nexports.loadModule = function(moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n\n    try {\n        module = require(moduleName);\n    } catch (e) {}\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n\n    exports.$loading[moduleName].push(onLoad);\n\n    if (exports.$loading[moduleName].length > 1)\n        return;\n\n    var afterLoad = function() {\n        require([moduleName], function(module) {\n            exports._emit(\"load.module\", {name: moduleName, module: module});\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function(onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    \n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n    reportErrorIfPathIsNotConfigured();\n};\n\nvar reportErrorIfPathIsNotConfigured = function() {\n    if (\n        !options.basePath && !options.workerPath \n        && !options.modePath && !options.themePath\n        && !Object.keys(options.$moduleUrls).length\n    ) {\n        console.error(\n            \"Unable to infer path to ace from script src,\",\n            \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\",\n            \"or with webpack use ace/webpack-resolver\"\n        );\n        reportErrorIfPathIsNotConfigured = function() {};\n    }\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    options.packaged = packaged || require.packaged || module.packaged || (global.define && __webpack_require__(\"Z66Z\").packaged);\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            exports.set(key, scriptOptions[key]);\n}\n\nexports.init = init;\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n\nexports.version = \"1.4.12\";\n\n});\n\nace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar addTouchListeners = require(\"./touch_handler\").addTouchListeners;\nvar config = require(\"../config\");\n\nvar MouseHandler = function(editor) {\n    var _self = this;\n    this.editor = editor;\n\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var focusEditor = function(e) {\n        var windowBlurred = !document.hasFocus || !document.hasFocus()\n            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n        if (windowBlurred)\n            window.focus();\n        editor.focus();\n    };\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"), editor);\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"), editor);\n    event.addMultiMouseDownListener([\n        mouseTarget,\n        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n        editor.textInput && editor.textInput.getElement()\n    ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\", editor);\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"), editor);\n    addTouchListeners(editor.container, editor);\n\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"), editor);\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"), editor);\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"), editor);\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"), editor);\n\n    event.addListener(mouseTarget, \"mousedown\", focusEditor, editor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor, editor);\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor, editor);\n        event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor, editor);\n    }\n\n    editor.on(\"mousemove\", function(e){\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        } else {\n            renderer.setCursorStyle(\"\");\n        }\n    }, editor);\n};\n\n(function() {\n    this.onMouseEvent = function(name, e) {\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function(name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n\n        this.editor._emit(name, mouseEvent);\n    };\n    \n    this.setState = function(state) {\n        this.state = state;\n    };\n\n    this.captureMouse = function(ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        renderer.$isMousePressed = true;\n\n        var self = this;\n        var onMouseMove = function(e) {\n            if (!e) return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n\n        var onCaptureEnd = function(e) {\n            editor.off(\"beforeEndOperation\", onOperationEnd);\n            clearInterval(timerId);\n            onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            self.isMousePressed = renderer.$isMousePressed = false;\n            if (renderer.$keepTextAreaAtCursor)\n                renderer.$moveTextAreaToCursor();\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n            editor.endOperation();\n        };\n\n        var onCaptureInterval = function() {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function() {onCaptureEnd(ev);});\n        }\n\n        var onOperationEnd = function(e) {\n            if (!self.releaseMouse) return;\n            if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                self[self.state + \"End\"] && self[self.state + \"End\"]();\n                self.state = \"\";\n                self.releaseMouse();\n            }\n        };\n\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({command: {name: \"mouse\"}});\n\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function() {\n        var stop = function(e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n    this.destroy = function() {\n        if (this.releaseMouse) this.releaseMouse();\n    };\n}).call(MouseHandler.prototype);\n\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {initialValue: 2},\n    dragDelay: {initialValue: (useragent.isMac ? 150 : 0)},\n    dragEnabled: {initialValue: true},\n    focusTimeout: {initialValue: 0},\n    tooltipFollowsMouse: {initialValue: true}\n});\n\n\nexports.MouseHandler = MouseHandler;\n});\n\nace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\n\nfunction FoldHandler(editor) {\n\n    editor.on(\"click\", function(e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n\n            e.stop();\n        }\n        \n        var target = e.domEvent && e.domEvent.target;\n        if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n            if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                session.setOption(\"wrap\", !session.getUseWrapMode());\n                editor.renderer.scrollCursorIntoView();\n            }\n        }\n    });\n\n    editor.on(\"gutterclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterdblclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                if (fold) {\n                    session.removeFold(fold);\n                } else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});\n                }\n            }\n            e.stop();\n        }\n    });\n}\n\nexports.FoldHandler = FoldHandler;\n\n});\n\nace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil  = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\n\nvar KeyBinding = function(editor) {\n    this.$editor = editor;\n    this.$data = {editor: editor};\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n\n(function() {\n    this.setDefaultHandler = function(kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n\n    this.setKeyboardHandler = function(kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n\n        this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function(kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function(kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n\n    this.getKeyboardHandler = function() {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    \n    this.getStatusText = function() {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function(h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n\n    this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(\n                this.$data, hashId, keyString, keyCode, e\n            );\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            } else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 && \n                toExecute.passEvent != true && toExecute.command.passEvent != true\n            ) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        \n        if (!success && hashId == -1) {\n            toExecute = {command: \"insertstring\"};\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        \n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        \n        return success;\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function(text) {\n        return this.$callKeyboardHandlers(-1, text);\n    };\n\n}).call(KeyBinding.prototype);\n\nexports.KeyBinding = KeyBinding;\n});\n\nace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false,  hasUBAT_B = false,  hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\n\nvar impTab_LTR = [\t[\t0,\t\t3,\t\t0,\t\t1,\t\t0,\t\t0,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t1,\t\t2,\t\t2,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t0x11,\t\t2,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t1,\t\t0\t],\t[\t0,\t\t3,\t\t0x15,\t\t0x15,\t\t4,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t2,\t\t0\t]\n];\n\nvar impTab_RTL = [\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t1,\t\t0\t],\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t1,\t\t3,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t0x21,\t\t3,\t\t1,\t\t1\t]\n];\n\nvar LTR = 0, RTL = 1;\n\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\n\nvar UnicodeTBL00 = [\nBN,BN,BN,BN,BN,BN,BN,BN,BN,S,B,S,WS,B,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,B,B,B,S,\nWS,ON,ON,ET,ET,ET,ON,ON,ON,ON,ON,ES,CS,ES,CS,CS,\nEN,EN,EN,EN,EN,EN,EN,EN,EN,EN,CS,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,BN,\nBN,BN,BN,BN,BN,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nCS,ON,ET,ET,ET,ET,ON,ON,ON,ON,L,ON,ON,BN,ON,ON,\nET,ET,EN,EN,ON,L,ON,ON,ON,EN,L,ON,ON,ON,ON,ON\n];\n\nvar UnicodeTBL20 = [\nWS,WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,BN,BN,BN,L,R\t,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,WS,B,LRE,RLE,PDF,LRO,RLO,CS,\nET,ET,ET,ET,ET,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,CS,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS\n];\n\nfunction _computeLevels(chars, levels, len, charTypes) {\n\tvar impTab = dir ? impTab_RTL : impTab_LTR\n\t\t, prevState = null, newClass = null, newLevel = null, newState = 0\n\t\t, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n\n\tif (!charTypes) {\n\t\tfor (i = 0, charTypes = []; i < len; i++) {\n\t\t\tcharTypes[i] = _getCharacterType(chars[i]);\n\t\t}\n\t}\n\thiLevel = dir;\n\tlastArabic = false;\n\thasUBAT_AL = false;\n\thasUBAT_B = false;\n\thasUBAT_S = false;\n\tfor (ix = 0; ix < len; ix++){\n\t\tprevState = newState;\n\t\tclasses[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n\t\tnewState = impTab[prevState][newClass];\n\t\taction = newState & 0xF0;\n\t\tnewState &= 0x0F;\n\t\tlevels[ix] = newLevel = impTab[newState][5];\n\t\tif (action > 0){\n\t\t\tif (action == 0x10){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = 1;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t} else {\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tcond = impTab[newState][6];\n\t\tif (cond){\n\t\t\tif(condPos == -1){\n\t\t\t\tcondPos = ix;\n\t\t\t}\n\t\t}else{\n\t\t\tif (condPos > -1){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = newLevel;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tif (charTypes[ix] == B){\n\t\t\tlevels[ix] = 0;\n\t\t}\n\t\thiLevel |= newLevel;\n\t}\n\tif (hasUBAT_S){\n\t\tfor(i = 0; i < len; i++){\n\t\t\tif(charTypes[i] == S){\n\t\t\t\tlevels[i] = dir;\n\t\t\t\tfor(var j = i - 1; j >= 0; j--){\n\t\t\t\t\tif(charTypes[j] == WS){\n\t\t\t\t\t\tlevels[j] = dir;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction _invertLevel(lev, levels, _array) {\n\tif (hiLevel < lev){\n\t\treturn;\n\t}\n\tif (lev == 1 && dir == RTL && !hasUBAT_B){\n\t\t_array.reverse();\n\t\treturn;\n\t}\n\tvar len = _array.length, start = 0, end, lo, hi, tmp;\n\twhile(start < len){\n\t\tif (levels[start] >= lev){\n\t\t\tend = start + 1;\n\t\twhile(end < len && levels[end] >= lev){\n\t\t\tend++;\n\t\t}\n\t\tfor(lo = start, hi = end - 1 ; lo < hi; lo++, hi--){\n\t\t\ttmp = _array[lo];\n\t\t\t_array[lo] = _array[hi];\n\t\t\t_array[hi] = tmp;\n\t\t}\n\t\tstart = end;\n\t}\n\tstart++;\n\t}\n}\n\nfunction _getCharClass(chars, types, classes, ix) {\t\t\t\n\tvar cType = types[ix], wType, nType, len, i;\n\tswitch(cType){\n\t\tcase L:\n\t\tcase R:\n\t\t\tlastArabic = false;\n\t\tcase ON:\n\t\tcase AN:\n\t\t\treturn cType;\n\t\tcase EN:\n\t\t\treturn lastArabic ? AN : EN;\n\t\tcase AL:\n\t\t\tlastArabic = true;\n\t\t\thasUBAT_AL = true;\n\t\t\treturn R;\n\t\tcase WS:\n\t\t\treturn ON;\n\t\tcase CS:\n\t\t\tif (ix < 1 || (ix + 1) >= types.length ||\n\t\t\t\t((wType = classes[ix - 1]) != EN && wType != AN) ||\n\t\t\t\t((nType = types[ix + 1]) != EN && nType != AN)){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\tif (lastArabic){nType = AN;}\n\t\t\treturn nType == wType ? nType : ON;\n\t\tcase ES:\n\t\t\twType = ix > 0 ? classes[ix - 1] : B;\n\t\t\tif (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase ET:\n\t\t\tif (ix > 0 && classes[ix - 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\tif (lastArabic){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\ti = ix + 1;\n\t\t\tlen = types.length;\n\t\t\twhile (i < len && types[i] == ET){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len && types[i] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase NSM:\n\t\t\tlen = types.length;\n\t\t\ti = ix + 1;\n\t\t\twhile (i < len && types[i] == NSM){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len){\n\t\t\t\tvar c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n\t\t\t\t\n\t\t\t\twType = types[i];\n\t\t\t\tif (rtlCandidate && (wType == R || wType == AL)){\n\t\t\t\t\treturn R;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ix < 1 || (wType = types[ix - 1]) == B){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\treturn classes[ix - 1];\n\t\tcase B:\n\t\t\tlastArabic = false;\n\t\t\thasUBAT_B = true;\n\t\t\treturn dir;\n\t\tcase S:\n\t\t\thasUBAT_S = true;\n\t\t\treturn ON;\n\t\tcase LRE:\n\t\tcase RLE:\n\t\tcase LRO:\n\t\tcase RLO:\n\t\tcase PDF:\n\t\t\tlastArabic = false;\n\t\tcase BN:\n\t\t\treturn ON;\n\t}\n}\n\nfunction _getCharacterType( ch ) {\t\t\n\tvar uc = ch.charCodeAt(0), hi = uc >> 8;\n\t\n\tif (hi == 0) {\t\t\n\t\treturn ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n\t} else if (hi == 5) {\n\t\treturn (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n\t} else if (hi == 6) {\n\t\tif (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n\t\t\treturn NSM;\n\t\telse if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n\t\t\treturn AN;\n\t\telse if (uc == 0x066A)\n\t\t\treturn ET;\n\t\telse if (/[\\u06f0-\\u06f9]/.test(ch))\n\t\t\treturn EN;\t\t\t\n\t\telse\n\t\t\treturn AL;\n\t} else if (hi == 0x20 && uc <= 0x205F) {\n\t\treturn UnicodeTBL20[uc & 0xFF];\n\t} else if (hi == 0xFE) {\n\t\treturn (uc >= 0xFE70 ? AL : ON);\n\t}\t\t\n\treturn ON;\t\n}\n\nfunction _isArabicDiacritics( ch ) {\n\treturn (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\nexports.RLE = 7;\n\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function(text, textCharTypes, isRtl) {\n\tif (text.length < 2)\n\t\treturn {};\n\t\t\n\tvar chars = text.split(\"\"), logicalFromVisual = new Array(chars.length),\n\t\tbidiLevels = new Array(chars.length), levels = []; \n\n\tdir = isRtl ? RTL : LTR;\n\n\t_computeLevels(chars, levels, chars.length, textCharTypes);\n\n\tfor (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++);\n\n\t_invertLevel(2, levels, logicalFromVisual);\n\t_invertLevel(1, levels, logicalFromVisual);\n\n\tfor (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n\t\tif (textCharTypes[i] === AN) {\n\t\t\tlevels[i] = exports.AN;\n\t\t} else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE) \n\t\t\t|| textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n\t\t\tlevels[i] = exports.ON_R;\n\t\t} else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n\t\t\tlevels[i - 1] = levels[i] = exports.R_H;\n\t\t\ti++;\n\t\t}\n\t}\n\tif (chars[chars.length - 1] === exports.DOT)\n\t\tlevels[chars.length - 1] = exports.B;\n\t\t\t\t\n\tif (chars[0] === '\\u202B')\n\t\tlevels[0] = exports.RLE;\n\t\t\t\t\n\tfor (var i = 0; i < logicalFromVisual.length; i++) {\n\t\tbidiLevels[i] = levels[logicalFromVisual[i]];\n\t}\n\n\treturn {'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels};\n};\nexports.hasBidiCharacters = function(text, textCharTypes){\n\tvar ret = false;\n\tfor (var i = 0; i < text.length; i++){\n\t\ttextCharTypes[i] = _getCharacterType(text.charAt(i));\n\t\tif (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))\n\t\t\tret = true;\n\t}\n\treturn ret;\n};\t\nexports.getVisualFromLogicalIdx = function(logIdx, rowMap) {\n\tfor (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n\t\tif (rowMap.logicalFromVisual[i] == logIdx)\n\t\t\treturn i;\n\t}\n\treturn 0;\n};\n\n});\n\nace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar bidiUtil = require(\"./lib/bidiutil\");\nvar lang = require(\"./lib/lang\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\nvar BidiHandler = function(session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.$isRtl = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.EOF = \"\\xB6\";\n    this.RLE = \"\\u202B\";\n    this.contentWidth = 0;\n    this.fontMetrics = null;\n    this.rtlLineOffset = 0;\n    this.wrapOffset = 0;\n    this.isMoveLeftOperation = false;\n    this.seenBidi = bidiRE.test(session.getValue());\n};\n\n(function() {\n    this.isBidiRow = function(screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n\n    this.onChange = function(delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        } \n        else {\n            this.currentRow = null;\n        }\n    };\n\n    this.getDocumentRow = function() {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n\n        return docRow;\n    };\n\n    this.getSplitIndex = function() {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        } else {\n            splitIndex = this.currentRow;\n        }\n\n        return splitIndex;\n    };\n\n    this.updateRowLine = function(docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n            \n        var isLastRow = (docRow === this.session.getLength() - 1),\n            endOfLine = isLastRow ? this.EOF : this.EOL;\n\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n\n                if(splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splitIndex]) :\n                            this.line.substring(splits[splits.length - 1]);\n                } else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n            }\n            if (splitIndex == splits.length)\n                this.line += (this.showInvisibles) ? endOfLine : bidiUtil.DOT;\n        } else {\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function(ch, i){\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n\n        if (this.isRtlDir) {\n            this.fontMetrics.$main.textContent = (this.line.charAt(this.line.length - 1) == bidiUtil.DOT) ? this.line.substr(0, this.line.length - 1) : this.line;\n            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n    };\n    \n    this.updateBidiMap = function() {\n        var textCharTypes = [];\n        if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n             this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n        } else {\n            this.bidiMap = {};\n        }\n    };\n    this.markAsDirty = function() {\n        this.currentRow = null;\n    };\n    this.updateCharacterWidths = function(fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n\n        this.fontMetrics = fontMetrics;\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n\n        this.currentRow = null;\n    };\n\n    this.setShowInvisibles = function(showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n\n    this.setEolChar = function(eolChar) {\n        this.EOL = eolChar; \n    };\n\n    this.setContentWidth = function(width) {\n        this.contentWidth = width;\n    };\n\n    this.isRtlLine = function(row) {\n        if (this.$isRtl) return true;\n        if (row != undefined)\n            return (this.session.getLine(row).charAt(0) == this.RLE);\n        else\n            return this.isRtlDir; \n    };\n\n    this.setRtlDirection = function(editor, isRtlDir) {\n        var cursor = editor.getCursorPosition(); \n        for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)\n                editor.session.doc.removeInLine(row, 0, 1);\n            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)\n                editor.session.doc.insert({column: 0, row: row}, editor.session.$bidiHandler.RLE);\n        }\n    };\n    this.getPosLeft = function(col) {\n        col -= this.wrapIndent;\n        var leftBoundary = (this.line.charAt(0) === this.RLE) ? 1 : 0;\n        var logicalIdx = (col > leftBoundary) ? (this.session.getOverwrite() ? col : col - 1) : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap),\n            levels = this.bidiMap.bidiLevels, left = 0;\n\n        if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n            \n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n\n        if (!this.session.getOverwrite() && (col > leftBoundary) && (levels[visualIdx] % 2 === 0))\n            left += this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n            left += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        if (this.isRtlDir)\n            left += this.rtlLineOffset;\n\n        return left;\n    };\n    this.getSelections = function(startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0,\n            selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n                isSelected = false, isSelectedPrev = false, selectionStart = 0;\n            \n        if (this.wrapIndent)\n            offset += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            } else if (!isSelected && isSelectedPrev) {\n                selections.push({left: selectionStart, width: offset - selectionStart});\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({left: selectionStart, width: offset - selectionStart});\n        }\n\n        if(this.isRtlDir) {\n            for (var i = 0; i < selections.length; i++) {\n                selections[i].left += this.rtlLineOffset;\n            }\n        }\n        return selections;\n    };\n    this.offsetToCol = function(posX) {\n        if(this.isRtlDir)\n            posX -= this.rtlLineOffset;\n\n        var logicalIdx = 0, posX = Math.max(posX, 0),\n            offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels,\n                charWidth = this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n           posX -= this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n    \n        while(posX > offset + charWidth/2) {\n            offset += charWidth;\n            if(visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n    \n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)){\n            if(posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n\n        } else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)){\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                    : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n\n        } else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n                || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))){\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        } else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n\n        if (logicalIdx === 0 && this.isRtlDir)\n            logicalIdx++;\n\n        return (logicalIdx + this.wrapIndent);\n    };\n\n}).call(BidiHandler.prototype);\n\nexports.BidiHandler = BidiHandler;\n});\n\nace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n\n    this.clearSelection();\n    this.cursor = this.lead = this.doc.createAnchor(0, 0);\n    this.anchor = this.doc.createAnchor(0, 0);\n    this.$silent = false;\n\n    var self = this;\n    this.cursor.on(\"change\", function(e) {\n        self.$cursorChanged = true;\n        if (!self.$silent)\n            self._emit(\"changeCursor\");\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n\n    this.anchor.on(\"change\", function() {\n        self.$anchorChanged = true;\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n    });\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function() {\n        return this.$isEmpty || (\n            this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column\n        );\n    };\n    this.isMultiLine = function() {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n    this.getCursor = function() {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function(row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n    };\n    this.getAnchor = \n    this.getSelectionAnchor = function() {\n        if (this.$isEmpty)\n            return this.getSelectionLead();\n        \n        return this.anchor.getPosition();\n    };\n    this.getSelectionLead = function() {\n        return this.lead.getPosition();\n    };\n    this.isBackwards = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n\n        if (this.$isEmpty)\n            return Range.fromPoints(lead, lead);\n\n        return this.isBackwards()\n            ? Range.fromPoints(lead, anchor)\n            : Range.fromPoints(anchor, lead);\n    };\n    this.clearSelection = function() {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function() {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n    this.setRange =\n    this.setSelectionRange = function(range, reverse) {\n        var start = reverse ? range.end : range.start;\n        var end = reverse ? range.start : range.end;\n        this.$setSelection(start.row, start.column, end.row, end.column);\n    };\n\n    this.$setSelection = function(anchorRow, anchorColumn, cursorRow, cursorColumn) {\n        if (this.$silent)\n            return;\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged)\n            this._emit(\"changeCursor\");\n        if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)\n            this._emit(\"changeSelection\");\n    };\n\n    this.$moveSelection = function(mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n\n        mover.call(this);\n    };\n    this.selectTo = function(row, column) {\n        this.$moveSelection(function() {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function(pos) {\n        this.$moveSelection(function() {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function(row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function(pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function() {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function() {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function() {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function() {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function() {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function() {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function() {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function() {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function() {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function() {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function(row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function() {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function() {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function(row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        } else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function() {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function() {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function() {\n        this.moveCursorBy(1, 0);\n    };\n    this.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length-1 == tabSize;\n    };\n    this.moveCursorLeft = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        } else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            } else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    this.moveCursorRight = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            } else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    this.moveCursorLineStart = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(\n            row, null, firstColumnPosition.row,\n            firstColumnPosition.column\n        );\n\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function() {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function() {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function() {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function(rightOfCursor) {\n        var index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        } else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index ++;\n\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index ++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        } else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index ++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n\n        return index;\n    };\n\n    this.moveCursorShortWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n\n        var index = this.$shortWordEndIndex(rightOfCursor);\n\n        this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n\n        return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function(rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(\n            this.lead.row,\n            this.lead.column\n        );\n\n        var offsetX;\n\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                } else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n        \n        if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n            var widget = this.session.lineWidgets[this.lead.row];\n            if (rows < 0)\n                rows -= widget.rowsAbove || 0;\n            else if (rows > 0)\n                rows += widget.rowCount - (widget.rowsAbove || 0);\n        }\n        \n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        \n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n            \n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function(position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function(row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function() {\n        this.lead.detach();\n        this.anchor.detach();\n        this.session = this.doc = null;\n    };\n\n    this.fromOrientedRange = function(range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n\n    this.toOrientedRange = function(range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        } else {\n            range = r;\n        }\n\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function(func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start, end);\n        } catch(e) {\n            return Range.fromPoints(start, start);\n        } finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n\n    this.toJSON = function() {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function(r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        } else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n\n    this.fromJSON = function(data) {\n        if (data.start == undefined) {\n            if (this.rangeList && data.length > 1) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--; ) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            } else {\n                data = data[0];\n            }\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function(data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n\n        for (var i = this.ranges.length; i--; ) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n\n}).call(Selection.prototype);\n\nexports.Selection = Selection;\n});\n\nace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar config = require(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function(rules) {\n    this.states = rules;\n\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = {defaultToken: \"text\"};\n        var flag = \"g\";\n\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive)\n                flag = \"gi\";\n            if (rule.regex == null)\n                continue;\n\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                } else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", { \n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                } else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function(match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                } else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        \n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        \n        splitterRurles.forEach(function(rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n\n(function() {\n    this.$setMaxTokenCount = function(m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    \n    this.$applyToken = function(str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{type: types, value: str}];\n\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n\n    this.$arrayTokens = function(str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n\n    this.removeCapturingGroups = function(src) {\n        var r = src.replace(\n            /\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!]|(\\()/g,\n            function(x, y) {return y ? \"(?:\" : x;}\n        );\n        return r;\n    };\n\n    this.createSplitterRegexp = function(src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function(\n                m, esc, parenOpen, parenClose, square, index\n            ) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                } else if (square) {\n                    inChClass = true;\n                } else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index+1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                } else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\") src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n        \n        return new RegExp(src, (flag||\"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function(line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        } else\n            var stack = [];\n\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n\n        var token = {type: null, value: \"\"};\n\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                } else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: type, value: skipped};\n                }\n            }\n\n            for (var i = 0; i < match.length-2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n\n                rule = state[mapping[i]];\n\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    } else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    \n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    } else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = {type: type, value: value};\n                    }\n                } else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: null, value: \"\"};\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n\n            if (lastIndex == line.length)\n                break;\n\n            lastIndex = index;\n\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 500),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n\n        if (token.type)\n            tokens.push(token);\n        \n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens : tokens,\n            state : stack.length ? stack : currentState\n        };\n    };\n    \n    this.reportError = config.reportError;\n    \n}).call(Tokenizer.prototype);\n\nexports.Tokenizer = Tokenizer;\n});\n\nace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\n\nvar TextHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"empty_line\",\n            regex : '^$'\n        }, {\n            defaultToken : \"text\"\n        }]\n    };\n};\n\n(function() {\n\n    this.addRules = function(rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n\n    this.getRules = function() {\n        return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        } else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n\n        this.addRules(embedRules, prefix);\n\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function() {\n        return this.$embeds;\n    };\n\n    var pushState = function(currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function(currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function() {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName)  {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                } else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        } else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function(x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function(x) {return !x.next;});\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                \n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(\n                        rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive\n                    );\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        this.$keywordList = [];\n        Object.keys(map).forEach(function(className) {\n            var a = map[className];\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--; ) {\n                var word = list[i];\n                this.$keywordList.push(word);\n                if (ignoreCase)\n                    word = word.toLowerCase(); \n                keywords[word] = className;\n            }\n        }, this);\n        map = null;\n        return ignoreCase\n            ? function(value) {return keywords[value.toLowerCase()] || defaultToken; }\n            : function(value) {return keywords[value] || defaultToken; };\n    };\n\n    this.getKeywords = function() {\n        return this.$keywords;\n    };\n\n}).call(TextHighlightRules.prototype);\n\nexports.TextHighlightRules = TextHighlightRules;\n});\n\nace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar Behaviour = function() {\n   this.$behaviours = {};\n};\n\n(function () {\n\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n          case this.$behaviours:\n              this.$behaviours = {};\n          case this.$behaviours[name]:\n              this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    \n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    \n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    \n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        } else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    \n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        } else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n\n}).call(Behaviour.prototype);\n\nexports.Behaviour = Behaviour;\n});\n\nace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar TokenIterator = function(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n\n(function() { \n    this.stepBackward = function() {\n        this.$tokenIndex -= 1;\n        \n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n                \n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };   \n    this.stepForward = function() {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };     \n    this.getCurrentTokenColumn = function() {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n            \n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        \n        return column;  \n    };\n    this.getCurrentTokenPosition = function() {\n        return {row: this.$row, column: this.getCurrentTokenColumn()};\n    };\n    this.getCurrentTokenRange = function() {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n    \n}).call(TokenIterator.prototype);\n\nexports.TokenIterator = TokenIterator;\n});\n\nace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {};\nvar defaultQuotes = {'\"' : '\"', \"'\" : \"'\"};\n\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar getWrapped = function(selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n                0,\n                selection.start.column + 1,\n                rowDiff,\n                selection.end.column + (rowDiff ? 0 : 1)\n            ]\n    };\n};\n\nvar CstyleBehaviour = function(options) {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1) \n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            } else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                \n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                \n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                \n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                } else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(leftChar);\n                    if (isWordBefore || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote &&  (charBefore == quote || wordRe.test(charBefore)))\n                        return null;\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1,1]\n                };\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n    \nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))\n            return true;\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\nace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar wordChars = [48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2];\n\nvar code = 0;\nvar str = [];\nfor (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1])\n        str.push(45, code += wordChars[i + 1]);\n}\n\nexports.wordChars = String.fromCharCode.apply(null, str);\n\n});\n\nace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar config = require(\"../config\");\n\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\nvar Mode = function() {\n    this.HighlightRules = TextHighlightRules;\n};\n\n(function() {\n    this.$defaultBehaviour = new CstyleBehaviour();\n\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n\n    this.getTokenizer = function() {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function(state, session, startRow, endRow) {\n        var doc = session.doc;\n\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n            var comment = function(line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);\n                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n\n            var uncomment = function(line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n\n            var testRemove = function(line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        } else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            } else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            \n            insertAtTabStop = session.getUseSoftTabs();\n\n            var uncomment = function(line, i) {\n                var m = line.match(regexpStart);\n                if (!m) return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function(line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);\n                    else\n                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n            var testRemove = function(line, i) {\n                return regexpStart.test(line);\n            };\n            \n            var shouldInsertSpace = function(line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n            };\n        }\n\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n\n\n        var minEmptyLength = Infinity;\n        iter(function(line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            } else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n        iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function(state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        } else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function(session) {\n        return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                var Mode = mapping[i];\n                var id = Mode.prototype.$id;\n                var mode = config.$modes[id];\n                if (!mode)\n                    config.$modes[id] = mode = new Mode();\n                if (!config.$modes[i])\n                    config.$modes[i] = mode;\n                this.$embeds.push(i);\n                this.$modes[i] = mode;\n            }\n        }\n\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\", \n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n\n        for (var i = 0; i < delegations.length; i++) {\n            (function(scope) {\n              var functionName = delegations[i];\n              var defaultHandler = scope[functionName];\n              scope[delegations[i]] = function() {\n                  return this.$delegator(functionName, arguments, defaultHandler);\n              };\n            }(this));\n        }\n    };\n\n    this.$delegator = function(method, args, defaultHandler) {\n        var state = args[0] || \"start\";\n        if (typeof state != \"string\") {\n            if (Array.isArray(state[2])) {\n                var language = state[2][state[2].length - 1];\n                var mode = this.$modes[language];\n                if (mode)\n                    return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n            }\n            state = state[0] || \"start\";\n        }\n            \n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]]) continue;\n\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function(state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    \n    this.getKeywords = function(append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    \n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    \n    this.$createKeywordList = function() {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function(word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\nace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nfunction throwDeltaError(delta, errorText){\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\n\nfunction positionInDocument(docLines, position) {\n    return position.row    >= 0 && position.row    <  docLines.length &&\n           position.column >= 0 && position.column <= docLines[position.row].length;\n}\n\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n       throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\n\nexports.applyDelta = function(docLines, delta, doNotValidate) {\n    \n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            } else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            } else {\n                docLines.splice(\n                    row, endRow - row + 1,\n                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)\n                );\n            }\n            break;\n    }\n};\n});\n\nace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Anchor = exports.Anchor = function(doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    \n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function() {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function(delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n\n        if (delta.start.row > this.row)\n            return;\n            \n        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    \n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n            \n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        \n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function() {\n        this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    };\n\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\n\nvar Document = function(textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({row: 0, column: 0}, textOrLines);\n    } else {\n        this.insert({row: 0, column:0}, textOrLines);\n    }\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setValue = function(text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({row: 0, column: 0}, text);\n    };\n    this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function(text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    } else {\n        this.$split = function(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n\n\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function() {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function(text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function() {\n        return this.$lines.length;\n    };\n    this.getTextRange = function(range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function(range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        } else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function(row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function(firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function(position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function(position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        \n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function(position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        \n        return this.clonePos(end);\n    };\n    \n    this.clippedPos = function(row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        } else if (row < 0) {\n            row = 0;\n        } else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return {row: row, column: column};\n    };\n    \n    this.clonePos = function(pos) {\n        return {row: pos.row, column: pos.column};\n    };\n    \n    this.pos = function(row, column) {\n        return {row: row, column: column};\n    };\n    \n    this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        } else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function(row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        } else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({row: row, column: column}, lines);\n    };    \n    this.insertMergedLines = function(position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        \n        return this.clonePos(end);\n    };\n    this.remove = function(range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function(row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        }, true);\n        \n        return this.clonePos(start);\n    };\n    this.removeFullLines = function(firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine  = lastRow  < this.getLength() - 1;\n        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );\n        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );\n        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );\n        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length ); \n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        \n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function(row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function(range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        \n        return end;\n    };\n    this.applyDeltas = function(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function(delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        \n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    \n    this.$safeApplyDelta = function(delta) {\n        var docLength = this.$lines.length;\n        if (\n            delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength\n        ) {\n            this.applyDelta(delta);\n        }\n    };\n    \n    this.$splitAndapplyLargeDelta = function(delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row; \n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function(delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: index + lines[l-1].length + newlineLength};\n    };\n    this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    };\n\n}).call(Document.prototype);\n\nexports.Document = Document;\n});\n\nace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar BackgroundTokenizer = function(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n\n    var self = this;\n\n    this.$worker = function() {\n        if (!self.running) { return; }\n\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        \n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines ++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {\n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        \n        if (endLine == -1)\n            endLine = currentLine;\n        \n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n\n        this.start(0);\n    };\n    this.setDocument = function(doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n\n        this.stop();\n    };\n    this.fireUpdateEvent = function(firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", {data: data});\n    };\n    this.start = function(startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    \n    this.scheduleStart = function() {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n\n    this.$updateOnChange = function(delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n            this.lines[startRow] = null;\n        } else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n\n        this.stop();\n    };\n    this.stop = function() {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function(row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function(row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function(row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n\n        var data = this.tokenizer.getLineTokens(line, state, row);\n\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        } else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n\n        return this.lines[row] = data.tokens;\n    };\n\n}).call(BackgroundTokenizer.prototype);\n\nexports.BackgroundTokenizer = BackgroundTokenizer;\n});\n\nace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar SearchHighlight = function(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n\n(function() {\n    this.MAX_RANGES = 500;\n    \n    this.setRegexp = function(regExp) {\n        if (this.regExp+\"\" == regExp+\"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n\n    this.update = function(html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function(match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n\n            for (var j = ranges.length; j --; ) {\n                markerLayer.drawSingleLineMarker(\n                    html, ranges[j].toScreenRange(session), this.clazz, config);\n            }\n        }\n    };\n\n}).call(SearchHighlight.prototype);\n\nexports.SearchHighlight = SearchHighlight;\n});\n\nace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    } else {\n        folds = this.folds = [ folds ];\n    }\n\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column,\n                           last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end   = this.range.end;\n\n    this.folds.forEach(function(fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n\n(function() {\n    this.shiftRow = function(shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function(fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n\n    this.addFold = function(fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function(a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column =  fold.end.column;\n            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        } else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        } else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        } else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n\n    this.containsRow = function(row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n\n    this.walk = function(callback, endRow, endColumn) {\n        var lastEnd = 0,\n            folds = this.folds,\n            fold,\n            cmp, stop, isNewRow = true;\n\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n\n    this.getNextFoldTo = function(row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            } else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n\n    this.addRemoveChars = function(row, column, len) {\n        var ret = this.getNextFoldTo(row, column),\n            fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row)\n            {\n                window.console && window.console.log(row, column, fold);\n            } else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n\n    this.split = function(row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        \n        if (!pos || pos.kind == \"inside\")\n            return null;\n            \n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        \n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n\n    this.merge = function(foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n\n    this.toString = function() {\n        var ret = [this.range.toString() + \": [\" ];\n\n        this.folds.forEach(function(fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n\n    this.idxToPosition = function(idx) {\n        var lastFoldEndColumn = 0;\n\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n\n            lastFoldEndColumn = fold.end.column;\n        }\n\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\n\nexports.FoldLine = FoldLine;\n});\n\nace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\n\nvar RangeList = function() {\n    this.ranges = [];\n    this.$bias = 1;\n};\n\n(function() {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function(pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i-2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n\n            return -i-1;\n        }\n        return -i - 1;\n    };\n\n    this.add = function(range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function(list) {\n        var removed = [];\n        for (var i = list.length; i--; ) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n\n    this.substractPoint = function(pos) {\n        var i = this.pointIndex(pos);\n\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function() {\n        var removed = [];\n        var list = this.ranges;\n        \n        list = list.sort(function(a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        \n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        \n        this.ranges = list;\n\n        return removed;\n    };\n\n    this.contains = function(row, column) {\n        return this.pointIndex({row: row, column: column}) >= 0;\n    };\n\n    this.containsPoint = function(pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function(pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n\n\n    this.clipRows = function(startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n\n        var startIndex = this.pointIndex({row: startRow, column: 0});\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n\n    this.removeAll = function() {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function(session) {\n        if (this.session)\n            this.detach();\n\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n\n        this.session.on('change', this.onChange);\n    };\n\n    this.detach = function() {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n\n    this.$onChange = function(delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row >= startRow)\n                break;\n        }\n        \n        if (delta.action == \"insert\") {\n            var lineDif = endRow - startRow;\n            var colDiff = -start.column + end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > startRow)\n                    break;\n    \n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {\n                    } else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)\n                            r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n        } else {\n            var lineDif = startRow - endRow;\n            var colDiff = start.column - end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                \n                if (r.start.row > endRow)\n                    break;\n                    \n                if (r.end.row < endRow\n                    && (\n                        startRow < r.end.row \n                        || startRow == r.end.row && start.column < r.end.column\n                    )\n                ) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                }\n                else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                        if (lineDif || r.end.column > start.column) {\n                            r.end.column = start.column;\n                            r.end.row = start.row;\n                        }\n                    }\n                    else {\n                        r.end.column += colDiff;\n                        r.end.row += lineDif;\n                    }\n                }\n                else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                }\n                \n                if (r.start.row < endRow\n                    && (\n                        startRow < r.start.row \n                        || startRow == r.start.row && start.column < r.start.column\n                    )\n                ) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                }\n                else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                        if (lineDif || r.start.column > start.column) {\n                            r.start.column = start.column;\n                            r.start.row = start.row;\n                        }\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                }\n            }\n        }\n\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n\n}).call(RangeList.prototype);\n\nexports.RangeList = RangeList;\n});\n\nace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\");\nvar Fold = exports.Fold = function(range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\n\noop.inherits(Fold, RangeList);\n\n(function() {\n\n    this.toString = function() {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function(foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function(fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n\n    this.clone = function() {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function(subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n\n    this.addSubFold = function(fold) {\n        if (this.range.isEqual(fold))\n            return;\n        consumeRange(fold, this.start);\n\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n        var firstConsumed = 0;\n\n        if (cmp == 0) {\n            if (afterStart.range.containsRange(fold))\n                return afterStart.addSubFold(fold);\n            else\n                firstConsumed = 1;\n        }\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        if (cmp == 0)  j++;\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n        for (var k = firstConsumed; k < last; k++) {\n            fold.addSubFold(consumedFolds[k]);\n        }\n        fold.setFoldLine(this.foldLine);\n\n        return fold;\n    };\n    \n    this.restoreRange = function(range) {\n        return restoreRange(range, this.start);\n    };\n\n}).call(Fold.prototype);\n\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\nace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nfunction Folding() {\n    this.getFoldAt = function(row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var range = folds[i].range;\n            if (range.contains(row, column)) {\n                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                } else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                return folds[i];\n            }\n        }\n    };\n    this.getFoldsInRange = function(range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n\n        start.column += 1;\n        end.column -= 1;\n\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                } else if (cmp == 2) {\n                    continue;\n                } else\n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n\n        return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function(ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function(range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        } else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function() {\n        var folds = [];\n        var foldLines = this.$foldData;\n        \n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n\n        return folds;\n    };\n    this.getFoldStringAt = function(row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n\n    this.getFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            } else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n\n    this.getFoldedRowCount = function(first, last) {\n        var foldData = this.$foldData, rowCount = last-first+1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i],\n                end = foldLine.end.row,\n                start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last-start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            } else if (end >= first){\n                if (start >= first) // fold inside range\n                    rowCount -=  end-start;\n                else\n                    rowCount -=  end-first+1;\n            }\n        }\n        return rowCount;\n    };\n\n    this.$addFoldLine = function(foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function(a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function(placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        \n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        \n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            if (!fold.collapseChildren) {\n                folds.forEach(function(subFold) {\n                    fold.addSubFold(subFold);\n                });\n            }\n        }\n\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            } else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            } else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n\n        return fold;\n    };\n\n    this.addFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.addFold(fold);\n        }, this);\n    };\n\n    this.removeFold = function(fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        } else\n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        } else\n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        } else\n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        } else\n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n\n    this.removeFolds = function(folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n\n        cloneFolds.forEach(function(fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n\n    this.expandFold = function(fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function(subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);\n        }\n        fold.subFolds = [];\n    };\n\n    this.expandFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n\n    this.unfold = function(location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            if (expandInner == null) expandInner = true;\n        } else if (typeof location == \"number\")\n            range = new Range(location, 0, location, this.getLine(location).length);\n        else if (\"row\" in location)\n            range = Range.fromPoints(location, location);\n        else\n            range = location;\n        \n        folds = this.getFoldsInRangeList(range);\n        if (expandInner != false) {\n            this.removeFolds(folds);\n        } else {\n            this.expandFolds(folds);\n        }\n        if (folds.length)\n            return folds;\n    };\n    this.isRowFolded = function(docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n\n        foldLine.walk(function(placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n\n            if (placeholder != null) {\n                textLine += placeholder;\n            } else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n\n    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        } else {\n            return this.getFoldDisplayLine(\n                foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n\n    this.$cloneFoldData = function() {\n        var fd = [];\n        fd = this.$foldData.map(function(foldLine) {\n            var folds = foldLine.folds.map(function(fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n\n        return fd;\n    };\n\n    this.toggleFold = function(tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                } else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n\n                range.start.column++;\n            } else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        } else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            } else if (folds.length == 1 ) {\n                fold = folds[0];\n            }\n        }\n\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n\n        this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function(row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token && token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type));\n                iterator.stepForward();\n            }\n            \n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n            iterator = new TokenIterator(this, row, column);\n            \n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (!re.test(state))\n                            lastRow = iterator.$row;\n                    } else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type));\n                token = iterator.stepBackward();\n            } else\n                token = iterator.getCurrentToken();\n\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n            return range;\n        }\n    };\n\n    this.foldAll = function(startRow, endRow, depth, test) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n            \n            if (test && !test(row)) continue;\n\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow\n            ) {\n                row = range.end.row;\n                range.collapseChildren = depth;\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    \n    this.foldToLevel = function(level) {\n        this.foldAll();\n        while (level-- > 0)\n            this.unfold(null, false);\n    };\n    \n    this.foldAllComments = function() {\n        var session = this;\n        this.foldAll(null, null, null, function(row) {\n            var tokens = session.getTokens(row);\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                if (token.type == \"text\" && /^\\s+$/.test(token.value))\n                    continue;\n                if (/comment/.test(token.type))\n                    return true;\n                return false;\n            }\n        });\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function(style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        \n        if (this.$foldStyle == style)\n            return;\n\n        this.$foldStyle = style;\n        \n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n\n    this.$setFolding = function(foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n            \n        this.$foldMode = foldMode;\n        \n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        \n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        \n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        \n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n\n    this.onFoldWidgetClick = function(row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        \n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    \n    this.$toggleFoldWidget = function(row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        \n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        } else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        } else if (range) {\n            if (options.all) \n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        \n        return range;\n    };\n    \n    \n    \n    this.toggleFoldWidget = function(toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        \n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        \n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n            if (fold) {\n                this.removeFold(fold);\n            } else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n\n    this.updateFoldWidgets = function(delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        } else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function(e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\n\nexports.Folding = Folding;\n\n});\n\nace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\n\nfunction BracketMatch() {\n\n    this.findMatchingBracket = function(position, chr) {\n        if (position.column == 0) return null;\n\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);\n        if (charBeforeCursor == \"\") return null;\n\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    \n    this.getBracketRange = function(pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        } else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        \n        return range;\n    };\n    this.getMatchingBracketRanges = function(pos) {\n        var line = this.getLine(pos.row);\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        }\n\n        if (!match)\n            return null;\n\n        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos)\n            : this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos)\n            return [startRange];\n        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n\n        return [startRange, endRange];\n    };\n\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\",\n        \"<\": \">\",\n        \">\": \"<\"\n    };\n\n    this.$findOpeningBracket = function(bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        \n         if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        \n        while (true) {\n        \n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n                \n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        \n        return null;\n    };\n\n    this.$findClosingBracket = function(bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n\n        if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n        while (true) {\n\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n\n            valueIndex = 0;\n        }\n        \n        return null;\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\nace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar BidiHandler = require(\"./bidihandler\").BidiHandler;\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\nvar EditSession = function(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n\n    this.$foldData = [];\n    this.id = \"session\" + (++EditSession.$uid);\n    this.$foldData.toString = function() {\n        return this.join(\"\\n\");\n    };\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    this.$bidiHandler = new BidiHandler(this);\n\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n};\n\n\nEditSession.$uid = 0;\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setDocument = function(doc) {\n        if (this.doc)\n            this.doc.removeListener(\"change\", this.$onChange);\n\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange);\n\n        if (this.bgTokenizer)\n            this.bgTokenizer.setDocument(this.getDocument());\n\n        this.resetCaches();\n    };\n    this.getDocument = function() {\n        return this.doc;\n    };\n    this.$resetRowCache = function(docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n\n    this.$getRowCacheIndex = function(cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n\n        return low -1;\n    };\n\n    this.resetCaches = function() {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (this.bgTokenizer)\n            this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function(e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function(delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n            if (removedFolds && removedFolds.length) {\n                this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds:  removedFolds\n                }, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n            }\n            this.$undoManager.add(delta, this.mergeUndoDeltas);\n            this.mergeUndoDeltas = true;\n            \n            this.$informUndoManager.schedule();\n        }\n\n        this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function(text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n    this.toString = function() {\n        return this.doc.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.getState = function(row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function(row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function(row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        } else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function(undoManager) {\n        this.$undoManager = undoManager;\n        \n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n        \n        if (undoManager) {\n            var self = this;\n            undoManager.addSession(this);\n            this.$syncInformUndoManager = function() {\n                self.$informUndoManager.cancel();\n                self.mergeUndoDeltas = false;\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        } else {\n            this.$syncInformUndoManager = function() {};\n        }\n    };\n    this.markUndoGroup = function() {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    \n    this.$defaultUndoManager = {\n        undo: function() {},\n        redo: function() {},\n        hasUndo: function() {},\n        hasRedo: function() {},\n        reset: function() {},\n        add: function() {},\n        addSelection: function() {},\n        startNewGroup: function() {},\n        addSession: function() {}\n    };\n    this.getUndoManager = function() {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function() {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        } else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function(val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function() {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function(tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function() {\n        return this.$tabSize;\n    };\n    this.isTabStop = function(position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    this.getNavigateWithinSoftTabs = function() {\n        return this.$navigateWithinSoftTabs;\n    };\n\n    this.$overwrite = false;\n    this.setOverwrite = function(overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function() {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function(row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function(row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function() {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function(rows) {\n        this.$breakpoints = [];\n        for (var i=0; i<rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function() {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function(row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function(row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function(range, clazz, type, inFront) {\n        var id = this.$markerId++;\n\n        var marker = {\n            range : range,\n            type : type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz : clazz,\n            inFront: !!inFront,\n            id: id\n        };\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return id;\n    };\n    this.addDynamicMarker = function(marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return marker;\n    };\n    this.removeMarker = function(markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete (markers[markerId]);\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n    this.getMarkers = function(inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function(re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function(startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function(annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function() {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function() {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        } else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function(row, column) {\n        var line = this.getLine(row);\n\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column-1, column+1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            }\n            while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function(row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function(newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function() {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function(useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function() { return this.$useWorker; };\n    this.onReloadTokenizer = function(e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = config.$modes;\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function(mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        } else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function(m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            } else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function(mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode) \n            return;\n            \n        var oldMode = this.$mode;\n        this.$mode = mode;\n\n        this.$stopWorker();\n\n        if (this.$useWorker)\n            this.$startWorker();\n\n        var tokenizer = mode.getTokenizer();\n\n        if(tokenizer.on !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.on(\"update\", onReloadTokenizer);\n        }\n\n        if (!this.bgTokenizer) {\n            this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n            var _self = this;\n            this.bgTokenizer.on(\"update\", function(e) {\n                _self._signal(\"tokenizerUpdate\", e);\n            });\n        } else {\n            this.bgTokenizer.setTokenizer(tokenizer);\n        }\n\n        this.bgTokenizer.setDocument(this.getDocument());\n\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n\n        \n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\", {oldMode: oldMode, mode: mode});\n        }\n    };\n\n    this.$stopWorker = function() {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n\n    this.$startWorker = function() {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        } catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function() {\n        return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n    this.setScrollTop = function(scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function() {\n        return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function() {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function() {\n        this.$computeWidth();\n        if (this.lineWidgets) \n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    \n    this.getLineWidgetMaxWidth = function() {\n        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function(w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function(force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function(row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function() {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function(range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function(position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function(range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function(firstRow, lastRow){\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.revertDelta(delta);\n            } else if (delta.folds) {\n                this.addFolds(delta.folds);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionBefore)\n                this.selection.fromJSON(deltas.selectionBefore);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n    };\n    this.redoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.$safeApplyDelta(delta);\n            }\n        }\n\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionAfter)\n                this.selection.fromJSON(deltas.selectionAfter);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n    };\n    this.setUndoSelect = function(enable) {\n        this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function(deltas, isUndo) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n\n        var range, point;\n\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (!delta.start) continue; // skip folds\n            if (!range) {\n                if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                } else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                continue;\n            }\n            \n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n            } else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n            }\n        }\n        return range;\n    };\n    this.replace = function(range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function(fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function(x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n\n        return toRange;\n    };\n    this.indentRows = function(startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row=startRow; row<=endRow; row++)\n            this.doc.insertInLine({row: row, column: 0}, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            } else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n\n    this.$moveLines = function(firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0) return 0;\n            var diff = row-firstRow;\n        } else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength()-1) return 0;\n            var diff = row-lastRow;\n        } else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function(x){\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        \n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow+diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n\n    this.$clipRowToDocument = function(row) {\n        return Math.max(0, Math.min(row, this.doc.getLength()-1));\n    };\n\n    this.$clipColumnToRow = function(row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n\n\n    this.$clipPositionToDocument = function(row, column) {\n        column = Math.max(0, column);\n\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        } else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len-1).length;\n            } else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n\n        return {\n            row: row,\n            column: column\n        };\n    };\n\n    this.$clipRangeToDocument = function(range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        } else {\n            range.start.column = this.$clipColumnToRow(\n                range.start.row,\n                range.start.column\n            );\n        }\n\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        } else {\n            range.end.column = this.$clipColumnToRow(\n                range.end.row,\n                range.end.column\n            );\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min : null,\n        max : null\n    };\n    this.setUseWrapMode = function(useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function() {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function(min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function(desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = {min: $printMargin, max: $printMargin};\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n\n    this.$constrainWrapLimit = function(wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n\n        return wrapLimit;\n    };\n    this.getWrapLimit = function() {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function() {\n        return {\n            min : this.$wrapLimitRange.min,\n            max : this.$wrapLimitRange.max\n        };\n    };\n\n    this.$updateInternalDataOnChange = function(delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        \n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n\n                lastRow = firstRow;\n            } else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    } else\n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        } else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n\n        return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function(firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function(firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row ++;\n            } else {\n                tokens = [];\n                foldLine.walk(function(placeholder, row, column, lastColumn) {\n                        var walkTokens;\n                        if (placeholder != null) {\n                            walkTokens = this.$getDisplayTokens(\n                                            placeholder, tokens.length);\n                            walkTokens[0] = PLACEHOLDER_START;\n                            for (var i = 1; i < walkTokens.length; i++) {\n                                walkTokens[i] = PLACEHOLDER_BODY;\n                            }\n                        } else {\n                            walkTokens = this.$getDisplayTokens(\n                                lines[row].substring(lastColumn, column),\n                                tokens.length);\n                        }\n                        tokens = tokens.concat(walkTokens);\n                    }.bind(this),\n                    foldLine.end.row,\n                    lines[foldLine.end.row].length + 1\n                );\n\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY =  4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n\n    this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n\n        var isCode = this.$wrapAsCode;\n\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var len = screenPos - lastSplit;\n            for (var i = lastSplit; i < screenPos; i++) {\n                var ch = tokens[i];\n                if (ch === 12 || ch === 2) len -= 1;\n            }\n\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break;  // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit -(wrapLimit>>2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split --;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split --;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split --;\n                }\n            } else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split --;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function(str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            } else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            } else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n\n        return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n    this.getRowLength = function(row) {\n        var h = 1;\n        if (this.lineWidgets)\n            h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        \n        if (!this.$useWrapMode || !this.$wrapData[row])\n            return h;\n        else\n            return this.$wrapData[row].length + h;\n    };\n    this.getRowLineCount = function(row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        } else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n\n    this.getRowWrapIndent = function(screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        } else {\n            return 0;\n        }\n    };\n    this.getScreenLastRowColumn = function(screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function(row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        } else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function(screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n\n\n    this.screenToDocumentRow = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n\n    this.screenToDocumentColumn = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function(screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return {row: 0, column: 0};\n\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            } else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row+1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        } else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        } else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if(splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n\n        return {row: docRow, column: docColumn};\n    };\n    this.documentToScreenPosition = function(docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n\n        docRow = pos.row;\n        docColumn = pos.column;\n\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n\n        var rowEnd, row = 0;\n\n\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ?foldLine.start.row :Infinity;\n\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ?foldLine.start.row :Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        } else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow ++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(\n                    wrapRow[screenRowOffset - 1] || 0, textLine.length\n                );\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n        \n        if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)\n            screenRow += this.lineWidgets[row].rowsAbove;\n\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function(row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function(docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function() {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        } else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row :Infinity;\n\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row ++;\n                if (row > foldStart) {\n                    row = fold.end.row+1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ?fold.start.row :Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n\n        return screenRows;\n    };\n    this.$setFontMetrics = function(fm) {\n        if (!this.$enableVarChar) return;\n        this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            \n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                } else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            \n            return [screenColumn, column];\n        };\n    };\n    \n    this.destroy = function() {\n        if (this.bgTokenizer) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer = null;\n        }\n        this.$stopWorker();\n        this.removeAllListeners();\n        this.selection.detach();\n    };\n\n    this.isFullWidth = isFullWidth;\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n               c >= 0x11A3 && c <= 0x11A7 ||\n               c >= 0x11FA && c <= 0x11FF ||\n               c >= 0x2329 && c <= 0x232A ||\n               c >= 0x2E80 && c <= 0x2E99 ||\n               c >= 0x2E9B && c <= 0x2EF3 ||\n               c >= 0x2F00 && c <= 0x2FD5 ||\n               c >= 0x2FF0 && c <= 0x2FFB ||\n               c >= 0x3000 && c <= 0x303E ||\n               c >= 0x3041 && c <= 0x3096 ||\n               c >= 0x3099 && c <= 0x30FF ||\n               c >= 0x3105 && c <= 0x312D ||\n               c >= 0x3131 && c <= 0x318E ||\n               c >= 0x3190 && c <= 0x31BA ||\n               c >= 0x31C0 && c <= 0x31E3 ||\n               c >= 0x31F0 && c <= 0x321E ||\n               c >= 0x3220 && c <= 0x3247 ||\n               c >= 0x3250 && c <= 0x32FE ||\n               c >= 0x3300 && c <= 0x4DBF ||\n               c >= 0x4E00 && c <= 0xA48C ||\n               c >= 0xA490 && c <= 0xA4C6 ||\n               c >= 0xA960 && c <= 0xA97C ||\n               c >= 0xAC00 && c <= 0xD7A3 ||\n               c >= 0xD7B0 && c <= 0xD7C6 ||\n               c >= 0xD7CB && c <= 0xD7FB ||\n               c >= 0xF900 && c <= 0xFAFF ||\n               c >= 0xFE10 && c <= 0xFE19 ||\n               c >= 0xFE30 && c <= 0xFE52 ||\n               c >= 0xFE54 && c <= 0xFE66 ||\n               c >= 0xFE68 && c <= 0xFE6B ||\n               c >= 0xFF01 && c <= 0xFF60 ||\n               c >= 0xFFE0 && c <= 0xFFE6;\n    }\n\n}).call(EditSession.prototype);\n\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function(value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            } else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function() {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },    \n    wrapMethod: {\n        set: function(val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n        set: function() {\n            if (this.$useWrapMode) {\n                this.$useWrapMode = false;\n                this.setUseWrapMode(true);\n            }\n        },\n        initialValue: true \n    },\n    firstLineNumber: {\n        set: function() {this._signal(\"changeBreakpoint\");},\n        initialValue: 1\n    },\n    useWorker: {\n        set: function(useWorker) {\n            this.$useWorker = useWorker;\n\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: {initialValue: true},\n    tabSize: {\n        set: function(tabSize) {\n            tabSize = parseInt(tabSize);\n            if (tabSize > 0 && this.$tabSize !== tabSize) {\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            }\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: {initialValue: false},\n    foldStyle: {\n        set: function(val) {this.setFoldStyle(val);},\n        handlesSet: true\n    },\n    overwrite: {\n        set: function(val) {this._signal(\"changeOverwrite\");},\n        initialValue: false\n    },\n    newLineMode: {\n        set: function(val) {this.doc.setNewLineMode(val);},\n        get: function() {return this.doc.getNewLineMode();},\n        handlesSet: true\n    },\n    mode: {\n        set: function(val) { this.setMode(val); },\n        get: function() { return this.$modeId; },\n        handlesSet: true\n    }\n});\n\nexports.EditSession = EditSession;\n});\n\nace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar Search = function() {\n    this.$options = {};\n};\n\n(function() {\n    this.set = function(options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function() {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function(options) {\n        this.$options = options;\n    };\n    this.find = function(session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n\n        var firstRange = null;\n        iterator.forEach(function(sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && options.start.start\n                && options.skipCurrent != false && firstRange.isEqual(options.start)\n            ) {\n                firstRange = null;\n                return false;\n            }\n            \n            return true;\n        });\n\n        return firstRange;\n    };\n    this.findAll = function(session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                \n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                \n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex\n                ) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(\n                    row, startIndex, row + len - 1, endIndex\n                ));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        } else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.start.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)\n                i++;\n\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)\n                j--;\n            \n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n\n        return ranges;\n    };\n    this.replace = function(input, replacement) {\n        var options = this.$options;\n\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n\n        if (!re)\n            return;\n\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        \n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--; ) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        \n        return replacement;\n    };\n\n    this.$assembleRegExp = function(options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n\n        var needle = options.needle;\n\n        if (!options.needle)\n            return options.re = false;\n\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n        try {\n            var re = new RegExp(needle, modifier);\n        } catch(e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function(needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++) try {\n            re.push(new RegExp(parts[i], modifier));\n        } catch(e) {\n            return false;\n        }\n        return re;\n    };\n\n    this.$matchIterator = function(session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n         \n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n        \n        if (backwards) {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        \n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function(row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0) return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1) return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset) return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function(row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length) break;\n                        re.lastIndex = last += 1;\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function(row, startIndex, callback) {\n                var line = session.getLine(row);\n                var last;\n                var m;\n                re.lastIndex = startIndex;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row,last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += 1;\n                        if (last >= line.length) return false;\n                    }\n                }\n            };\n        }\n        return {forEach: forEach};\n    };\n\n}).call(Search.prototype);\n\nfunction addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n        return \"\";\n    }\n    return wordBoundary(needle[0]) + needle\n        + wordBoundary(needle[needle.length - 1]);\n}\n\nexports.Search = Search;\n});\n\nace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\n\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\n\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\n\nMultiHashHandler.prototype = HashHandler.prototype;\n\n(function() {\n    \n\n    this.addCommand = function(command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n\n        this.commands[command.name] = command;\n\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function(command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            } else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n\n    this.bindKey = function(key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({exec: command, bindKey: key, name: command.name || key});\n        \n        key.split(\"|\").forEach(function(keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function(keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    \n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position \n            || (command.isDefault ? -100 : 0);\n    }\n    this._addCommandToBinding = function(keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        } else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        } else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n            \n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n\n    this.addCommands = function(commands) {\n        commands && Object.keys(commands).forEach(function(name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            \n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n\n            if (typeof command === \"function\")\n                command = { exec: command };\n\n            if (typeof command !== \"object\")\n                return;\n\n            if (!command.name)\n                command.name = name;\n\n            this.addCommand(command);\n        }, this);\n    };\n\n    this.removeCommands = function(commands) {\n        Object.keys(commands).forEach(function(name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n\n    this.bindKeys = function(keyList) {\n        Object.keys(keyList).forEach(function(key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n\n    this._buildKeyHash = function(command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function(keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(x){return x;});\n        var key = parts.pop();\n\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return {key: key, hashId: -1};\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return {key: key.toUpperCase(), hashId: -1};\n\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return {key: key, hashId: hashId};\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n\n    this.handleKeyboard = function(data, hashId, keyString, keyCode) {\n        if (keyCode < 0) return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        \n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return {command: \"null\"};\n            }\n        }\n        \n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return {command: command};\n    };\n    \n    this.getStatusText = function(editor, data) {\n        return data.$keyChain || \"\";\n    };\n\n}).call(HashHandler.prototype);\n\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n});\n\nace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CommandManager = function(platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function(e) {\n        return e.command.exec(e.editor, e.args || {});\n    });\n};\n\noop.inherits(CommandManager, MultiHashHandler);\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.exec = function(command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--; ) {\n                if (this.exec(command[i], editor, args)) return true;\n            }\n            return false;\n        }\n\n        if (typeof command === \"string\")\n            command = this.commands[command];\n\n        if (!command)\n            return false;\n\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n\n        if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))\n            return false;\n\n        var e = {editor: editor, command: command, args: args};\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n\n        return e.returnValue === false ? false : true;\n    };\n\n    this.toggleRecording = function(editor) {\n        if (this.$inReplay)\n            return;\n\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.off(\"exec\", this.$addCommandToMacro);\n\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function(e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n\n    this.replay = function(editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n\n        if (this.recording)\n            return this.toggleRecording(editor);\n\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function(x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        } finally {\n            this.$inReplay = false;\n        }\n    };\n\n    this.trimMacro = function(m) {\n        return m.map(function(x){\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n\n}).call(CommandManager.prototype);\n\nexports.CommandManager = CommandManager;\n\n});\n\nace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\n\nfunction bindKey(win, mac) {\n    return {win: win, mac: mac};\n}\nexports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/settings_menu\", function(module) {\n            module.init(editor);\n            editor.showSettingsMenu();\n        });\n    },\n    readOnly: true\n}, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, 1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, -1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selectall\",\n    description: \"Select all\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function(editor) { editor.selectAll(); },\n    readOnly: true\n}, {\n    name: \"centerselection\",\n    description: \"Center selection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function(editor) { editor.centerSelection(); },\n    readOnly: true\n}, {\n    name: \"gotoline\",\n    description: \"Go to line...\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function(editor, line) {\n        if (typeof line === \"number\" && !isNaN(line))\n            editor.gotoLine(line);\n        editor.prompt({ $type: \"gotoLine\" });\n    },\n    readOnly: true\n}, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function(editor) { editor.session.toggleFold(false); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function(editor) { editor.session.toggleFold(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldall\",\n    description: \"Fold all\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAll(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldAllComments\",\n    description: \"Fold all comments\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAllComments(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldOther\",\n    description: \"Fold other\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function(editor) { \n        editor.session.foldAll();\n        editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfoldall\",\n    description: \"Unfold all\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function(editor) { editor.session.unfold(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findnext\",\n    description: \"Find next\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function(editor) { editor.findNext(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findprevious\",\n    description: \"Find previous\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function(editor) { editor.findPrevious(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"selectOrFindNext\",\n    description: \"Select or find next\",\n    bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n    exec: function(editor) {\n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findNext(); \n    },\n    readOnly: true\n}, {\n    name: \"selectOrFindPrevious\",\n    description: \"Select or find previous\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function(editor) { \n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findPrevious();\n    },\n    readOnly: true\n}, {\n    name: \"find\",\n    description: \"Find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor);});\n    },\n    readOnly: true\n}, {\n    name: \"overwrite\",\n    description: \"Overwrite\",\n    bindKey: \"Insert\",\n    exec: function(editor) { editor.toggleOverwrite(); },\n    readOnly: true\n}, {\n    name: \"selecttostart\",\n    description: \"Select to start\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotostart\",\n    description: \"Go to start\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function(editor) { editor.navigateFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectup\",\n    description: \"Select up\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n    exec: function(editor) { editor.getSelection().selectUp(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golineup\",\n    description: \"Go line up\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function(editor, args) { editor.navigateUp(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttoend\",\n    description: \"Select to end\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotoend\",\n    description: \"Go to end\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function(editor) { editor.navigateFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectdown\",\n    description: \"Select down\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n    exec: function(editor) { editor.getSelection().selectDown(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golinedown\",\n    description: \"Go line down\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function(editor, args) { editor.navigateDown(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordleft\",\n    description: \"Select word left\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordleft\",\n    description: \"Go to word left\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function(editor) { editor.navigateWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolinestart\",\n    description: \"Select to line start\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolinestart\",\n    description: \"Go to line start\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function(editor) { editor.navigateLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectleft\",\n    description: \"Select left\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n    exec: function(editor) { editor.getSelection().selectLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoleft\",\n    description: \"Go to left\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function(editor, args) { editor.navigateLeft(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordright\",\n    description: \"Select word right\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordright\",\n    description: \"Go to word right\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function(editor) { editor.navigateWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolineend\",\n    description: \"Select to line end\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolineend\",\n    description: \"Go to line end\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function(editor) { editor.navigateLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectright\",\n    description: \"Select right\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoright\",\n    description: \"Go to right\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function(editor, args) { editor.navigateRight(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectpagedown\",\n    description: \"Select page down\",\n    bindKey: \"Shift-PageDown\",\n    exec: function(editor) { editor.selectPageDown(); },\n    readOnly: true\n}, {\n    name: \"pagedown\",\n    description: \"Page down\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function(editor) { editor.scrollPageDown(); },\n    readOnly: true\n}, {\n    name: \"gotopagedown\",\n    description: \"Go to page down\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function(editor) { editor.gotoPageDown(); },\n    readOnly: true\n}, {\n    name: \"selectpageup\",\n    description: \"Select page up\",\n    bindKey: \"Shift-PageUp\",\n    exec: function(editor) { editor.selectPageUp(); },\n    readOnly: true\n}, {\n    name: \"pageup\",\n    description: \"Page up\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function(editor) { editor.scrollPageUp(); },\n    readOnly: true\n}, {\n    name: \"gotopageup\",\n    description: \"Go to page up\",\n    bindKey: \"PageUp\",\n    exec: function(editor) { editor.gotoPageUp(); },\n    readOnly: true\n}, {\n    name: \"scrollup\",\n    description: \"Scroll up\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"scrolldown\",\n    description: \"Scroll down\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"selectlinestart\",\n    description: \"Select line start\",\n    bindKey: \"Shift-Home\",\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectlineend\",\n    description: \"Select line end\",\n    bindKey: \"Shift-End\",\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"togglerecording\",\n    description: \"Toggle recording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function(editor) { editor.commands.toggleRecording(editor); },\n    readOnly: true\n}, {\n    name: \"replaymacro\",\n    description: \"Replay macro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function(editor) { editor.commands.replay(editor); },\n    readOnly: true\n}, {\n    name: \"jumptomatching\",\n    description: \"Jump to matching\",\n    bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selecttomatching\",\n    description: \"Select to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"expandToMatching\",\n    description: \"Expand to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n    exec: function(editor) { editor.jumpToMatching(true, true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"passKeysToBrowser\",\n    description: \"Pass keys to browser\",\n    bindKey: bindKey(null, null),\n    exec: function() {},\n    passEvent: true,\n    readOnly: true\n}, {\n    name: \"copy\",\n    description: \"Copy\",\n    exec: function(editor) {\n    },\n    readOnly: true\n},\n{\n    name: \"cut\",\n    description: \"Cut\",\n    exec: function(editor) {\n        var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n        var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n        editor._emit(\"cut\", range);\n\n        if (!range.isEmpty())\n            editor.session.remove(range);\n        editor.clearSelection();\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"paste\",\n    description: \"Paste\",\n    exec: function(editor, args) {\n        editor.$handlePaste(args);\n    },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removeline\",\n    description: \"Remove line\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function(editor) { editor.removeLines(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"duplicateSelection\",\n    description: \"Duplicate selection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function(editor) { editor.duplicateSelection(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"sortlines\",\n    description: \"Sort lines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function(editor) { editor.sortLines(); },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"togglecomment\",\n    description: \"Toggle comment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function(editor) { editor.toggleCommentLines(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"toggleBlockComment\",\n    description: \"Toggle block comment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function(editor) { editor.toggleBlockComment(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"modifyNumberUp\",\n    description: \"Modify number up\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function(editor) { editor.modifyNumber(1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"modifyNumberDown\",\n    description: \"Modify number down\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function(editor) { editor.modifyNumber(-1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"replace\",\n    description: \"Replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor, true);});\n    }\n}, {\n    name: \"undo\",\n    description: \"Undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function(editor) { editor.undo(); }\n}, {\n    name: \"redo\",\n    description: \"Redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function(editor) { editor.redo(); }\n}, {\n    name: \"copylinesup\",\n    description: \"Copy lines up\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function(editor) { editor.copyLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesup\",\n    description: \"Move lines up\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function(editor) { editor.moveLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"copylinesdown\",\n    description: \"Copy lines down\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function(editor) { editor.copyLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesdown\",\n    description: \"Move lines down\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function(editor) { editor.moveLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"del\",\n    description: \"Delete\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function(editor) { editor.remove(\"right\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"backspace\",\n    description: \"Backspace\",\n    bindKey: bindKey(\n        \"Shift-Backspace|Backspace\",\n        \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"\n    ),\n    exec: function(editor) { editor.remove(\"left\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"cut_or_delete\",\n    description: \"Cut or delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function(editor) { \n        if (editor.selection.isEmpty()) {\n            editor.remove(\"left\");\n        } else {\n            return false;\n        }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestart\",\n    description: \"Remove to line start\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function(editor) { editor.removeToLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineend\",\n    description: \"Remove to line end\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n    exec: function(editor) { editor.removeToLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestarthard\",\n    description: \"Remove to line start hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.start.column = 0;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineendhard\",\n    description: \"Remove to line end hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.end.column = Number.MAX_VALUE;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordleft\",\n    description: \"Remove word left\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function(editor) { editor.removeWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordright\",\n    description: \"Remove word right\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function(editor) { editor.removeWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"outdent\",\n    description: \"Outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"indent\",\n    description: \"Indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function(editor) { editor.indent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockoutdent\",\n    description: \"Block outdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockindent\",\n    description: \"Block indent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function(editor) { editor.blockIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"insertstring\",\n    description: \"Insert string\",\n    exec: function(editor, str) { editor.insert(str); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"inserttext\",\n    description: \"Insert text\",\n    exec: function(editor, args) {\n        editor.insert(lang.stringRepeat(args.text  || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"splitline\",\n    description: \"Split line\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function(editor) { editor.splitLine(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"transposeletters\",\n    description: \"Transpose letters\",\n    bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n    exec: function(editor) { editor.transposeLetters(); },\n    multiSelectAction: function(editor) {editor.transposeSelections(1); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"touppercase\",\n    description: \"To uppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function(editor) { editor.toUpperCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"tolowercase\",\n    description: \"To lowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function(editor) { editor.toLowerCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"autoindent\",\n    description: \"Auto Indent\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) { editor.autoIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"animate\"\n}, {\n    name: \"expandtoline\",\n    description: \"Expand to line\",\n    bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n\n        range.start.column = range.end.column = 0;\n        range.end.row++;\n        editor.selection.setRange(range, false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"joinlines\",\n    description: \"Join lines\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var isBackwards = editor.selection.isBackwards();\n        var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n        var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n        var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n        var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n        var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n        var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n        for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n            var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n            if (curLine.length !== 0) {\n                curLine = \" \" + curLine;\n            }\n            insertLine += curLine;\n        }\n\n        if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n            insertLine += editor.session.doc.getNewLineCharacter();\n        }\n\n        editor.clearSelection();\n        editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n        if (selectedCount > 0) {\n            editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n            editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n        } else {\n            firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n        }\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"invertSelection\",\n    description: \"Invert selection\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var endRow = editor.session.doc.getLength() - 1;\n        var endCol = editor.session.doc.getLine(endRow).length;\n        var ranges = editor.selection.rangeList.ranges;\n        var newRanges = [];\n        if (ranges.length < 1) {\n            ranges = [editor.selection.getRange()];\n        }\n\n        for (var i = 0; i < ranges.length; i++) {\n            if (i == (ranges.length - 1)) {\n                if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                    newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                }\n            }\n\n            if (i === 0) {\n                if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                    newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                }\n            } else {\n                newRanges.push(new Range(ranges[i-1].end.row, ranges[i-1].end.column, ranges[i].start.row, ranges[i].start.column));\n            }\n        }\n\n        editor.exitMultiSelectMode();\n        editor.clearSelection();\n\n        for(var i = 0; i < newRanges.length; i++) {\n            editor.selection.addRange(newRanges[i], false);\n        }\n    },\n    readOnly: true,\n    scrollIntoView: \"none\"\n}, {\n    name: \"addLineAfter\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        editor.navigateLineEnd();\n        editor.insert(\"\\n\");\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"addLineBefore\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        var cursor = editor.getCursorPosition();\n        editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n        editor.insert(\"\\n\");\n        if (cursor.row === 0) editor.navigateUp();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"openCommandPallete\",\n    description: \"Open command pallete\",\n    bindKey: bindKey(\"F1\", \"F1\"),\n    exec: function(editor) {\n        editor.prompt({ $type: \"commands\" });\n    },\n    readOnly: true\n}, {\n    name: \"modeSelect\",\n    description: \"Change language mode...\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        editor.prompt({ $type: \"modes\" });\n    },\n    readOnly: true\n}];\n\nfor (var i = 1; i < 9; i++) {\n    exports.commands.push({\n        name: \"foldToLevel\" + i,\n        description: \"Fold To Level \" + i,\n        level: i,\n        exec: function(editor) { editor.session.foldToLevel(this.level); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    });\n}\n\n});\n\nace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/clipboard\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\n\nvar clipboard = require(\"./clipboard\");\nvar Editor = function(renderer, session, options) {\n    this.$toDestroy = [];\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + (++Editor.$uid);\n\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    if (typeof document == \"object\") {\n        this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n    }\n\n    this.keyBinding = new KeyBinding(this);\n\n    this.$search = new Search().set({\n        wrap: true\n    });\n\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n\n    this.$initOperationListeners();\n    \n    this._$emitInputEvent = lang.delayedCall(function() {\n        this._signal(\"input\", {});\n        if (this.session && this.session.bgTokenizer)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    \n    this.on(\"change\", function(_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n\n    this.setSession(session || options && options.session || new EditSession(\"\"));\n    config.resetOptions(this);\n    if (options)\n        this.setOptions(options);\n    config._signal(\"editor\", this);\n};\n\nEditor.$uid = 0;\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function() {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n        this.on(\"change\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n        \n        this.on(\"changeSelection\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function(commandEvent) {\n        if (this.curOp) {\n            if (!commandEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n            this.previousCommand = null;\n            commandEvent = {};\n        }\n\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n            command: commandEvent.command || {},\n            args: commandEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n    };\n\n    this.endOperation = function(e) {\n        if (this.curOp && this.session) {\n            if (e && e.returnValue === false || !this.session)\n                return (this.curOp = null);\n            if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\")\n                return;\n            this._signal(\"beforeEndOperation\");\n            if (!this.curOp) return;\n            var command = this.curOp.command;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            var sel = this.selection.toJSON();\n            this.curOp.selectionAfter = sel;\n            this.$lastSel = this.selection.toJSON();\n            this.session.getUndoManager().addSelection(sel);\n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function(e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n            this.mergeNextCommand = true;\n        } else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n\n        if (\n            this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000\n        ) {\n            shouldMerge = false; // the sequence is too long\n        }\n\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function(keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function(module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        } else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function() {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function(session) {\n        if (this.session == session)\n            return;\n        if (this.curOp) this.endOperation();\n        this.curOp = {};\n\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n    \n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n    \n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n    \n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n    \n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n    \n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n    \n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n    \n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n    \n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n    \n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n    \n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n    \n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n    \n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n    \n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n    \n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n    \n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n    \n            this.onChangeMode();\n    \n            this.onCursorChange();\n    \n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        } else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        \n        this.curOp = null;\n        \n        oldSession && oldSession._signal(\"changeEditor\", {oldEditor: this});\n        session && session._signal(\"changeEditor\", {editor: this});\n        \n        if (session && session.bgTokenizer)\n            session.bgTokenizer.scheduleStart();\n    };\n    this.getSession = function() {\n        return this.session;\n    };\n    this.setValue = function(val, cursorPos) {\n        this.session.doc.setValue(val);\n\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n\n        return val;\n    };\n    this.getValue = function() {\n        return this.session.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.resize = function(force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function(theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function() {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function(style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function(style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n           dom.computedStyle(this.container).fontSize;\n    };\n    this.setFontSize = function(size) {\n        this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function() {\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function () {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            if (session.$bracketHighlight) {\n                session.$bracketHighlight.markerIds.forEach(function(id) {\n                    session.removeMarker(id);\n                });\n                session.$bracketHighlight = null;\n            }\n            var ranges = session.getMatchingBracketRanges(self.getCursorPosition());\n            if (!ranges && session.$mode.getMatching) \n                ranges = session.$mode.getMatching(self.session);\n            if (!ranges)\n                return;\n\n            var markerType = \"ace_bracket\";\n            if (!Array.isArray(ranges)) {\n                ranges = [ranges];\n            } else if (ranges.length == 1) {\n                markerType = \"ace_error_bracket\";\n            }\n            if (ranges.length == 2) {\n                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)\n                    ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];\n                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)\n                    ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n            }\n\n            session.$bracketHighlight = {\n                ranges: ranges,\n                markerIds: ranges.map(function(range) {\n                    return session.addMarker(range, markerType, \"text\");\n                })\n            };\n        }, 50);\n    };\n    this.$highlightTags = function() {\n        if (this.$highlightTagPending)\n            return;\n        var self = this;\n        this.$highlightTagPending = true;\n        setTimeout(function() {\n            self.$highlightTagPending = false;\n            \n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            \n            var pos = self.getCursorPosition();\n            var iterator = new TokenIterator(self.session, pos.row, pos.column);\n            var token = iterator.getCurrentToken();\n            \n            if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            if (token.type.indexOf(\"tag-open\") !== -1) {\n                token = iterator.stepForward();\n                if (!token)\n                    return;\n            }\n            \n            var tag = token.value;\n            var currentTag = token.value;\n            var depth = 0;\n            var prevToken = iterator.stepBackward();\n            \n            if (prevToken.value === '<'){\n                do {\n                    prevToken = token;\n                    token = iterator.stepForward();\n\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            currentTag = token.value;\n                            if (tag === currentTag) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                } else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        } else if (tag === currentTag && token.value === '/>') { // self closing tag\n                            depth--;\n                        }\n                    }\n                    \n                } while (token && depth >= 0);\n            } else {\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            if (tag === token.value) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                } else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        } else if (token.value === '/>') { // self closing tag\n                            var stepCount = 0;\n                            var tmpToken = prevToken;\n                            while (tmpToken) {\n                                if (tmpToken.type.indexOf('tag-name') !== -1 && tmpToken.value === tag) {\n                                    depth--;\n                                    break;\n                                } else if (tmpToken.value === '<') {\n                                    break;\n                                }\n                                tmpToken = iterator.stepBackward();\n                                stepCount++;\n                            }\n                            for (var i = 0; i < stepCount; i++) {\n                                iterator.stepForward();\n                            }\n                        }\n                    }\n                } while (prevToken && depth <= 0);\n                iterator.stepForward();\n            }\n            \n            if (!token) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn();\n            var range = new Range(row, column, row, column+token.value.length);\n            var sbm = session.$backMarkers[session.$tagHighlight];\n            if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n            }\n            \n            if (!session.$tagHighlight)\n                session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.focus = function() {\n        var _self = this;\n        setTimeout(function() {\n            if (!_self.isFocused())\n                _self.textInput.focus();\n        });\n        this.textInput.focus();\n    };\n    this.isFocused = function() {\n        return this.textInput.isFocused();\n    };\n    this.blur = function() {\n        this.textInput.blur();\n    };\n    this.onFocus = function(e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function(e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n\n    this.$cursorChange = function() {\n        this.renderer.updateCursor();\n        this.$highlightBrackets();\n        this.$highlightTags();\n        this.$updateHighlightActiveLine();\n    };\n    this.onDocumentChange = function(delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n    };\n\n    this.onTokenizerUpdate = function(e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n\n\n    this.onScrollTopChange = function() {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function() {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function() {\n        this.$cursorChange();\n        this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function() {\n        var session = this.getSession();\n\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n                highlight = this.getCursorPosition();\n            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())\n                highlight = false;\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        } else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        } else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n\n    this.onSelectionChange = function(e) {\n        var session = this.session;\n\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        } else {\n            this.$updateHighlightActiveLine();\n        }\n\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n\n        this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function() {\n        var session = this.session;\n\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n        \n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle))\n            return;\n\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n        \n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary))\n            return;\n        \n        return re;\n    };\n\n\n    this.onChangeFrontMarker = function() {\n        this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function() {\n        this.renderer.updateBackMarkers();\n    };\n\n\n    this.onChangeBreakpoint = function() {\n        this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function() {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n\n    this.onChangeMode = function(e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n\n\n    this.onChangeWrapLimit = function() {\n        this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function() {\n        this.renderer.onResize(true);\n    };\n\n\n    this.onChangeFold = function() {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function() {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function() {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine= false;\n        if (!text && this.$copyWithEmptySelection) {\n            copyLine = true;\n            var ranges = this.selection.getAllRanges();\n            for (var i = 0; i < ranges.length; i++) {\n                var range = ranges[i];\n                if (i && ranges[i - 1].start.row == range.start.row)\n                    continue;\n                text += this.session.getLine(range.start.row) + nl;\n            }\n        }\n        var e = {text: text};\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : \"\";\n        return e.text;\n    };\n    this.onCopy = function() {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function() {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function(text, event) {\n        var e = {text: text, event: event};\n        this.commands.exec(\"paste\", this, e);\n    };\n    \n    this.$handlePaste = function(e) {\n        if (typeof e == \"string\") \n            e = {text: e};\n        this._signal(\"paste\", e);\n        var text = e.text;\n\n        var lineMode = text == clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            if (lineMode)\n                session.insert({ row: this.selection.lead.row, column: 0 }, text);\n            else\n                this.insert(text);\n        } else if (lineMode) {\n            this.selection.rangeList.ranges.forEach(function(range) {\n                session.insert({ row: range.start.row, column: 0 }, text);\n            });\n        } else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n    \n            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n            if (lines.length != ranges.length || isFullLine)\n                return this.commands.exec(\"insertstring\", this, text);\n    \n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    session.remove(range);\n    \n                session.insert(range.start, lines[i]);\n            }\n        }\n    };\n\n    this.execCommand = function(command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function(text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                        this.session.mergeUndoDeltas = false;\n                        this.mergeNextCommand = false;\n                    }\n                }\n                text = transform.text;\n\n            }\n        }\n        \n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        session.insert(cursor, text);\n\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(\n                    new Range(cursor.row, start + transform.selection[0],\n                              cursor.row, start + transform.selection[1]));\n            } else { // Transform relative to the current row.\n                this.selection.setSelectionRange(\n                    new Range(cursor.row + transform.selection[0],\n                              transform.selection[1],\n                              cursor.row + transform.selection[2],\n                              transform.selection[3]));\n            }\n        }\n        if (this.$enableAutoIndent) {\n            if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n\n                session.insert({row: cursor.row+1, column: 0}, lineIndent);\n            }\n            if (shouldOutdent)\n                mode.autoOutdent(lineState, session, cursor.row);\n        }\n    };\n\n    this.autoIndent = function () {\n        var session = this.session;\n        var mode = session.getMode();\n\n        var startRow, endRow;\n        if (this.selection.isEmpty()) {\n            startRow = 0;\n            endRow = session.doc.getLength() - 1;\n        } else {\n            var selectedRange = this.getSelectionRange();\n\n            startRow = selectedRange.start.row;\n            endRow = selectedRange.end.row;\n        }\n\n        var prevLineState = \"\";\n        var prevLine = \"\";\n        var lineIndent = \"\";\n        var line, currIndent, range;\n        var tab = session.getTabString();\n\n        for (var row = startRow; row <= endRow; row++) {\n            if (row > 0) {\n                prevLineState = session.getState(row - 1);\n                prevLine = session.getLine(row - 1);\n                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);\n            }\n\n            line = session.getLine(row);\n            currIndent = mode.$getIndent(line);\n            if (lineIndent !== currIndent) {\n                if (currIndent.length > 0) {\n                    range = new Range(row, 0, row, currIndent.length);\n                    session.remove(range);\n                }\n                if (lineIndent.length > 0) {\n                    session.insert({row: row, column: 0}, lineIndent);\n                }\n            }\n\n            mode.autoOutdent(prevLineState, session, row);\n        }\n    };\n\n\n    this.onTextInput = function(text, composition) {\n        if (!composition)\n            return this.keyBinding.onTextInput(text);\n        \n        this.startOperation({command: { name: \"insertstring\" }});\n        var applyComposition = this.applyComposition.bind(this, text, composition);\n        if (this.selection.rangeCount)\n            this.forEachSelection(applyComposition);\n        else\n            applyComposition();\n        this.endOperation();\n    };\n    \n    this.applyComposition = function(text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.extendLeft;\n            r.end.column += composition.extendRight;\n            if (r.start.column < 0) {\n                r.start.row--;\n                r.start.column += this.session.getLine(r.start.row).length + 1;\n            }\n            this.selection.setRange(r);\n            if (!text && !r.isEmpty())\n                this.remove();\n        }\n        if (text || !this.selection.isEmpty())\n            this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.restoreStart;\n            r.end.column -= composition.restoreEnd;\n            this.selection.setRange(r);\n        }\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function(overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function() {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function(speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function() {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function(dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function() {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function(val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function() {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function(shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function() {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function(shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function() {\n        return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function(){\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function() {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function(readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function() {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function(show) {\n        this.setOption(\"showFoldWidgets\", show);\n\n    };\n    this.getShowFoldWidgets = function() {\n        return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function(dir) {\n        if (this.selection.isEmpty()){\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n        if (this.selection.isEmpty())\n            this.selection.selectLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function() {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function() {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column-1);\n            range = new Range(cursor.row, column-1, cursor.row, column+1);\n        }\n        else {\n            swap = line.charAt(column-1) + line.charAt(column-2);\n            range = new Range(cursor.row, column-2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    this.toLowerCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function() {\n        var session = this.session;\n        var range = this.getSelectionRange();\n\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        } else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        \n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        } else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function() {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function() {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function() {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n\n        lines.sort(function(a, b) {\n            if (a.toLowerCase() < b.toLowerCase()) return -1;\n            if (a.toLowerCase() > b.toLowerCase()) return 1;\n            return 0;\n        });\n\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i-rows.first]);\n        }\n    };\n    this.toggleCommentLines = function() {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function() {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function(row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if(m.index <= column && m.index+m[0].length >= column){\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index+m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function(amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column-1, row, column);\n\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n\n\n                if(fp !== nr.end && column < fp){\n                    amount *= Math.pow(10, nr.end - column - 1);\n                } else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));\n\n            }\n        } else {\n            this.toggleWord();\n        }\n    };\n\n    this.$toggleWordPairs = [\n        [\"first\", \"last\"],\n        [\"true\", \"false\"],\n        [\"yes\", \"no\"],\n        [\"width\", \"height\"],\n        [\"top\", \"bottom\"],\n        [\"right\", \"left\"],\n        [\"on\", \"off\"],\n        [\"x\", \"y\"],\n        [\"get\", \"set\"],\n        [\"max\", \"min\"],\n        [\"horizontal\", \"vertical\"],\n        [\"show\", \"hide\"],\n        [\"add\", \"remove\"],\n        [\"up\", \"down\"],\n        [\"before\", \"after\"],\n        [\"even\", \"odd\"],\n        [\"in\", \"out\"],\n        [\"inside\", \"outside\"],\n        [\"next\", \"previous\"],\n        [\"increase\", \"decrease\"],\n        [\"attach\", \"detach\"],\n        [\"&&\", \"||\"],\n        [\"==\", \"!=\"]\n    ];\n\n    this.toggleWord = function () {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0) delta = 0;\n        var curLength = 0, itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n            wordParts.forEach(function (item, i) {\n                itLength = curLength + item.length;\n                if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                }\n                curLength = itLength;\n            });\n        }\n\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n            var item = wordPairs[i];\n            for (var j = 0; j <= 1; j++) {\n                var negate = +!j;\n                var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n                if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n                    if (secondCondition) {\n                        reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                            var res = item[negate];\n                            if (result.toUpperCase() == result) {\n                                res = res.toUpperCase();\n                            } else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                                res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                            }\n                            return res;\n                        });\n                        this.insert(reg);\n                        reg = \"\";\n                    }\n                }\n            }\n        }\n    };\n    this.removeLines = function() {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n\n    this.duplicateSelection = function() {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        } else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function() {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function() {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function(range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function() {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function() {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function(dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1) moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        } else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            \n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1) rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy) diff = 0;\n                totalDiff += diff;\n            }\n            \n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function(range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n\n    this.onCompositionStart = function(compositionState) {\n        this.renderer.showComposition(compositionState);\n    };\n\n    this.onCompositionUpdate = function(text) {\n        this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function() {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function() {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function() {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function(row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function(row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function() {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function(dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n\n        if (select === true) {\n            this.selection.$moveSelection(function(){\n                this.moveCursorBy(rows, 0);\n            });\n        } else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n\n        var scrollTop = renderer.scrollTop;\n\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function() {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function() {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function() {\n       this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function() {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function() {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function() {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function(row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function() {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function() {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function() {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function() {\n        return this.selection.getRange();\n    };\n    this.selectAll = function() {\n        this.selection.selectAll();\n    };\n    this.clearSelection = function() {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function(row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function(pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function(select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var token = prevToken || iterator.stepForward();\n\n        if (!token) return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        \n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                        break;\n                    }\n                }\n            }\n            else if (token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                \n                if (prevToken.value === '<') {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                \n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n\n            if (!found) {\n                prevToken = token;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1,\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1\n                );\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (token && token.type.indexOf('tag-name') !== -1) \n                var tag = token.value;\n            else\n                return;\n\n            range = new Range(\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2,\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2\n            );\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                found = false;\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    \n                    if (prevToken) {\n                        if (prevToken.type.indexOf('tag-close') !== -1) {\n                            range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n                        }\n\n                        if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                            if (prevToken.value === '<') {\n                                depth[tag]++;\n                            }\n                            else if (prevToken.value === '</') {\n                                depth[tag]--;\n                            }\n                            \n                            if (depth[tag] === 0)\n                                found = true;\n                        }\n                    }\n                } while (prevToken && !found);\n            }\n            if (token && token.type.indexOf('tag-name')) {\n                pos = range.start;\n                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    pos = range.end;\n            }\n        }\n\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                } else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                } else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            } else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function(lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({row: lineNumber - 1, column: column || 0});\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function(row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function(times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function(times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function() {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function() {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function() {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function() {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function() {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function() {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function(replacement, options) {\n        if (options)\n            this.$search.set(options);\n\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n\n        return replaced;\n    };\n    this.replaceAll = function(replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if(this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n\n        this.selection.setSelectionRange(selection);\n\n        return replaced;\n    };\n\n    this.$tryReplace = function(range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        } else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function() {\n        return this.$search.getOptions();\n    };\n    this.find = function(needle, options, animate) {\n        if (!options)\n            options = {};\n\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({needle: needle});\n        }\n\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({start: range});\n\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function(options, animate) {\n        this.find({skipCurrent: true, backwards: false}, options, animate);\n    };\n    this.findPrevious = function(options, animate) {\n        this.find(options, {skipCurrent: true, backwards: true}, animate);\n    };\n\n    this.revealRange = function(range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function() {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function() {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function() {\n        if (this.$toDestroy) {\n            this.$toDestroy.forEach(function(el) {\n                el.destroy();\n            });\n            this.$toDestroy = null;\n        }\n        if (this.$mouseHandler)\n            this.$mouseHandler.destroy();\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session)\n            this.session.destroy();\n        if (this._$emitInputEvent)\n            this._$emitInputEvent.cancel();\n        this.removeAllListeners();\n    };\n    this.setAutoScrollEditorIntoView = function(enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function() {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function() {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function() {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())\n            ) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                } else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                } else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function(enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n\n\n    this.$resetCursorStyle = function() {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n    this.prompt = function(message, options, callback) {\n        var editor = this;\n        config.loadModule(\"./ext/prompt\", function (module) {\n            module.prompt(editor, message, options, callback);\n        });\n    };\n\n}).call(Editor.prototype);\n\n\n\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function(style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", {data: style});\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function() {this.$updateHighlightActiveLine();},\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function(shouldHighlight) {this.$onSelectionChange();},\n        initialValue: true\n    },\n    readOnly: {\n        set: function(readOnly) {\n            this.textInput.setReadOnly(readOnly);\n            this.$resetCursorStyle(); \n        },\n        initialValue: false\n    },\n    copyWithEmptySelection: {\n        set: function(value) {\n            this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function(val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: {initialValue: true},\n    wrapBehavioursEnabled: {initialValue: true},\n    enableAutoIndent: {initialValue: true},\n    autoScrollEditorIntoView: {\n        set: function(val) {this.setAutoScrollEditorIntoView(val);}\n    },\n    keyboardHandler: {\n        set: function(val) { this.setKeyboardHandler(val); },\n        get: function() { return this.$keybindingId; },\n        handlesSet: true\n    },\n    value: {\n        set: function(val) { this.session.setValue(val); },\n        get: function() { return this.getValue(); },\n        handlesSet: true,\n        hidden: true\n    },\n    session: {\n        set: function(val) { this.setSession(val); },\n        get: function() { return this.session; },\n        handlesSet: true,\n        hidden: true\n    },\n    \n    showLineNumbers: {\n        set: function(show) {\n            this.renderer.$gutterLayer.setShowLineNumbers(show);\n            this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n            if (show && this.$relativeLineNumbers)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n    },\n    relativeLineNumbers: {\n        set: function(value) {\n            if (this.$showLineNumbers && value)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        }\n    },\n    placeholder: {\n        set: function(message) {\n            if (!this.$updatePlaceholder) {\n                this.$updatePlaceholder = function() {\n                    var value = this.session && (this.renderer.$composition || this.getValue());\n                    if (value && this.renderer.placeholderNode) {\n                        this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                        dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                        this.renderer.placeholderNode.remove();\n                        this.renderer.placeholderNode = null;\n                    } else if (!value && !this.renderer.placeholderNode) {\n                        this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                        dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                        var el = dom.createElement(\"div\");\n                        el.className = \"ace_placeholder\";\n                        el.textContent = this.$placeholder || \"\";\n                        this.renderer.placeholderNode = el;\n                        this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    } else if (!value && this.renderer.placeholderNode) {\n                        this.renderer.placeholderNode.textContent = this.$placeholder || \"\";\n                    }\n                }.bind(this);\n                this.on(\"input\", this.$updatePlaceholder);\n            }\n            this.$updatePlaceholder();\n        }\n    },\n\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\n\n\nvar relativeNumberRenderer = {\n    getText: function(session, row) {\n        return (Math.abs(session.selection.lead.row - row) || (row + 1 + (row < 9 ? \"\\xb7\" : \"\"))) + \"\";\n    },\n    getWidth: function(session, lastLineNumber, config) {\n        return Math.max(\n            lastLineNumber.toString().length,\n            (config.lastRow + 1).toString().length,\n            2\n        ) * config.characterWidth;\n    },\n    update: function(e, editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function(editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n    },\n    detach: function(editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n            editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n    }\n};\n\nexports.Editor = Editor;\n});\n\nace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar UndoManager = function() {\n    this.$maxRev = 0;\n    this.$fromUndo = false;\n    this.reset();\n};\n\n(function() {\n    \n    this.addSession = function(session) {\n        this.$session = session;\n    };\n    this.add = function(delta, allowMerge, session) {\n        if (this.$fromUndo) return;\n        if (delta == this.$lastDelta) return;\n        if (!this.$keepRedoStack) this.$redoStack.length = 0;\n        if (allowMerge === false || !this.lastDeltas) {\n            this.lastDeltas = [];\n            this.$undoStack.push(this.lastDeltas);\n            delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n            this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n    };\n    \n    this.addSelection = function(selection, rev) {\n        this.selections.push({\n            value: selection,\n            rev: rev || this.$rev\n        });\n    };\n    \n    this.startNewGroup = function() {\n        this.lastDeltas = null;\n        return this.$rev;\n    };\n    \n    this.markIgnored = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id <= from)\n                break;\n            if (delta.id < to)\n                delta.ignore = true;\n        }\n        this.lastDeltas = null;\n    };\n    \n    this.getSelection = function(rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--;) {\n            var selection = stack[i];\n            if (selection.rev < rev) {\n                if (after)\n                    selection = stack[i + 1];\n                return selection;\n            }\n        }\n    };\n    \n    this.getRevision = function() {\n        return this.$rev;\n    };\n    \n    this.getDeltas = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null, start = 0;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id < to && !end)\n                end = i+1;\n            if (delta.id <= from) {\n                start = i + 1;\n                break;\n            }\n        }\n        return stack.slice(start, end);\n    };\n    \n    this.getChangedRanges = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n    \n    this.getChangedLines = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n    this.undo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n        \n        if (!rearrangeUndoStack(stack, stack.length))\n            return;\n        \n        if (!session)\n            session = this.$session;\n        \n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n            this.$redoStack = [];\n        \n        this.$fromUndo = true;\n        \n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (deltaSet) {\n            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n            this.$redoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        \n        this.$fromUndo = false;\n\n        return undoSelectionRange;\n    };\n    this.redo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        \n        if (!session)\n            session = this.$session;\n        \n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n            rebaseRedoStack(this.$redoStack, diff);\n            this.$redoStackBaseRev = this.$rev;\n            this.$redoStack.forEach(function(x) {\n                x[0].id = ++this.$maxRev;\n            }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        \n        if (deltaSet) {\n            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n            this.$undoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        \n        return redoSelectionRange;\n    };\n    \n    this.$syncRev = function() {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = nextDelta && nextDelta[0].id || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n    };\n    this.reset = function() {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n    };\n    this.canUndo = function() {\n        return this.$undoStack.length > 0;\n    };\n    this.canRedo = function() {\n        return this.$redoStack.length > 0;\n    };\n    this.bookmark = function(rev) {\n        if (rev == undefined)\n            rev = this.$rev;\n        this.mark = rev;\n    };\n    this.isAtBookmark = function() {\n        return this.$rev === this.mark;\n    };\n    \n    this.toJSON = function() {\n        \n    };\n    \n    this.fromJSON = function() {\n        \n    };\n    \n    this.hasUndo = this.canUndo;\n    this.hasRedo = this.canRedo;\n    this.isClean = this.isAtBookmark;\n    this.markClean = this.bookmark;\n    \n    this.$prettyPrint = function(delta) {\n        if (delta) return stringifyDelta(delta);\n        return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n}).call(UndoManager.prototype);\n\nfunction rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--; ) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n            while(i < pos - 1) {\n                var swapped = swapGroups(stack[i], stack[i + 1]);\n                stack[i] = swapped[0];\n                stack[i + 1] = swapped[1];\n                i++;\n            }\n            return true;\n        }\n    }\n}\n\nvar Range = require(\"./range\").Range;\nvar cmp = Range.comparePoints;\nvar comparePoints = Range.comparePoints;\n\nfunction $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert) end = start;\n\n    for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n            continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n            if (isInsert) {\n                if (point.bias == 1) {\n                    cmp = 1;\n                }\n                else {\n                    point.bias == -1;\n                    continue;\n                }\n            }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n            point.row += rowShift;\n            point.column += point.row == end.row ? colShift : 0;\n            continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n            point.row = start.row;\n            point.column = start.column;\n            if (cmp2 === 0)\n                point.bias = 1;\n        }\n    }\n}\n\n\n\nfunction clonePos(pos) {\n    return {row: pos.row,column: pos.column};\n}\nfunction cloneDelta(d) {\n    return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n    };\n}\nfunction stringifyDelta(d) {\n    d = d || this;\n    if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n    }\n    var type = \"\";\n    if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n    } else if (d.value) {\n        if (Array.isArray(d.value)) {\n            type = d.value.map(stringifyRange).join(\"\\n\");\n        } else {\n            type = stringifyRange(d.value);\n        }\n    }\n    if (d.start) {\n        type += stringifyRange(d);\n    }\n    if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n    return type;\n}\nfunction stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column \n        + \"=>\" + r.end.row + \":\" + r.end.column;\n}\n\nfunction swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    }\n    return [d2, d1];\n}\nfunction swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--; ) {\n        for (var j = 0; j < ds2.length; j++) {\n            if (!swap(ds1[i], ds2[j])) {\n                while (i < ds1.length) {\n                    while (j--) {\n                        swap(ds2[j], ds1[i]);\n                    }\n                    j = ds2.length;\n                    i++;\n                }                \n                return [ds1, ds2];\n            }\n        }\n    }\n    ds1.selectionBefore = ds2.selectionBefore = \n    ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n}\nfunction xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n            shift(c1, d1, 1);\n        } else {\n            shift(d1, c1, 1);\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n            shift(d1, c1, -1);\n        } else if (cmp(d1.start, c1.start) <= 0) {\n            shift(c1, d1, +1);\n        } else {\n            shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n            shift(c1, d1, +1);\n        }\n    } else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.start, d1.start) <= 0) {\n            shift(d1, c1, +1);\n        } else {\n            shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n            shift(d1, c1, +1);\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.end, d1.start) <= 0) {\n            shift(d1, c1, -1);\n        } else {\n            var before, after;\n            if (cmp(d1.start, c1.start) < 0) {\n                before = d1;\n                d1 = splitDelta(d1, c1.start);\n            }\n            if (cmp(d1.end, c1.end) > 0) {\n                after = splitDelta(d1, c1.end);\n            }\n\n            shiftPos(c1.end, d1.start, d1.end, -1);\n            if (after && !before) {\n                d1.lines = after.lines;\n                d1.start = after.start;\n                d1.end = after.end;\n                after = d1;\n            }\n\n            return [c1, before, after].filter(Boolean);\n        }\n    }\n    return [c1, d1];\n}\n    \nfunction shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n}\nfunction shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n    }\n    pos.row += dir * (end.row - start.row);\n}\nfunction splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);    \n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    \n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col)   ; \n    var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n    };\n    return rest;\n}\n\nfunction moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n    for (var j = redoStack.length; j--;) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n            var x = deltaSet[i];\n            var xformed = xform(x, d);\n            d = xformed[0];\n            if (xformed.length != 2) {\n                if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                } else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (!deltaSet.length) {\n            redoStack.splice(j, 1); \n        }\n    }\n    return redoStack;\n}\nfunction rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n            moveDeltasByOne(redoStack, deltas[j]);\n        }\n    }\n}\n\nexports.UndoManager = UndoManager;\n\n});\n\nace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Lines = function(element, canvasHeight) {\n    this.element = element;\n    this.canvasHeight = canvasHeight || 500000;\n    this.element.style.height = (this.canvasHeight * 2) + \"px\";\n    \n    this.cells = [];\n    this.cellCache = [];\n    this.$offsetCoefficient = 0;\n};\n\n(function() {\n    \n    this.moveContainer = function(config) {\n        dom.translate(this.element, 0, -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };    \n    \n    this.pageChanged = function(oldConfig, newConfig) {\n        return (\n            Math.floor((oldConfig.firstRowScreen * oldConfig.lineHeight) / this.canvasHeight) !==\n            Math.floor((newConfig.firstRowScreen * newConfig.lineHeight) / this.canvasHeight)\n        );\n    };\n    \n    this.computeLineTop = function(row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - (screenPage * this.canvasHeight);\n    };\n    \n    this.computeLineHeight = function(row, config, session) {\n        return config.lineHeight * session.getRowLineCount(row);\n    };\n    \n    this.getLength = function() {\n        return this.cells.length;\n    };\n    \n    this.get = function(index) {\n        return this.cells[index];\n    };\n    \n    this.shift = function() {\n        this.$cacheCell(this.cells.shift());\n    };\n    \n    this.pop = function() {\n        this.$cacheCell(this.cells.pop());\n    };\n    \n    this.push = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.push.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            this.element.appendChild(fragment);\n        } else {\n            this.cells.push(cell);\n            this.element.appendChild(cell.element);\n        }\n    };\n    \n    this.unshift = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.unshift.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            if (this.element.firstChild)\n                this.element.insertBefore(fragment, this.element.firstChild);\n            else\n                this.element.appendChild(fragment);\n        } else {\n            this.cells.unshift(cell);\n            this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n    };\n    \n    this.last = function() {\n        if (this.cells.length)\n            return this.cells[this.cells.length-1];\n        else\n            return null;\n    };\n    \n    this.$cacheCell = function(cell) {\n        if (!cell)\n            return;\n            \n        cell.element.remove();\n        this.cellCache.push(cell);\n    };\n    \n    this.createCell = function(row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n            var element = dom.createElement(\"div\");\n            if (initElement)\n                initElement(element);\n            \n            this.element.appendChild(element);\n            \n            cell = {\n                element: element,\n                text: \"\",\n                row: row\n            };\n        }\n        cell.row = row;\n        \n        return cell;\n    };\n    \n}).call(Lines.prototype);\n\nexports.Lines = Lines;\n\n});\n\nace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Lines = require(\"./lines\").Lines;\n\nvar Gutter = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    \n    this.gutterWidth = 0;\n\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    \n    this.$lines = new Lines(this.element);\n    this.$lines.$offsetCoefficient = 1;\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.off(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function(annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = {text: []};\n           \n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n\n            var type = annotation.type;\n            if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        } else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        } else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n\n    this.update = function(config) {\n        this.config = config;\n        \n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            session.getLength() - 1);\n            \n        this.oldLastRow = lastRow;\n        this.config = config;\n        \n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n            \n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        \n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$lines.getLength() > index + 1)\n                    this.$lines.pop();\n                    \n                break;\n            }\n\n            cell = this.$lines.get(++index);\n            if (cell) {\n                cell.row = row;\n            } else {\n                cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$lines.push(cell);\n            }\n\n            this.$renderCell(cell, config, fold, row);\n            row++;\n        }\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$updateGutterWidth = function(config) {\n        var session = this.session;\n        \n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        \n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n        \n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineText = session.getLength() + firstLineNumber - 1;\n\n        var gutterWidth = gutterRenderer \n            ? gutterRenderer.getWidth(session, lastLineText, config)\n            : lastLineText.toString().length * config.characterWidth;\n        \n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.parentNode.style.width = \n            this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n    \n    this.$updateCursorRow = function() {\n        if (!this.$highlightGutterLine)\n            return;\n            \n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row)\n            return;\n        \n        this.$cursorRow = position.row;\n    };\n    \n    this.updateLineHighlight = function() {\n        if (!this.$highlightGutterLine)\n            return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n\n        if (this.$cursorCell && this.$cursorCell.row == row)\n            return;\n        if (this.$cursorCell)\n            this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            if (cell.row >= this.$cursorRow) {\n                if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                        cell = cells[i - 1];\n                    else\n                        break;\n                }\n                cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                this.$cursorCell = cell;\n                break;\n            }\n        }\n    };\n    \n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n        \n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        \n        this.$lines.moveContainer(config);\n\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            this.session.getLength() - 1);\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n        \n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldLastRow > lastRow)\n            for (var row=this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (lastRow > oldLastRow) {\n            this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n        \n        this.updateLineHighlight();\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$renderLines = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n            this.$renderCell(cell, config, foldLine, row);\n            fragment.push(cell);\n\n            row++;\n        }\n        return fragment;\n    };\n    \n    this.$renderCell = function(cell, config, fold, row) {\n        var element = cell.element;\n        \n        var session = this.session;\n        \n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n\n        var firstLineNumber = session.$firstLineNumber;\n        \n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n        \n        var className = \"ace_gutter-cell \";\n        if (this.$highlightGutterLine) {\n            if (row == this.$cursorRow || (fold && row < this.$cursorRow && row >= foldStart &&  this.$cursorRow <= fold.end.row)) {\n                className += \"ace_gutter-active-line \";\n                if (this.$cursorCell != cell) {\n                    if (this.$cursorCell)\n                        this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                }\n            }\n        }\n        \n        if (breakpoints[row])\n            className += breakpoints[row];\n        if (decorations[row])\n            className += decorations[row];\n        if (this.$annotations[row])\n            className += this.$annotations[row].className;\n        if (element.className != className)\n            element.className = className;\n\n        if (foldWidgets) {\n            var c = foldWidgets[row];\n            if (c == null)\n                c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n\n        if (c) {\n            var className = \"ace_fold-widget ace_\" + c;\n            if (c == \"start\" && row == foldStart && row < fold.end.row)\n                className += \" ace_closed\";\n            else\n                className += \" ace_open\";\n            if (foldWidget.className != className)\n                foldWidget.className = className;\n\n            var foldHeight = config.lineHeight + \"px\";\n            dom.setStyle(foldWidget.style, \"height\", foldHeight);\n            dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n        } else {\n            if (foldWidget) {\n                dom.setStyle(foldWidget.style, \"display\", \"none\");\n            }\n        }\n        \n        var text = (gutterRenderer\n            ? gutterRenderer.getText(session, row)\n            : row + firstLineNumber).toString();\n            \n        if (text !== textNode.data) {\n            textNode.data = text;\n        }\n        \n        dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n        dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n        \n        cell.text = text;\n        return cell;\n    };\n\n    this.$fixedWidth = false;\n    \n    this.$highlightGutterLine = true;\n    this.$renderer = \"\";\n    this.setHighlightGutterLine = function(highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n    };\n    \n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function(show) {\n        this.$renderer = !show && {\n            getWidth: function() {return 0;},\n            getText: function() {return \"\";}\n        };\n    };\n    \n    this.getShowLineNumbers = function() {\n        return this.$showLineNumbers;\n    };\n    \n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function(show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    \n    this.getShowFoldWidgets = function() {\n        return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function() {\n        if (!this.element.firstChild)\n            return {left: 0, right: 0};\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = (parseInt(style.borderLeftWidth) || 0)\n            + (parseInt(style.paddingLeft) || 0) + 1;\n        this.$padding.right = (parseInt(style.borderRightWidth) || 0)\n            + (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n    };\n\n    this.getRegion = function(point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n\n}).call(Gutter.prototype);\n\nfunction onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    \n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    \n    return element;\n}\n\nexports.Gutter = Gutter;\n\n});\n\nace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\n\nvar Marker = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n\n(function() {\n\n    this.$padding = 0;\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function(session) {\n        this.session = session;\n    };\n    \n    this.setMarkers = function(markers) {\n        this.markers = markers;\n    };\n    \n    this.elt = function(className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n            x = document.createElement(\"div\");\n            this.element.appendChild(x);\n            this.i = -1;\n        } else {\n            this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n    };\n\n    this.update = function(config) {\n        if (!config) return;\n\n        this.config = config;\n\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty()) continue;\n\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            } else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            } else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            } else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            } else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        if (this.i !=-1) {\n            while (this.i < this.element.childElementCount)\n                this.element.removeChild(this.element.lastChild);\n        }\n    };\n\n    this.$getTop = function(row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0; \n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, \n                clazz + (row == start  ? \" ace_start\" : \"\") + \" ace_br\"\n                    + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end),\n                layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n           var range1 = range.clone();\n           range1.end.row = range1.start.row;\n           range1.end.column = this.session.getLine(range1.start.row).length;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        } else {\n            this.elt(\n                clazz + \" ace_br1 ace_start\",\n                \"height:\"+ height+ \"px;\"+ \"right:0;\"+ \"top:\"+top+ \"px;left:\"+ left+ \"px;\" + (extraStyle || \"\")\n            );\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n           var range1 = range.clone();\n           range1.start.row = range1.end.row;\n           range1.start.column = 0;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        } else {\n            top = this.$getTop(range.end.row, config);\n            var width = range.end.column * config.characterWidth;\n\n            this.elt(\n                clazz + \" ace_br12\",\n                \"height:\"+ height+ \"px;\"+\n                \"width:\"+ width+ \"px;\"+\n                \"top:\"+ top+ \"px;\"+\n                \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n            );\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        \n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n\n        this.elt(\n            clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"),\n            \"height:\"+ height+ \"px;\"+\n            \"right:0;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"width:\"+ width+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ left+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawBidiSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n\n        selections.forEach(function(selection) {\n            this.elt(\n                clazz,\n                \"height:\" + height + \"px;\" +\n                \"width:\" + selection.width + (extraLength || 0) + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\")\n            );\n        }, this);\n    };\n\n    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n    \n    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n\n}).call(Marker.prototype);\n\nexports.Marker = Marker;\n\n});\n\nace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar Lines = require(\"./lines\").Lines;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Text = function(parentEl) {\n    this.dom = dom; \n    this.element = this.dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n    this.$lines = new Lines(this.element);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n    this.MAX_LINE_LENGTH = 10000;\n\n    this.$updateEolChar = function() {\n        var doc = this.session.doc;\n        var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function() {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function() {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    \n    this.$setFontMetrics = function(measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function(e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n\n    this.checkForSizeChanges = function() {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function() {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function(session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n    this.showSpaces = false;\n    this.showTabs = false;\n    this.showEOL = false;\n    this.setShowInvisibles = function(showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n\n        this.showInvisibles = showInvisibles;\n        if (typeof showInvisibles == \"string\") {\n            this.showSpaces = /tab/i.test(showInvisibles);\n            this.showTabs = /space/i.test(showInvisibles);\n            this.showEOL = /eol/i.test(showInvisibles);\n        } else {\n            this.showSpaces = this.showTabs = this.showEOL = showInvisibles;\n        }\n        this.$computeTabString();\n        return true;\n    };\n\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function(display) {\n        if (this.displayIndentGuides == display)\n            return false;\n\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n    this.$computeTabString = function() {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize;\n        var tabStr = this.$tabStrings = [0];\n        for (var i = 1; i < tabSize + 1; i++) {\n            if (this.showTabs) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_tab\";\n                span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                tabStr.push(span);\n            } else {\n                tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n            }\n        }\n        if (this.displayIndentGuides) {\n            this.$indentGuideRe =  /\\s\\S| \\t|\\t |\\s$/;\n            var className = \"ace_indent-guide\";\n            var spaceClass = this.showSpaces ? \" ace_invisible ace_invisible_space\" : \"\";\n            var spaceContent = this.showSpaces\n                ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize)\n                : lang.stringRepeat(\" \", this.tabSize);\n\n            var tabClass = this.showTabs ? \" ace_invisible ace_invisible_tab\" : \"\";\n            var tabContent = this.showTabs \n                ? lang.stringRepeat(this.TAB_CHAR, this.tabSize)\n                : spaceContent;\n\n            var span = this.dom.createElement(\"span\");\n            span.className = className + spaceClass;\n            span.textContent = spaceContent;\n            this.$tabStrings[\" \"] = span;\n            \n            var span = this.dom.createElement(\"span\");\n            span.className = className + tabClass;\n            span.textContent = tabContent;\n            this.$tabStrings[\"\\t\"] = span;\n        }\n    };\n\n    this.updateLines = function(config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            return this.update(config);\n        }\n        \n        this.config = config;\n\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                } else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx ++;\n        }\n\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > last)\n                break;\n\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                this.dom.removeChildren(lineElement);\n                this.$renderLine(\n                    lineElement, row, row == foldStart ? foldLine : false\n                );\n\n                if (heightChanged)\n                    lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n\n                var height = (config.lineHeight * this.session.getRowLength(row)) + \"px\";\n                if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                }\n            }\n            row++;\n        }\n        if (heightChanged) {\n            while (lineElementsIdx < this.$lines.cells.length) {\n                var cell = this.$lines.cells[lineElementsIdx++];\n                cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n            }\n        }\n    };\n\n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n            \n        this.$lines.moveContainer(config);\n        \n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (config.lastRow > oldConfig.lastRow) {\n            this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n        }\n    };\n\n    this.$renderLinesFragment = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var line = this.$lines.createCell(row, config, this.session);\n            \n            var lineEl = line.element;\n            this.dom.removeChildren(lineEl);\n            dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n            dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n\n            if (this.$useLineGroups()) {\n                lineEl.className = \"ace_line_group\";\n            } else {\n                lineEl.className = \"ace_line\";\n            }\n            fragment.push(line);\n\n            row++;\n        }\n        return fragment;\n    };\n\n    this.update = function(config) {\n        this.$lines.moveContainer(config);\n        \n        this.config = config;\n\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n\n        var lines = this.$lines;\n        while (lines.getLength())\n            lines.pop();\n            \n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n\n    this.$renderToken = function(parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n        \n        var valueFragment = this.dom.createFragment(this.element);\n\n        var m;\n        var i = 0;\n        while (m = re.exec(value)) {\n            var tab = m[1];\n            var simpleSpace = m[2];\n            var controlCharacter = m[3];\n            var cjkSpace = m[4];\n            var cjk = m[5];\n            \n            if (!self.showSpaces && simpleSpace)\n                continue;\n\n            var before = i != m.index ? value.slice(i, m.index) : \"\";\n\n            i = m.index + m[0].length;\n            \n            if (before) {\n                valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n            }\n                \n            if (tab) {\n                var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                screenColumn += tabSize - 1;\n            } else if (simpleSpace) {\n                if (self.showSpaces) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                } else {\n                    valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n                }\n            } else if (controlCharacter) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                valueFragment.appendChild(span);\n            } else if (cjkSpace) {\n                screenColumn += 1;\n                \n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = self.showSpaces ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;\n                valueFragment.appendChild(span);\n            } else if (cjk) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = \"ace_cjk\";\n                span.textContent = cjk;\n                valueFragment.appendChild(span);\n            }\n        }\n        \n        valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var span = this.dom.createElement(\"span\");\n            if (token.type == \"fold\")\n                span.style.width = (token.value.length * this.config.characterWidth) + \"px\";\n                \n            span.className = classes;\n            span.appendChild(valueFragment);\n            \n            parent.appendChild(span);\n        }\n        else {\n            parent.appendChild(valueFragment);\n        }\n        \n        return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function(parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            var count = cols/this.tabSize;\n            for (var i=0; i<count; i++) {\n                parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n            }\n            return value.substr(cols);\n        } else if (value[0] == \"\\t\") {\n            for (var i=0; i<cols; i++) {\n                parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n            }\n            return value.substr(cols);\n        }\n        return value;\n    };\n\n    this.$createLineElement = function(parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n        \n        return lineEl;\n    };\n\n    this.$renderWrappedLine = function(parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n        \n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(lineEl, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                chars += value.length;\n            } else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn,\n                        token, value.substring(0, splitChars - chars)\n                    );\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n\n                    split ++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn, token, value\n                    );\n                }\n            }\n        }\n        \n        if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)\n            this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n\n    this.$renderSimpleLine = function(parent, tokens) {\n        var screenColumn = 0;\n        var token = tokens[0];\n        var value = token.value;\n        if (this.displayIndentGuides)\n            value = this.renderIndentGuide(parent, value);\n        if (value)\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        for (var i = 1; i < tokens.length; i++) {\n            token = tokens[i];\n            value = token.value;\n            if (screenColumn + value.length > this.MAX_LINE_LENGTH)\n                return this.$renderOverflowMessage(parent, screenColumn, token, value);\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        }\n    };\n    \n    this.$renderOverflowMessage = function(parent, screenColumn, token, value, hide) {\n        token && this.$renderToken(parent, screenColumn, token,\n            value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n            \n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n        \n        parent.appendChild(overflowEl);        \n    };\n    this.$renderLine = function(parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n\n        var lastLineEl = parent;\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length) {\n                this.$renderWrappedLine(parent, tokens, splits);\n                var lastLineEl = parent.lastChild;\n            } else {\n                var lastLineEl = parent;\n                if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                }\n                this.$renderSimpleLine(lastLineEl, tokens);\n            }\n        } else if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n        }\n\n        if (this.showEOL && lastLineEl) {\n            if (foldLine)\n                row = foldLine.end.row;\n\n            var invisibleEl = this.dom.createElement(\"span\");\n            invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n            \n            lastLineEl.appendChild(invisibleEl);\n        }\n    };\n\n    this.$getFoldLineTokens = function(row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n\n                col = from + value.length;\n                idx += 1;\n            }\n\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                } else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n\n        var tokens = session.getTokens(row);\n        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            } else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n\n        return renderTokens;\n    };\n\n    this.$useLineGroups = function() {\n        return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function() {};\n}).call(Text.prototype);\n\nexports.Text = Text;\n\n});\n\nace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Cursor = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    \n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateOpacity.bind(this);\n};\n\n(function() {\n    \n    this.$updateOpacity = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n    };\n\n    this.$startCssAnimation = function() {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n\n        setTimeout(function() {\n            dom.addCssClass(this.element, \"ace_animate-blinking\");\n        }.bind(this));\n    };\n    \n    this.$stopCssAnimation = function() {\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n\n    this.$padding = 0;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n\n    this.setSession = function(session) {\n        this.session = session;\n    };\n\n    this.setBlinking = function(blinking) {\n        if (blinking != this.isBlinking) {\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n\n    this.setBlinkInterval = function(blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n\n    this.setSmoothBlinking = function(smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.restartTimer();\n        }\n    };\n\n    this.addCursor = function() {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n\n    this.removeCursor = function() {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n\n    this.hideCursor = function() {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.showCursor = function() {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.restartTimer = function() {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n\n        if (this.smoothBlinking) {\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        \n        update(true);\n\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n            this.$stopCssAnimation();\n            return;\n        }\n\n        if (this.smoothBlinking) {\n            setTimeout(function(){\n                dom.addCssClass(this.element, \"ace_smooth-blinking\");\n            }.bind(this));\n        }\n        \n        if (dom.HAS_CSS_ANIMATION) {\n            this.$startCssAnimation();\n        } else {\n            var blink = function(){\n                this.timeoutId = setTimeout(function() {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n    \n            this.intervalId = setInterval(function() {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n            blink();\n        }\n    };\n\n    this.getPixelPosition = function(position, onScreen) {\n        if (!this.config || !this.session)\n            return {left : 0, top : 0};\n\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n\n        return {left : cursorLeft, top : cursorTop};\n    };\n\n    this.isCursorInView = function(pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n\n        if (selections === undefined || selections.length === 0){\n            selections = [{cursor: null}];\n        }\n\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                 pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n\n            var element = this.cursors[cursorIndex++] || this.addCursor();\n            var style = element.style;\n            \n            if (!this.drawCursor) {\n                if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                } else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                }\n            } else {\n                this.drawCursor(element, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    \n    this.drawCursor = null;\n\n    this.$setOverwrite = function(overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n\n    this.destroy = function() {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n\n}).call(Cursor.prototype);\n\nexports.Cursor = Cursor;\n\n});\n\nace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar ScrollBar = function(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.inner.textContent = \"\\xa0\";\n    this.element.appendChild(this.inner);\n\n    parent.appendChild(this.element);\n\n    this.setVisible(false);\n    this.skipEvent = false;\n\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function(isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth = \n    this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n    this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n};\n\noop.inherits(VScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-v';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", {data: this.scrollTop});\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function() {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function(height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight = \n    this.setScrollHeight = function(height) {\n        this.scrollHeight = height;\n        if (height > MAX_SCROLL_H) {\n            this.coeff = MAX_SCROLL_H / height;\n            height = MAX_SCROLL_H;\n        } else if (this.coeff != 1) {\n            this.coeff = 1;\n        }\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollTop = function(scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n\n}).call(VScrollBar.prototype);\nvar HScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n    this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\n\noop.inherits(HScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-h';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", {data: this.scrollLeft});\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function() {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function(width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n\n}).call(HScrollBar.prototype);\n\n\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\n\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n});\n\nace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"./lib/event\");\n\n\nvar RenderLoop = function(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.$recursionLimit = 2;\n    this.window = win || window;\n    var _self = this;\n    this._flush = function(ts) {\n        _self.pending = false;\n        var changes = _self.changes;\n\n        if (changes) {\n            event.blockIdle(100);\n            _self.changes = 0;\n            _self.onRender(changes);\n        }\n        \n        if (_self.changes) {\n            if (_self.$recursionLimit-- < 0) return;\n            _self.schedule();\n        } else {\n            _self.$recursionLimit = 2;\n        }\n    };\n};\n\n(function() {\n\n    this.schedule = function(change) {\n        this.changes = this.changes | change;\n        if (this.changes && !this.pending) {\n            event.nextFrame(this._flush);\n            this.pending = true;\n        }\n    };\n\n    this.clear = function(change) {\n        var changes = this.changes;\n        this.changes = 0;\n        return changes;\n    };\n\n}).call(RenderLoop.prototype);\n\nexports.RenderLoop = RenderLoop;\n});\n\nace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CHAR_COUNT = 256;\nvar USE_OBSERVER = typeof ResizeObserver == \"function\";\nvar L = 200;\n\nvar FontMetrics = exports.FontMetrics = function(parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    \n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    \n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    \n    \n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    \n    this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n    \n    this.$characterSize = {width: 0, height: 0};\n    \n    \n    if (USE_OBSERVER)\n        this.$addObserver();\n    else\n        this.checkForSizeChanges();\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n        \n    this.$characterSize = {width: 0, height: 0};\n    \n    this.$setMeasureNodeStyles = function(style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        } else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function(size) {\n        if (size === undefined)\n            size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", {data: size});\n        }\n    };\n    \n    this.$addObserver = function() {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function(e) {\n            self.checkForSizeChanges();\n        });\n        this.$observer.observe(this.$measureNode);\n    };\n\n    this.$pollSizeChanges = function() {\n        if (this.$pollSizeChangesTimer || this.$observer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        \n        return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n            self.checkForSizeChanges();\n            event.onIdle(cb, 500);\n        }, 500);\n    };\n    \n    this.setPolling = function(val) {\n        if (val) {\n            this.$pollSizeChanges();\n        } else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n\n    this.$measureSizes = function(node) {\n        var size = {\n            height: (node || this.$measureNode).clientHeight,\n            width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n\n    this.$measureCharWidth = function(ch) {\n        this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    \n    this.getCharacterWidth = function(ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer)\n            this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n\n    \n    this.$getZoom = function getZoom(element) {\n        if (!element || !element.parentElement) return 1;\n        return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n    };\n    this.$initTransformMeasureNodes = function() {\n        var t = function(t, l) {\n            return [\"div\", {\n                style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n            }];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n    this.transformCoordinates = function(clientPos, elPos) {\n        if (clientPos) {\n            var zoom = this.$getZoom(this.el);\n            clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n            var det = l1[1] * l2[0] - l1[0] * l2[1];\n            return [\n                (-l2[1] * r[0] + l2[0] * r[1]) / det,\n                (+l1[1] * r[0] - l1[0] * r[1]) / det\n            ];\n        }\n        function sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\n        function add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\n        function mul(a, b) { return [a * b[0], a * b[1]]; }\n\n        if (!this.els)\n            this.$initTransformMeasureNodes();\n        \n        function p(el) {\n            var r = el.getBoundingClientRect();\n            return [r.left, r.top];\n        }\n\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n        \n        if (elPos) {\n            var x = elPos;\n            var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n            var ut = add(mul(x[0], m1), mul(x[1], m2));\n            return  add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n    };\n    \n}).call(FontMetrics.prototype);\n\n});\n\nace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = \"\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\npadding: 0;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\ncontain: style size layout;\\\nfont-variant-ligatures: no-common-ligatures;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncontain: style size layout;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\ncontain: strict;\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ncontain: strict;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: transparent;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\n}\\\n.ace_composition_placeholder { color: transparent }\\\n.ace_composition_marker { \\\nborder-bottom: 1px solid;\\\nposition: absolute;\\\nborder-radius: 0;\\\nmargin-top: 1px;\\\n}\\\n[ace_nocontext=true] {\\\ntransform: none!important;\\\nfilter: none!important;\\\nclip-path: none!important;\\\nmask : none!important;\\\ncontain: none!important;\\\nperspective: none!important;\\\nmix-blend-mode: initial!important;\\\nz-index: auto;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\nheight: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\nposition: absolute;\\\nheight: 1000000px;\\\nwidth: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\\ncontain: style size layout;\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_hidpi .ace_text-layer,\\\n.ace_hidpi .ace_gutter-layer,\\\n.ace_hidpi .ace_content,\\\n.ace_hidpi .ace_gutter {\\\ncontain: strict;\\\nwill-change: transform;\\\n}\\\n.ace_hidpi .ace_text-layer > .ace_line, \\\n.ace_hidpi .ace_text-layer > .ace_line_group {\\\ncontain: strict;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\\nopacity: 0;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_animate-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: step-end;\\\nanimation-name: blink-ace-animate;\\\nanimation-iteration-count: infinite;\\\n}\\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: ease-in-out;\\\nanimation-name: blink-ace-animate-smooth;\\\n}\\\n@keyframes blink-ace-animate {\\\nfrom, to { opacity: 1; }\\\n60% { opacity: 0; }\\\n}\\\n@keyframes blink-ace-animate-smooth {\\\nfrom, to { opacity: 1; }\\\n45% { opacity: 1; }\\\n60% { opacity: 0; }\\\n85% { opacity: 0; }\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_error_bracket {\\\nposition: absolute;\\\nborder-bottom: 1px solid #DE5555;\\\nborder-radius: 0;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_inline_button {\\\nborder: 1px solid lightgray;\\\ndisplay: inline-block;\\\nmargin: -1px 8px;\\\npadding: 0 5px;\\\npointer-events: auto;\\\ncursor: pointer;\\\n}\\\n.ace_inline_button:hover {\\\nborder-color: gray;\\\nbackground: rgba(200,200,200,0.2);\\\ndisplay: inline-block;\\\npointer-events: auto;\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_mobile-menu {\\\nposition: absolute;\\\nline-height: 1.5;\\\nborder-radius: 4px;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\nbackground: white;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #dcdcdc;\\\ncolor: black;\\\n}\\\n.ace_dark > .ace_mobile-menu {\\\nbackground: #333;\\\ncolor: #ccc;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #444;\\\n}\\\n.ace_mobile-button {\\\npadding: 2px;\\\ncursor: pointer;\\\noverflow: hidden;\\\n}\\\n.ace_mobile-button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_mobile-button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_placeholder {\\\nfont-family: arial;\\\ntransform: scale(0.9);\\\ntransform-origin: left;\\\nwhite-space: pre;\\\nopacity: 0.7;\\\nmargin: 0 10px;\\\n}\";\n\nvar useragent = require(\"./lib/useragent\");\nvar HIDE_TEXTAREA = useragent.isIE;\n\ndom.importCssString(editorCss, \"ace_editor.css\");\n\nvar VirtualRenderer = function(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n\n    dom.addCssClass(this.container, \"ace_editor\");\n    if (dom.HI_DPI) dom.addCssClass(this.container, \"ace_hidpi\");\n\n    this.setTheme(theme);\n\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    \n    this.container.appendChild(this.scroller);\n\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n    this.$markerBack = new MarkerLayer(this.content);\n\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n\n    this.$markerFront = new MarkerLayer(this.content);\n\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n\n    this.scrollBar = \n    this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.on(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.on(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n\n    this.cursorPos = {\n        row : 0,\n        column : 0\n    };\n\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.on(\"changeCharacterSize\", function(e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n\n    this.layerConfig = {\n        width : 1,\n        padding : 0,\n        firstRow : 0,\n        firstRowScreen: 0,\n        lastRow : 0,\n        lineHeight : 0,\n        characterWidth : 0,\n        minHeight : 1,\n        maxHeight : 1,\n        offset : 0,\n        height : 1,\n        gutterOffset: 1\n    };\n    \n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.margin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.$keepTextAreaAtCursor = !useragent.isIOS;\n\n    this.$loop = new RenderLoop(\n        this.$renderChanges.bind(this),\n        this.container.ownerDocument.defaultView\n    );\n    this.$loop.schedule(this.CHANGE_FULL);\n\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._signal(\"renderer\", this);\n};\n\n(function() {\n\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function() {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n\n        this.layerConfig.characterWidth =\n        this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n        this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n        dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n            \n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        \n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        \n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function(firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    \n    this.onChangeTabSize = function() {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function(force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function() {\n        this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n    this.$updateSizeAsync = function() {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function(force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n\n        \n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n\n        if (force)\n            this.$gutterLayer.$padding = null;\n\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n    };\n    \n    this.$updateCachedSize = function(force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            changes = changes | this.CHANGE_SCROLL;\n        }\n\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            \n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            \n            this.gutterWidth = gutterWidth;\n            \n            dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n            dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n            dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n            \n            var right = this.scrollBarV.getWidth() + \"px\";\n            dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                changes |= this.CHANGE_FULL;\n            }\n        }\n        \n        size.$dirty = !width || !height;\n\n        if (changes)\n            this._signal(\"resize\", oldSize);\n\n        return changes;\n    };\n\n    this.onGutterResize = function(width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else {\n            this.$computeLayerConfig();\n        }\n    };\n    this.adjustWrapLimit = function() {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function() {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function() {\n        return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function(){\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function(show){\n        return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function(){\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updatePrintMargin = function() {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n\n        var style = this.$printMarginEl.style;\n        style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        \n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function() {\n        return this.container;\n    };\n    this.getMouseEventTarget = function() {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function() {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function() {\n        if (this.$isMousePressed) return;\n        var style = this.textarea.style;\n        var composition = this.$composition;\n        if (!this.$keepTextAreaAtCursor && !composition) {\n            dom.translate(this.textarea, -100, 0);\n            return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos)\n            return;\n        if (composition && composition.markerRange)\n            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n        \n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n\n        var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n            dom.translate(this.textarea, 0, 0);\n            return;\n        }\n\n        var w = 1;\n        var maxTop = this.$size.height - h;\n        if (!composition) {\n            posTop += this.lineHeight;\n        }\n        else {\n            if (composition.useTextareaForIME) {\n                var val = this.textarea.value;\n                w = this.characterWidth * (this.session.$getStringScreenWidth(val)[0]);\n            }\n            else {\n                posTop += this.lineHeight + 2;\n            }\n        }\n        \n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n\n        posLeft += this.gutterWidth + this.margin.left;\n\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n    this.getFirstVisibleRow = function() {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function() {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function() {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    this.getLastVisibleRow = function() {\n        return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    \n    this.setScrollMargin = function(top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    \n    this.setMargin = function(top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function() {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function() {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function() {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    \n    this.$frozen = false;\n    this.freeze = function() {\n        this.$frozen = true;\n    };\n    \n    this.unfreeze = function() {\n        this.$frozen = false;\n    };\n\n    this.$renderChanges = function(changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return; \n        } \n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        \n        this._signal(\"beforeRender\", changes);\n        \n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL\n        ) {\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            \n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            \n            var width = config.width + 2 * this.$padding + \"px\";\n            var height = config.minHeight + \"px\";\n            \n            dom.setStyle(this.content.style, \"width\", width);\n            dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            this.$changedLines = null;\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n\n            if (this.$showGutter) {\n                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n                    this.$gutterLayer.update(config);\n                else\n                    this.$gutterLayer.scrollLines(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n\n        if (changes & this.CHANGE_TEXT) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_CURSOR) {\n            if (this.$highlightGutterLine)\n                this.$gutterLayer.updateLineHighlight(config);\n        }\n\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n\n        this._signal(\"afterRender\", changes);\n    };\n\n    \n    this.$autosize = function() {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight, \n            Math.max((this.$minLines || 1) * this.lineHeight, height)\n        ) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        \n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n        \n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            \n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            \n            this._signal(\"autosize\");\n        }\n    };\n    \n    this.$computeLayerConfig = function() {\n        var session = this.session;\n        var size = this.$size;\n        \n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n\n        var longestLine = this.$getLongestLine();\n        \n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        \n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        \n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top,\n            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, \n            longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        \n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n\n        var offset = this.scrollTop % this.lineHeight;\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n                                                firstRowHeight;\n\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged) \n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        \n        this.layerConfig = {\n            width : longestLine,\n            padding : this.$padding,\n            firstRow : firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow : lastRow,\n            lineHeight : lineHeight,\n            characterWidth : this.characterWidth,\n            minHeight : minHeight,\n            maxHeight : maxHeight,\n            offset : offset,\n            gutterOffset : lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height : this.$size.scrollerHeight\n        };\n\n        if (this.session.$bidiHandler)\n            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n\n        return changes;\n    };\n\n    this.$updateLines = function() {\n        if (!this.$changedLines) return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n\n        var layerConfig = this.layerConfig;\n\n        if (firstRow > layerConfig.lastRow + 1) { return; }\n        if (lastRow < layerConfig.firstRow) { return; }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n\n    this.$getLongestLine = function() {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n            \n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function() {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function() {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function(row, className){\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function(row, className){\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function(rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function(annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function() {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function() {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function() {\n        this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function(anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n        var left = pos.left;\n        var top = pos.top;\n        \n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        \n        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        \n        if (scrollTop + topMargin > top) {\n            if (offset && scrollTop + topMargin > top + this.lineHeight)\n                top -= offset * this.$size.scrollerHeight;\n            if (top === 0)\n                top = -this.scrollMargin.top;\n            this.session.setScrollTop(top);\n        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n            if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top -  this.lineHeight)\n                top += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(top + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n        }\n\n        var scrollLeft = this.scrollLeft;\n\n        if (scrollLeft > left) {\n            if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n                left = -this.scrollMargin.left;\n            this.session.setScrollLeft(left);\n        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n            this.session.setScrollLeft(0);\n        }\n    };\n    this.getScrollTop = function() {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function() {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function() {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function() {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function(row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function(cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = {row: cursor, column: 0};\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n\n    this.STEPS = 8;\n    this.$calcSteps = function(fromValue, toValue){\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n\n        var func  = function(t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n\n        return steps;\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function(fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        \n        if (fromValue == toValue)\n            return;\n        \n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        \n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};\n\n        clearInterval(this.$timer);\n\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function() {\n            if (!_self.session) \n                return clearInterval(_self.$timer);\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            } else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            } else {\n                _self.$timer = clearInterval(_self.$timer);\n                _self.$scrollAnimation = null;\n                callback && callback();\n            }\n        }, 10);\n    };\n    this.scrollToY = function(scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function(scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function(x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(y);\n    };\n    this.scrollBy = function(deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function(deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n           return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n           return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n           return true;\n    };\n\n    this.pixelToScreenCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        \n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        return {row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX:  offsetX};\n    };\n\n    this.screenToTextCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    this.textToScreenCoordinates = function(row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n             ? this.session.$bidiHandler.getPosLeft(pos.column)\n             : Math.round(pos.column * this.characterWidth));\n        \n        var y = pos.row * this.lineHeight;\n\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function() {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function() {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function(composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n            composition.cssText = this.textarea.style.cssText;\n        }\n        if (composition.useTextareaForIME == undefined)\n            composition.useTextareaForIME = this.$useTextareaForIME;\n        \n        if (this.$useTextareaForIME) {\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n            this.$cursorLayer.element.style.display = \"none\";\n        }\n        else {\n            composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n        }\n    };\n    this.setCompositionText = function(text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function() {\n        if (!this.$composition)\n            return;\n        \n        if (this.$composition.markerId)\n            this.session.removeMarker(this.$composition.markerId);\n\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = this.$composition.cssText;\n        var cursor = this.session.selection.cursor;\n        this.removeExtraToken(cursor.row, cursor.column);\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n    };\n    \n    this.addToken = function(text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = {type: type, value: text};\n        var tokens = session.getTokens(row);\n        if (column == null) {\n            tokens.push(newToken);\n        } else {\n            var l = 0;\n            for (var i =0; i < tokens.length; i++) {\n                var token = tokens[i];\n                l += token.value.length;\n                if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n    \n                    tokens.splice(i, 1, {type: token.type, value: before},  newToken,  {type: token.type, value: after});\n                    break;\n                }\n            }\n        }\n        this.updateLines(row, row);\n    };\n\n    this.removeExtraToken = function(row, column) {\n        this.updateLines(row, row);\n    };\n    this.setTheme = function(theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange',{theme:theme});\n\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        } else {\n            afterLoad(theme);\n        }\n\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            if (module.$id)\n                _self.$themeId = module.$id;\n            dom.importCssString(\n                module.cssText,\n                module.cssClass,\n                _self.container\n            );\n\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n            var padding = \"padding\" in module ? module.padding \n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n\n            _self._dispatchEvent('themeLoaded', {theme:module});\n            cb && cb();\n        }\n    };\n    this.getTheme = function() {\n        return this.$themeId;\n    };\n    this.setStyle = function(style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function(style) {\n        dom.removeCssClass(this.container, style);\n    };\n    \n    this.setCursorStyle = function(style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n    this.setMouseCursor = function(cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n    \n    this.attachToShadowRoot = function() {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n    this.destroy = function() {\n        this.freeze();\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n        this.removeAllListeners();\n        this.container.textContent = \"\";\n    };\n\n}).call(VirtualRenderer.prototype);\n\n\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {initialValue: false},\n    showInvisibles: {\n        set: function(value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function(val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function() {\n            return this.$showPrintMargin && this.$printMarginColumn; \n        }\n    },\n    showGutter: {\n        set: function(show){\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function(show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function(show) {\n            this.$gutterLayer.setShowFoldWidgets(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function(show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function(shouldHighlight) {\n            this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize: {\n        set: function(size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function(name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function(val) {\n            if (!(this.$minLines < 0x1ffffffffffff))\n                this.$minLines = 0;\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function(val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function(val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function(val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    theme: {\n        set: function(val) { this.setTheme(val); },\n        get: function() { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    },\n    hasCssTransforms: {\n    },\n    useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n    }\n});\n\nexports.VirtualRenderer = VirtualRenderer;\n});\n\nace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nfunction $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n    if (config.get(\"loadWorkerFromBlob\")) {\n        var blob = $workerBlob(workerUrl);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n    return new Worker(workerUrl);\n}\n\nvar WorkerClient = function(worker) {\n    if (!worker.postMessage)\n        worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        if (require.nameToUrl && !require.toUrl)\n            require.toUrl = require.nameToUrl;\n\n        if (config.get(\"packaged\") || !require.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function(ns) {\n                tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init : true,\n            tlns : tlns,\n            module : mod,\n            classname : classname\n        });\n        return this.$worker;\n    };\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            if (data.data && data.data.err)\n                data.data.err = {message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code};\n            this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n        messageBuffer: messageBuffer,\n        terminate: function() {},\n        postMessage: function(e) {\n            messageBuffer.push(e);\n            if (!main) return;\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    });\n\n    workerClient.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        workerClient.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (messageBuffer.length)\n            processNext();\n    });\n\n    return workerClient;\n};\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\nace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\n\nvar PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n    \n    this.$onCursorChange = function() {\n        setTimeout(function() {\n            _self.onCursorChange();\n        });\n    };\n    \n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setup = function() {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        \n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function(other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function() {\n        if (this.othersActive) return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function(anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);\n        });\n    };\n    this.hideOtherMarkers = function() {\n        if (!this.othersActive) return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function(delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n            \n        var range = delta;\n        if (range.start.row !== range.end.row) return;\n        if (range.start.row !== this.pos.row) return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        \n        this.updateAnchors(delta);\n        \n        if (inMainRange)\n            this.length += lengthDiff;\n\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            } else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        \n        this.$updating = false;\n        this.updateMarkers();\n    };\n    \n    this.updateAnchors = function(delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    \n    this.updateMarkers = function() {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function(pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column+_self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n\n    this.onCursorChange = function(event) {\n        if (this.$updating || !this.session) return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        } else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };    \n    this.detach = function() {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.off(\"change\", this.$onUpdate);\n        this.session.selection.off(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function() {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\n\n\nexports.PlaceHolder = PlaceHolder;\n});\n\nace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\n\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    \n    if (ctrl && useragent.isMac)\n        button = ev.button;\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    \n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    \n    if (button !== 0)\n        return;\n\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function(e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    \n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    \n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    } else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        } else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    \n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        \n        editor.inVirtualSelectionMode = true;\n        \n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function() {\n            var tmpSel = selection.toOrientedRange();\n\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                } else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.inVirtualSelectionMode = false;\n        });\n\n    } else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;        \n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function() {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            \n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        } else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        \n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);            \n        else\n            selection.moveToPosition(pos);\n        \n        screenCursor = {row: -1, column: -1};\n\n        var onMouseSelectionEnd = function(e) {\n            blockSelect();\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n        };\n\n        var onSelectionInterval = blockSelect;\n\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function() {onSelectionInterval();}, 20);\n\n        return e.preventDefault();\n    }\n}\n\n\nexports.onMouseDown = onMouseDown;\n\n});\n\nace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module) {\nexports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    description: \"Add cursor above\",\n    exec: function(editor) { editor.selectMoreLines(-1); },\n    bindKey: {win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelow\",\n    description: \"Add cursor below\",\n    exec: function(editor) { editor.selectMoreLines(1); },\n    bindKey: {win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorAboveSkipCurrent\",\n    description: \"Add cursor above (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelowSkipCurrent\",\n    description: \"Add cursor below (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreBefore\",\n    description: \"Select more before\",\n    exec: function(editor) { editor.selectMore(-1); },\n    bindKey: {win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreAfter\",\n    description: \"Select more after\",\n    exec: function(editor) { editor.selectMore(1); },\n    bindKey: {win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextBefore\",\n    description: \"Select next before\",\n    exec: function(editor) { editor.selectMore(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextAfter\",\n    description: \"Select next after\",\n    exec: function(editor) { editor.selectMore(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"toggleSplitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) {\n        if (editor.multiSelect.rangeCount > 1)\n            editor.multiSelect.joinSelections();\n        else\n            editor.multiSelect.splitIntoLines();\n    },\n    bindKey: {win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\"},\n    readOnly: true\n}, {\n    name: \"splitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) { editor.multiSelect.splitIntoLines(); },\n    readOnly: true\n}, {\n    name: \"alignCursors\",\n    description: \"Align cursors\",\n    exec: function(editor) { editor.alignCursors(); },\n    bindKey: {win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\"},\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"findAll\",\n    description: \"Find all\",\n    exec: function(editor) { editor.findAll(); },\n    bindKey: {win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}];\nexports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    description: \"Single selection\",\n    bindKey: \"esc\",\n    exec: function(editor) { editor.exitMultiSelectMode(); },\n    scrollIntoView: \"cursor\",\n    readOnly: true,\n    isAvailable: function(editor) {return editor && editor.inMultiSelectMode;}\n}];\n\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\nace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module) {\n\nvar RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\n\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function() {\n    this.getSelectionMarkers = function() {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function() {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function(range, $blockChangeEvents) {\n        if (!range)\n            return;\n\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n\n        if (!range.cursor)\n            range.cursor = range.end;\n\n        var removed = this.rangeList.add(range);\n\n        this.$onAddRange(range);\n\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n    this.toSingleRange = function(range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function(pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function() {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n    };\n\n    this.$onAddRange = function(range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", {range: range});\n    };\n\n    this.$onRemoveRange = function(removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n\n        for (var i = removed.length; i--; ) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n\n        this._signal(\"removeRange\", {ranges: removed});\n\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function() {\n        if (this.rangeList)\n            return;\n\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function() {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n    this.splitIntoLines = function () {\n        var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n        var newRanges = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            var row = range.start.row;\n            var endRow = range.end.row;\n            if (row === endRow) {\n                newRanges.push(range.clone());\n            } else {\n                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n                while (++row < endRow)\n                    newRanges.push(this.getLineRange(row, true));\n                newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n            }\n            if (i == 0 && !this.isBackwards())\n                newRanges = newRanges.reverse();\n        }\n        this.toSingleRange();\n        for (var i = newRanges.length; i--;)\n            this.addRange(newRanges[i]);\n    };\n    \n    this.joinSelections = function () {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var cursor = this.session.documentToScreenPosition(this.cursor);\n            var anchor = this.session.documentToScreenPosition(this.anchor);\n\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        } else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        } else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n\n        if (startRow == endRow)\n            includeEmptyLines = true;\n\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(\n                this.session.screenToDocumentPosition(row, startColumn, startOffsetX),\n                this.session.screenToDocumentPosition(row, endColumn, endOffsetX)\n            );\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n\n        if (yBackwards)\n            rectSel.reverse();\n\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function() {\n    this.updateSelectionMarkers = function() {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function(orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function(range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function(ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--; ) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function(e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function(e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function(e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function(e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function(e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        } else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        } else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        } else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        } else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    }; \n    this.forEachSelection = function(cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        \n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        \n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n            selection.fromOrientedRange(selection.ranges[0]);\n        \n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        \n        return result;\n    };\n    this.exitMultiSelectMode = function() {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function() {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        } else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    \n    this.$checkMultiselectChange = function(e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row \n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            else\n                this.multiSelect.mergeOverlappingRanges();\n        }\n    };\n    this.findAll = function(needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }    \n        this.$search.set(options);\n        \n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n\n        var selection = this.multiSelect;\n\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n\n        for (var i = ranges.length; i--; )\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        \n        return ranges.length;\n    };\n    this.selectMoreLines = function(dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        } else {\n            var anchor = lead;\n        }\n\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        } else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        } else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function(dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n\n        var words = [];\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n    };\n    this.selectMore = function(dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function() {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function(r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        \n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                \n                if (fr < 0) fr = 0;\n                if (lr >= max) lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({row: fr, column: 0}, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        } else {\n            sameRowRanges.forEach(function(r) {\n                sel.substractPoint(r.cursor);\n            });\n\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function(r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function(r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n\n    this.$reAlignText = function(lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n\n        return lines.map(function(line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\n\n\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function(e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n\n    addAltCursorListeners(editor);\n}\n\nfunction addAltCursorListeners(editor){\n    if (!editor.textInput) return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function(e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        } else if (altCursor) {\n            reset();\n        }\n    }, editor);\n\n    event.addListener(el, \"keyup\", reset, editor);\n    event.addListener(el, \"blur\", reset, editor);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\n\nexports.MultiSelect = MultiSelect;\n\n\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function(val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            } else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function(val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n\n\n});\n\nace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\n\n(function() {\n\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n                && this.foldingStopMarker\n                && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        return null;\n    };\n\n    this.indentationBlock = function(session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n\n            if (level == -1)\n                continue;\n\n            if (level <= startLevel) {\n                var token = session.getTokenAt(row, 0);\n                if (!token || token.type !== \"string\")\n                    break;\n            }\n\n            endRow = row;\n        }\n\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n\n    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var start = {row: row, column: column + 1};\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n\n        if (fw == \"start\" && end.row > start.row) {\n            end.row --;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var end = {row: row, column: column};\n        var start = session.$findOpeningBracket(bracket, end);\n\n        if (!start)\n            return;\n\n        start.column++;\n        end.column--;\n\n        return  Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\nexports.$id = \"ace/theme/textmate\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n\nace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"./lib/dom\");\n\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    \n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n\n(function() {\n    this.getRowLength = function(row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n\n    this.$getWidgetScreenLength = function() {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function(w){\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };    \n    \n    this.$onChangeEditor = function(e) {\n        this.attach(e.editor);\n    };\n    \n    this.attach = function(editor) {\n        if (editor  && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n\n        if (this.editor == editor)\n            return;\n\n        this.detach();\n        this.editor = editor;\n        \n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function(e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        \n        this.editor = null;\n        editor.widgetManager = null;\n        \n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function(w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n\n    this.updateOnFold = function(e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            } else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    \n    this.updateOnChange = function(delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        \n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n        } else if (delta.action == \"remove\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n                lineWidgets[startRow] = removed.pop();\n            }\n            removed.forEach(function(w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        } else {\n            var args = new Array(len);\n            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n                if (delta.start.column > lineWidgets[startRow].column)\n                    startRow++;\n            }\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    \n    this.$updateRows = function() {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var noWidgets = true;\n        lineWidgets.forEach(function(w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n\n    this.$registerLineWidget = function(w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        \n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n            \n        this.session.lineWidgets[w.row] = w;\n        return w;\n    };\n    \n    this.addLineWidget = function(w) {\n        this.$registerLineWidget(w);\n        w.session = this.session;\n        \n        if (!this.editor) return w;\n        \n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n            \n            if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        \n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n            \n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        \n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    \n    this.removeLineWidget = function(w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy) try {\n            w.editor.destroy();\n        } catch(e){}\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            } else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        this.$updateRows();\n    };\n    \n    this.getWidgetsAtRow = function(row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    \n    this.onWidgetChanged = function(w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    \n    this.measureWidgets = function(e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        \n        if (!changedWidgets || !changedWidgets.length) return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.session != this.session) continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            \n            w.h = w.el.offsetHeight;\n            \n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            \n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", {data:{start:{row: min}}});\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    \n    this.renderWidgets = function(e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        \n        while (first > 0 && !lineWidgets[first])\n            first--;\n        \n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            \n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            \n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            \n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            } else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n    \n}).call(LineWidgets.prototype);\n\n\nexports.LineWidgets = LineWidgets;\n\n});\n\nace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\n\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\n\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    \n    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    \n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    \n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    \n    \n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\n\nexports.showErrorMarker = function(editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    \n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    } else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n        return;\n    } else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    \n    var w = {\n        row: pos.row, \n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    \n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    \n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    \n    el.appendChild(dom.createElement(\"div\"));\n    \n    var kb = function(_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return {command: \"null\"};\n        }\n    };\n    \n    w.destroy = function() {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    \n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    \n    editor.session.widgetManager.addLineWidget(w);\n    \n    w.el.onmousedown = editor.focus.bind(editor);\n    \n    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});\n};\n\n\ndom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n\n});\n\nace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\n\nvar Range = require(\"./range\").Range;\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\n\nexports.config = require(\"./config\");\nexports.require = require;\n\nif (true)\n    exports.define = __webpack_require__(\"Z66Z\");\nexports.edit = function(el, options) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    } else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n    }\n\n    var doc = exports.createEditSession(value);\n\n    var editor = new Editor(new Renderer(el), doc, options);\n\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode) env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function() {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function(text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.Range = Range;\nexports.Editor = Editor;\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.VirtualRenderer = Renderer;\nexports.version = exports.config.version;\n});            (function() {\n                ace.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                    window.ace[\"default\"] = window.ace;\n                    if ( true && module) {\n                        module.exports = window.ace;\n                    }\n                });\n            })();\n        \n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"RoC8\")(module)))\n\n/***/ })\n\n}]);"}
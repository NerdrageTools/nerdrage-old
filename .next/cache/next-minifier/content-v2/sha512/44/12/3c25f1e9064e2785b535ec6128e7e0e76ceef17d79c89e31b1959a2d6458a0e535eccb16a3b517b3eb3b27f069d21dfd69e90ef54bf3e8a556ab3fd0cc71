{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{\"0II3\":function(e,t,n){\"use strict\";var r=self.fetch.bind(self);e.exports=r,e.exports.default=e.exports},CjJp:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l}));var r=n(\"NthX\"),o=n.n(r),a=n(\"eijD\"),i=n(\"oYCi\"),c=(n(\"mXGw\"),n(\"xARA\")),s=n.n(c),u=n(\"y4cp\");function l(){return p.apply(this,arguments)}function p(){return(p=Object(a.a)(o.a.mark((function e(){var t,n,r,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:\"\",n=a.length>1&&void 0!==a[1]?a[1]:\"Prompt\",r=document.createElement(\"div\"),document.body.appendChild(r),e.abrupt(\"return\",new Promise((function(e){var o=function(){return e(!1)},a=function(){return e(!0)};s.a.render(Object(i.jsx)(u.a,{buttons:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(\"button\",{onClick:a,children:\"Yes\"}),Object(i.jsx)(\"button\",{onClick:o,children:\"No\"})]}),modal:!0,okButtonText:\"Yes\",onCancel:o,onOk:a,title:n,children:Object(i.jsx)(\"div\",{className:\"text\",children:t})}),r)})).finally((function(){document.body.removeChild(r)})));case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}},TTmL:function(e,t,n){\"use strict\";function r(e,t){var n=e?\"\".concat(e.protocol,\"://\").concat(e.get(\"Host\")):\"\";return\"\".concat(n).concat(t)}n.d(t,\"a\",(function(){return r}))},Y0NT:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var r=n(\"oYCi\"),o=n(\"mXGw\"),a=n(\"qhEq\");n(\"qiT/\");function i(){var e=Object(o.useContext)(a.a).router.query;return Object(r.jsxs)(\"div\",{className:\"error page\",children:[Object(r.jsx)(\"h1\",{className:\"status-code\",children:e.statusCode||500}),Object(r.jsx)(\"div\",{className:\"message\",children:\"An error occurred.\"})]})}},c5D9:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return F}));var r=n(\"NthX\"),o=n.n(r),a=n(\"eijD\"),i=n(\"hisu\"),c=n(\"yBJb\"),s=n(\"0942\"),u=n(\"CHlC\"),l=n(\"kMo5\"),p=n(\"P+uj\"),f=n(\"mK0O\"),d=n(\"oYCi\"),h=n(\"0II3\"),y=n.n(h),b=n(\"mXGw\"),m=n(\"CkPy\"),v=n(\"7/nG\"),O=n(\"IXLv\"),j=n(\"iLCn\"),g=n(\"qhEq\"),w={children:[{title:\"Descriptors\",children:[{columns:3,type:\"Descriptor\"}]},{title:\"Attributes\",children:[{columns:4,type:\"Attribute\"}]},{columns:3,children:[{colSpan:1,children:[{title:\"Traits\",children:[{type:\"Trait\"}]},{title:\"Resources\",children:[{type:\"Resource\"}]}]},{colSpan:2,children:[{title:\"Skills\",children:[{columns:2,type:\"Skill\"}]},{title:\"Items\",children:[{columns:1,type:\"Item\"}]},{title:\"Spells\",children:[{columns:1,type:\"Spell\"}]}]}]}]},x=n(\"ZS9i\"),S=n.n(x),_=n(\"PZST\"),C=n.n(_),P=n(\"U+IY\"),E=n.n(P),k=n(\"Y0NT\"),T=n(\"CjJp\"),R=n(\"VTEe\"),D=n(\"TTmL\");n(\"s2Sc\"),n(\"eORY\");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(p.a)(e);if(t){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var A=[\"_id\",\"isEditor\",\"isOwner\",\"secret\",\"slug\",\"template\"],I=[\"title\"],F=function(e){Object(u.a)(n,e);var t=N(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return e=t.call.apply(t,[this].concat(c)),Object(f.a)(Object(s.a)(e),\"state\",U(U({},Object(R.a)(e.props,A)),{},{saved:Object(R.a)(e.props,I),title:e.props.title||e.context.router.query.title||\"Unnamed Character\"})),Object(f.a)(Object(s.a)(e),\"character\",v.CharacterModel.create({})),Object(f.a)(Object(s.a)(e),\"layout\",v.LayoutModel.create(w)),Object(f.a)(Object(s.a)(e),\"componentDidMount\",(function(){e.updateSheet(e.props)})),Object(f.a)(Object(s.a)(e),\"componentWillReceiveProps\",(function(t){t.slug!==e.props.slug&&(e.character=v.CharacterModel.create(t.data),e.layout=v.LayoutModel.create(t.layout),e.setState({saved:Object(R.a)(t,I),title:t.title||new URLSearchParams(window.location.search).get(\"title\")||\"\"}))})),Object(f.a)(Object(s.a)(e),\"updateSheet\",(function(t){var n=t.data,r=void 0===n?{}:n,o=t.layout,a=void 0===o?w:o;e.character.set(r),e.character.markAsClean(),e.layout.set(a),e.layout.markAsClean()})),Object(f.a)(Object(s.a)(e),\"handleDelete\",Object(a.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(T.a)(\"Are you sure you want to permanently delete this sheet?\");case 2:if(!t.sent){t.next=8;break}return n=e.context.router.query.slug,t.next=6,y()(\"/api/sheet/\".concat(n),{method:\"DELETE\"});case 6:204===t.sent.status&&e.context.router.back();case 8:case\"end\":return t.stop()}}),t)})))),Object(f.a)(Object(s.a)(e),\"handleReset\",(function(){e.character.reset(),e.layout.reset(),e.setState(e.state.saved)})),Object(f.a)(Object(s.a)(e),\"handleSave\",function(){var t=Object(a.a)(o.a.mark((function t(n){var r,a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.context.router.query.slug,t.next=3,y()(\"/api/sheet/\".concat(r),{body:JSON.stringify(n||{data:e.character.toJSON(),layout:e.layout.toJSON(),title:e.state.title}),headers:{\"Content-Type\":\"application/json\"},method:\"POST\"});case 3:return a=t.sent,t.next=6,a.json();case 6:if(i=t.sent,200!==a.status){t.next=10;break}return e.updateSheet(i),t.abrupt(\"return\",e.setState(U(U({},Object(R.a)(i,A)),{},{saved:Object(R.a)(i,I)})));case 10:return t.abrupt(\"return\",e.setState(i));case 11:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object(f.a)(Object(s.a)(e),\"handleSheetChange\",(function(){return e.forceUpdate()})),Object(f.a)(Object(s.a)(e),\"handleTitleChange\",(function(t){return e.setState({title:t})})),Object(f.a)(Object(s.a)(e),\"handleToggleSecret\",(function(){return e.handleSave({secret:!e.state.secret})})),Object(f.a)(Object(s.a)(e),\"handleToggleTemplate\",(function(){return e.handleSave({template:!e.state.template})})),Object(f.a)(Object(s.a)(e),\"render\",(function(){var t=e.props,n=t.httpStatusCode,r=t.message,o=t.slug,a=e.state,i=a._id,c=a.isEditor,s=a.isOwner,u=a.secret,l=a.template,p=a.title;return 200!==n?Object(d.jsx)(k.default,U({},{httpStatusCode:n,message:r})):Object(d.jsxs)(\"div\",{className:\"sheet page\",children:[Object(d.jsxs)(\"div\",{className:\"title-bar\",children:[Object(d.jsx)(O.a,{className:\"title\",onChange:e.handleTitleChange,readOnly:!c,value:p}),c&&e.isDirty&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(\"button\",{className:\"safe\",onClick:function(){return e.handleSave()},children:i?\"Save\":\"Create\"}),i&&Object(d.jsx)(\"button\",{className:\"safe\",onClick:e.handleReset,children:\"Reset\"})]}),i&&c&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j.a,{className:\"secret\",offIcon:S.a,onIcon:C.a,onToggle:e.handleToggleSecret,value:u}),Object(d.jsx)(j.a,{className:\"template\",value:l,offIcon:E.a,onIcon:E.a,onToggle:e.handleToggleTemplate})]}),i&&s&&Object(d.jsx)(\"button\",{className:\"delete danger\",onClick:e.handleDelete,children:\"Delete\"})]}),Object(d.jsx)(m.Scrollbars,{autoHide:!0,universal:!0,className:\"sheet-container scrollbars \".concat(c?\"is-editable\":\"readOnly\"),children:Object(d.jsx)(v.Sheet,{readOnly:!c,character:e.character,layout:e.layout,onChange:e.handleSheetChange},o)})]})})),e}return Object(c.a)(n,[{key:\"isDirty\",get:function(){return this.state.title!==this.state.saved.title||this.character.isDirty||this.layout.isDirty}}]),n}(b.Component);Object(f.a)(F,\"contextType\",g.a),Object(f.a)(F,\"defaultProps\",{children:[],data:{},layout:w,slug:\"\",title:\"\"}),Object(f.a)(F,\"getInitialProps\",function(){var e=Object(a.a)(o.a.mark((function e(t){var n,r,a,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=t.req,a=Object(R.a)(r&&r.headers,\"cookie\"),i=\"/api/sheet/\".concat(n.slug),n.template&&(i+=\"?template=\".concat(n.template)),e.next=6,y()(Object(D.a)(r,i),{headers:a});case 6:return c=e.sent,e.next=9,c.json();case 9:return s=e.sent,e.abrupt(\"return\",U({httpStatusCode:c.status},s));case 11:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},gHrF:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/sheet\",function(){return n(\"c5D9\")}])},mBK0:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"propTypes\",(function(){return B})),n.d(t,\"PropTypes\",(function(){return B})),n.d(t,\"onError\",(function(){return Ie})),n.d(t,\"observer\",(function(){return Se})),n.d(t,\"Observer\",(function(){return _e})),n.d(t,\"renderReporter\",(function(){return ue})),n.d(t,\"componentByNodeRegistery\",(function(){return se})),n.d(t,\"componentByNodeRegistry\",(function(){return se})),n.d(t,\"trackComponents\",(function(){return be})),n.d(t,\"useStaticRendering\",(function(){return me})),n.d(t,\"Provider\",(function(){return Re})),n.d(t,\"inject\",(function(){return ne})),n.d(t,\"disposeOnUnmount\",(function(){return Ae}));var r=n(\"cneo\"),o=n(\"mXGw\"),a=n.n(o),i=n(\"xARA\");function c(e){return(c=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||\"object\"!==typeof t&&\"function\"!==typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function b(e,t){return e(t={exports:{}},t.exports),t.exports}var m,v=b((function(e,t){Object.defineProperty(t,\"__esModule\",{value:!0});var n=\"function\"===typeof Symbol&&Symbol.for,r=n?Symbol.for(\"react.element\"):60103,o=n?Symbol.for(\"react.portal\"):60106,a=n?Symbol.for(\"react.fragment\"):60107,i=n?Symbol.for(\"react.strict_mode\"):60108,c=n?Symbol.for(\"react.profiler\"):60114,s=n?Symbol.for(\"react.provider\"):60109,u=n?Symbol.for(\"react.context\"):60110,l=n?Symbol.for(\"react.async_mode\"):60111,p=n?Symbol.for(\"react.concurrent_mode\"):60111,f=n?Symbol.for(\"react.forward_ref\"):60112,d=n?Symbol.for(\"react.suspense\"):60113,h=n?Symbol.for(\"react.memo\"):60115,y=n?Symbol.for(\"react.lazy\"):60116;function b(e){if(\"object\"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case p:case a:case c:case i:return e;default:switch(e=e&&e.$$typeof){case u:case f:case s:return e;default:return t}}case o:return t}}}function m(e){return b(e)===p}t.typeOf=b,t.AsyncMode=l,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=s,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Profiler=c,t.Portal=o,t.StrictMode=i,t.isValidElementType=function(e){return\"string\"===typeof e||\"function\"===typeof e||e===a||e===p||e===c||e===i||e===d||\"object\"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===f)},t.isAsyncMode=function(e){return m(e)||b(e)===l},t.isConcurrentMode=m,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return\"object\"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===a},t.isProfiler=function(e){return b(e)===c},t.isPortal=function(e){return b(e)===o},t.isStrictMode=function(e){return b(e)===i}}));(m=v)&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,\"default\")&&m.default;v.typeOf,v.AsyncMode,v.ConcurrentMode,v.ContextConsumer,v.ContextProvider,v.Element,v.ForwardRef,v.Fragment,v.Profiler,v.Portal,v.StrictMode,v.isValidElementType,v.isAsyncMode,v.isConcurrentMode,v.isContextConsumer,v.isContextProvider,v.isElement,v.isForwardRef,v.isFragment,v.isProfiler,v.isPortal,v.isStrictMode;var O=b((function(e){e.exports=v})),j={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},g={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},w={};w[O.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var x=Object.defineProperty,S=Object.getOwnPropertyNames,_=Object.getOwnPropertySymbols,C=Object.getOwnPropertyDescriptor,P=Object.getPrototypeOf,E=Object.prototype;var k=function e(t,n,r){if(\"string\"!==typeof n){if(E){var o=P(n);o&&o!==E&&e(t,o,r)}var a=S(n);_&&(a=a.concat(_(n)));for(var i=w[t.$$typeof]||j,c=w[n.$$typeof]||j,s=0;s<a.length;++s){var u=a[s];if(!g[u]&&(!r||!r[u])&&(!c||!c[u])&&(!i||!i[u])){var l=C(n,u);try{x(t,u,l)}catch(p){}}}return t}return t},T=function(){function e(){s(this,e),this.listeners=[]}return l(e,[{key:\"on\",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:\"emit\",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}();function R(e){function t(t,n,o,a,i,c){for(var s=arguments.length,u=new Array(s>6?s-6:0),l=6;l<s;l++)u[l-6]=arguments[l];return Object(r.untracked)((function(){if(a=a||\"<<anonymous>>\",c=c||o,null==n[o]){if(t){var r=null===n[o]?\"null\":\"undefined\";return new Error(\"The \"+i+\" `\"+c+\"` is marked as required in `\"+a+\"`, but its value is `\"+r+\"`.\")}return null}return e.apply(void 0,[n,o,a,i,c].concat(u))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function D(e){var t=c(e);return Array.isArray(e)?\"array\":e instanceof RegExp?\"object\":function(e,t){return\"symbol\"===e||\"Symbol\"===t[\"@@toStringTag\"]||\"function\"===typeof Symbol&&t instanceof Symbol}(t,e)?\"symbol\":t}function M(e,t){return R((function(n,o,a,i,c){return Object(r.untracked)((function(){if(e&&D(n[o])===t.toLowerCase())return null;var i;switch(t){case\"Array\":i=r.isObservableArray;break;case\"Object\":i=r.isObservableObject;break;case\"Map\":i=r.isObservableMap;break;default:throw new Error(\"Unexpected mobxType: \".concat(t))}var s=n[o];if(!i(s)){var u=function(e){var t=D(e);if(\"object\"===t){if(e instanceof Date)return\"date\";if(e instanceof RegExp)return\"regexp\"}return t}(s),l=e?\" or javascript `\"+t.toLowerCase()+\"`\":\"\";return new Error(\"Invalid prop `\"+c+\"` of type `\"+u+\"` supplied to `\"+a+\"`, expected `mobx.Observable\"+t+\"`\"+l+\".\")}return null}))}))}function U(e,t){return R((function(n,o,a,i,c){for(var s=arguments.length,u=new Array(s>5?s-5:0),l=5;l<s;l++)u[l-5]=arguments[l];return Object(r.untracked)((function(){if(\"function\"!==typeof t)return new Error(\"Property `\"+c+\"` of component `\"+a+\"` has invalid PropType notation.\");var r=M(e,\"Array\")(n,o,a);if(r instanceof Error)return r;for(var s=n[o],l=0;l<s.length;l++)if((r=t.apply(void 0,[s,l,a,i,c+\"[\"+l+\"]\"].concat(u)))instanceof Error)return r;return null}))}))}var N=M(!1,\"Array\"),A=U.bind(null,!1),I=M(!1,\"Map\"),F=M(!1,\"Object\"),$=M(!0,\"Array\"),W=U.bind(null,!0),L=M(!0,\"Object\"),B=Object.freeze({observableArray:N,observableArrayOf:A,observableMap:I,observableObject:F,arrayOrObservableArray:$,arrayOrObservableArrayOf:W,objectOrObservableObject:L});var q=0;function X(e){if(\"function\"===typeof Symbol)return Symbol(e);var t=\"__$mobx-react \".concat(e,\" (\").concat(q,\")\");return q++,t}var H=X(\"patchMixins\"),Y=X(\"patchedDefinition\");function G(e,t){var n=e[H]=e[H]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function J(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];t.locks++;try{var i;return void 0!==e&&null!==e&&(i=e.apply(this,o)),i}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function V(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];J.call.apply(J,[this,e,t].concat(r))}}function K(e,t){for(var n=G(e,t),r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];for(var i=0;i<o.length;i++){var c=o[i];n.methods.indexOf(c)<0&&n.methods.push(c)}var s=Object.getOwnPropertyDescriptor(e,t);if(!s||!s[Y]){var u=e[t],l=z(e,t,s?s.enumerable:void 0,n,u);Object.defineProperty(e,t,l)}}function z(e,t,n,r,o){var a,i=V(o,r);return p(a={},Y,!0),p(a,\"get\",(function(){return i})),p(a,\"set\",(function(o){if(this===e)i=V(o,r);else{var a=z(this,t,n,r,o);Object.defineProperty(this,t,a)}})),p(a,\"configurable\",!0),p(a,\"enumerable\",n),a}var Z={mobxStores:L};Object.seal(Z);var Q={contextTypes:{get:function(){return Z},set:function(e){console.warn(\"Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`\")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function ee(e,t,n){var r=\"inject-\"+(t.displayName||t.name||t.constructor&&t.constructor.name||\"Unknown\");n&&(r+=\"-with-\"+n);var a=function(n){function r(){var e,t;s(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=y(this,(e=d(r)).call.apply(e,[this].concat(o)))).storeRef=function(e){t.wrappedInstance=e},t}return f(r,n),l(r,[{key:\"render\",value:function(){var n={};for(var r in this.props)this.props.hasOwnProperty(r)&&(n[r]=this.props[r]);var a=e(this.context.mobxStores||{},n,this.context)||{};for(var i in a)n[i]=a[i];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(n.ref=this.storeRef),Object(o.createElement)(t,n)}}]),r}(o.Component);return a.displayName=r,k(a,t),a.wrappedComponent=t,Object.defineProperties(a,Q),a}function te(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error(\"MobX injector: Store '\"+e+\"' is not available! Make sure it is provided by some Provider\");n[e]=t[e]}})),n}}function ne(){var e;if(\"function\"===typeof arguments[0])return e=arguments[0],function(t){var n=ee(e,t);return n.isMobxInjector=!1,(n=Se(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=te(t),function(n){return ee(e,n,t.join(\"-\"))}}var re=r.$mobx||\"$mobx\",oe=X(\"isUnmounted\"),ae=!1,ie=!1,ce=!1,se=\"undefined\"!==typeof WeakMap?new WeakMap:void 0,ue=new T,le=X(\"skipRender\"),pe=X(\"isForcingUpdate\"),fe=\"function\"===typeof o.forwardRef&&Object(o.forwardRef)((function(e,t){})).$$typeof;function de(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function he(e){if(i.findDOMNode)try{return Object(i.findDOMNode)(e)}catch(t){return null}return null}function ye(e){var t=he(e);t&&se&&se.set(t,e),ue.emit({event:\"render\",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function be(){if(\"undefined\"===typeof WeakMap)throw new Error(\"[mobx-react] tracking components is not supported in this browser.\");ae||(ae=!0)}function me(e){ie=e}var ve=new T;function Oe(e,t){if(je(e,t))return!0;if(\"object\"!==c(e)||null===e||\"object\"!==c(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!hasOwnProperty.call(t,n[o])||!je(e[n[o]],t[n[o]]))return!1;return!0}function je(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function ge(e){var t=this;if(!0===ie)return e.call(this);function n(){var e=this;s=!1;var t=void 0,n=void 0;if(u.track((function(){ae&&(e.__$mobRenderStart=Date.now());try{n=Object(r._allowStateChanges)(!1,c)}catch(o){t=o}ae&&(e.__$mobRenderEnd=Date.now())})),t)throw ve.emit(t),t;return n}var a=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||\"<component>\",i=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;de(this,le,!1),de(this,pe,!1);var c=e.bind(this),s=!1,u=new r.Reaction(\"\".concat(a,\"#\").concat(i,\".render()\"),(function(){if(!s&&(s=!0,\"function\"===typeof t.componentWillReact&&t.componentWillReact(),!0!==t[oe])){var e=!0;try{de(t,pe,!0),t[le]||o.Component.prototype.forceUpdate.call(t),e=!1}finally{de(t,pe,!1),e&&u.dispose()}}}));return u.reactComponent=this,n[re]=u,this.render=n,n.call(this)}var we={componentWillUnmount:function(){if(!0!==ie&&(this.render[re]&&this.render[re].dispose(),this[oe]=!0,ae)){var e=he(this);e&&se&&se.delete(e),ue.emit({event:\"destroy\",component:this,node:e})}},componentDidMount:function(){ae&&ye(this)},componentDidUpdate:function(){ae&&ye(this)},shouldComponentUpdate:function(e,t){return ie&&console.warn(\"[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side.\"),this.state!==t||!Oe(this.props,e)}};function xe(e,t){var n=X(\"reactProp_\".concat(t,\"_valueHolder\")),o=X(\"reactProp_\".concat(t,\"_atomHolder\"));function a(){return this[o]||de(this,o,Object(r.createAtom)(\"reactive \"+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return a.call(this).reportObserved(),this[n]},set:function(e){this[pe]||Oe(this[n],e)?de(this,n,e):(de(this,n,e),de(this,le,!0),a.call(this).reportChanged(),de(this,le,!1))}})}function Se(e,t){if(\"string\"===typeof e)throw new Error(\"Store names should be provided as array\");if(Array.isArray(e))return ce||(ce=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject(\"store1\", \"store2\") @observer ComponentClass` or `inject(\"store1\", \"store2\")(observer(componentClass))` instead of `@observer([\"store1\", \"store2\"]) ComponentClass`')),t?ne.apply(null,e)(Se(t)):function(t){return Se(e,t)};var n=e;if(!0===n.isMobxInjector&&console.warn(\"Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'\"),n.__proto__===o.PureComponent&&console.warn(\"Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together\"),fe&&n.$$typeof===fe){var r=n.render;if(\"function\"!==typeof r)throw new Error(\"render property of ForwardRef was not a function\");return Object(o.forwardRef)((function(){var e=arguments;return a.a.createElement(_e,null,(function(){return r.apply(void 0,e)}))}))}if(\"function\"===typeof n&&(!n.prototype||!n.prototype.render)&&!n.isReactClass&&!o.Component.isPrototypeOf(n)){var i,c,u=Se((c=i=function(e){function t(){return s(this,t),y(this,d(t).apply(this,arguments))}return f(t,e),l(t,[{key:\"render\",value:function(){return n.call(this,this.props,this.context)}}]),t}(o.Component),i.displayName=n.displayName||n.name,i.contextTypes=n.contextTypes,i.propTypes=n.propTypes,i.defaultProps=n.defaultProps,c));return k(u,n),u}if(!n)throw new Error(\"Please pass a valid component to 'observer'\");var p=n.prototype||n;!function(e){[\"componentDidMount\",\"componentWillUnmount\",\"componentDidUpdate\"].forEach((function(t){!function(e,t){K(e,t,we[t])}(e,t)})),e.shouldComponentUpdate?e.shouldComponentUpdate!==we.shouldComponentUpdate&&console.warn(\"Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react.\"):e.shouldComponentUpdate=we.shouldComponentUpdate}(p),n.isMobXReactObserver=!0,xe(p,\"props\"),xe(p,\"state\");var h=p.render;return p.render=function(){return ge.call(this,h)},n}var _e=Se((function(e){var t=e.children,n=e.inject,r=e.render,o=t||r;if(\"undefined\"===typeof o)return null;if(!n)return o();console.warn(\"<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead\");var i=ne(n)(o);return a.a.createElement(i,null)}));_e.displayName=\"Observer\";var Ce=function(e,t,n,r,o){var a=\"children\"===t?\"render\":\"children\";return\"function\"===typeof e[t]&&\"function\"===typeof e[a]?new Error(\"Invalid prop,do not use children and render in the same time in`\"+n):\"function\"!==typeof e[t]&&\"function\"!==typeof e[a]?new Error(\"Invalid prop `\"+o+\"` of type `\"+c(e[t])+\"` supplied to `\"+n+\"`, expected `function`.\"):void 0};function Pe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Ee(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function ke(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}_e.propTypes={render:Ce,children:Ce},Pe.__suppressDeprecationWarning=!0,Ee.__suppressDeprecationWarning=!0,ke.__suppressDeprecationWarning=!0;var Te={children:!0,key:!0,ref:!0},Re=function(e){function t(e,n){var r;return s(this,t),(r=y(this,d(t).call(this,e,n))).state={},De(e,r.state),r}return f(t,e),l(t,[{key:\"render\",value:function(){return o.Children.only(this.props.children)}},{key:\"getChildContext\",value:function(){var e={};return De(this.context.mobxStores,e),De(this.props,e),{mobxStores:e}}}],[{key:\"getDerivedStateFromProps\",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(Me).length!==Object.keys(t).filter(Me).length&&console.warn(\"MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children\"),!e.suppressChangedStoreWarning)for(var n in e)Me(n)&&t[n]!==e[n]&&console.warn(\"MobX Provider: Provided store '\"+n+\"' has changed. Please avoid replacing stores as the change might not propagate to all children\");return e}}]),t}(o.Component);function De(e,t){if(e)for(var n in e)Me(n)&&(t[n]=e[n])}function Me(e){return!Te[e]&&\"suppressChangedStoreWarning\"!==e}Re.contextTypes={mobxStores:L},Re.childContextTypes={mobxStores:L.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error(\"Can only polyfill class components\");if(\"function\"!==typeof e.getDerivedStateFromProps&&\"function\"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if(\"function\"===typeof t.componentWillMount?n=\"componentWillMount\":\"function\"===typeof t.UNSAFE_componentWillMount&&(n=\"UNSAFE_componentWillMount\"),\"function\"===typeof t.componentWillReceiveProps?r=\"componentWillReceiveProps\":\"function\"===typeof t.UNSAFE_componentWillReceiveProps&&(r=\"UNSAFE_componentWillReceiveProps\"),\"function\"===typeof t.componentWillUpdate?o=\"componentWillUpdate\":\"function\"===typeof t.UNSAFE_componentWillUpdate&&(o=\"UNSAFE_componentWillUpdate\"),null!==n||null!==r||null!==o){var a=e.displayName||e.name,i=\"function\"===typeof e.getDerivedStateFromProps?\"getDerivedStateFromProps()\":\"getSnapshotBeforeUpdate()\";throw Error(\"Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n\"+a+\" uses \"+i+\" but also contains the following legacy lifecycles:\"+(null!==n?\"\\n  \"+n:\"\")+(null!==r?\"\\n  \"+r:\"\")+(null!==o?\"\\n  \"+o:\"\")+\"\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\nhttps://fb.me/react-async-component-lifecycle-hooks\")}if(\"function\"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=Pe,t.componentWillReceiveProps=Ee),\"function\"===typeof t.getSnapshotBeforeUpdate){if(\"function\"!==typeof t.componentDidUpdate)throw new Error(\"Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype\");t.componentWillUpdate=ke;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}}(Re);var Ue=X(\"disposeOnUnmount\");function Ne(){var e=this;this[Ue]&&(this[Ue].forEach((function(t){var n=\"string\"===typeof t?e[t]:t;if(void 0!==n&&null!==n){if(\"function\"!==typeof n)throw new Error(\"[mobx-react] disposeOnUnmount only works on functions such as disposers returned by reactions, autorun, etc.\");n()}})),this[Ue]=[])}function Ae(e,t){if(Array.isArray(t))return t.map((function(t){return Ae(e,t)}));if(!e instanceof o.Component)throw new Error(\"[mobx-react] disposeOnUnmount only works on class based React components.\");if(\"string\"!==typeof t&&\"function\"!==typeof t)throw new Error(\"[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.\");var n=!!e[Ue];return(e[Ue]||(e[Ue]=[])).push(t),n||K(e,\"componentWillUnmount\",Ne),\"string\"!==typeof t?t:void 0}if(!o.Component)throw new Error(\"mobx-react requires React to be available\");if(!r.spy)throw new Error(\"mobx-react requires mobx to be available\");\"function\"===typeof i.unstable_batchedUpdates&&Object(r.configure)({reactionScheduler:i.unstable_batchedUpdates});var Ie=function(e){return ve.on(e)};if(\"object\"===(\"undefined\"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?\"undefined\":c(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var Fe={spy:r.spy,extras:{getDebugName:r.getDebugName}},$e={renderReporter:ue,componentByNodeRegistry:se,componentByNodeRegistery:se,trackComponents:be};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact($e,Fe)}},\"qiT/\":function(e,t,n){}},[[\"gHrF\",1,2,11,14,13,3,5,6,7,0]]]);","map":{"version":3,"sources":["static/chunks/pages/sheet-74baabe4d335a28e527e.js"],"names":["_N_E","window","push","0II3","module","exports","__webpack_require__","fetch","self","bind","default","CjJp","__webpack_exports__","d","confirm","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__","react_dom__WEBPACK_IMPORTED_MODULE_4__","react_dom__WEBPACK_IMPORTED_MODULE_4___default","_components_Dialog_Dialog__WEBPACK_IMPORTED_MODULE_5__","_confirm","apply","this","arguments","Object","a","mark","_callee","text","title","container","_args","wrap","_context","prev","next","length","undefined","document","createElement","body","appendChild","abrupt","Promise","resolve","handleNo","handleYes","render","buttons","children","onClick","modal","okButtonText","onCancel","onOk","className","removeChild","stop","TTmL","URI","request","url","baseURL","concat","protocol","get","Y0NT","r","Error","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_contexts_Application__WEBPACK_IMPORTED_MODULE_2__","query","router","statusCode","c5D9","sheet_Sheet","regenerator","regenerator_default","asyncToGenerator","classCallCheck","createClass","assertThisInitialized","inherits","possibleConstructorReturn","getPrototypeOf","defineProperty","jsx_runtime","fetch_default","react","lib","sheetforge_min","Editable","Toggle","Application","defaultSheetLayout","columns","type","colSpan","icons_public","public_default","icons_secret","secret_default","icons_template","template_default","_error","utilities_confirm","pluck","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","i","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","constructor","STATE_FIELDS","UPDATABLE_FIELDS","_Component","Sheet","_super","_this","_len","args","Array","_key","props","saved","context","create","updateSheet","slug","character","data","layout","setState","URLSearchParams","location","search","_ref","_ref$data","_ref$layout","set","markAsClean","sent","method","status","back","reset","state","_ref3","_callee2","payload","response","json","_context2","JSON","stringify","toJSON","headers","Content-Type","_x","forceUpdate","handleSave","secret","template","_this$props","httpStatusCode","message","_this$state","_id","isEditor","isOwner","onChange","handleTitleChange","readOnly","value","isDirty","handleReset","offIcon","onIcon","onToggle","handleToggleSecret","handleToggleTemplate","handleDelete","autoHide","universal","handleSheetChange","_ref5","_callee3","_ref4","req","_context3","_x2","gHrF","__NEXT_P","mBK0","propTypes","onError","observer","Observer","renderReporter","componentByNodeRegistry","trackComponents","useStaticRendering","Provider","inject","disposeOnUnmount","mobx__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1___default","react_dom__WEBPACK_IMPORTED_MODULE_2__","_typeof","obj","Symbol","iterator","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","_defineProperty","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","__proto__","p","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","createCommonjsModule","fn","x","reactIs_production_min","b","for","c","f","g","h","k","l","m","t","u","q","$$typeof","v","typeOf","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Fragment","Profiler","Portal","StrictMode","isValidElementType","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isProfiler","isPortal","isStrictMode","__esModule","hasOwnProperty","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","KNOWN_STATICS","name","caller","callee","arity","TYPE_STATICS","getOwnPropertyNames","objectPrototype","hoistNonReactStatics_cjs","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","EventEmitter","listeners","cb","index","indexOf","splice","createChainableTypeChecker","validate","checkType","isRequired","propName","componentName","propFullName","rest","actual","chainedCheckType","getPropType","propValue","propType","isArray","RegExp","isSymbol","createObservableTypeCheckerCreator","allowNativeType","mobxType","toLowerCase","mobxChecker","preciseType","getPreciseType","nativeTypeExpectationMessage","createObservableArrayOfTypeChecker","typeChecker","_len2","_key2","error","observableArray","observableArrayOf","observableMap","observableObject","arrayOrObservableArray","arrayOrObservableArrayOf","objectOrObservableObject","freeze","symbolId","newSymbol","symbol","mobxMixins","mobxPatchedDefinition","getMixins","methodName","methodMixins","locks","methods","wrapper","realMethod","retVal","mx","wrapFunction","patch","_len3","mixinMethods","_key3","_i","mixinMethod","oldDefinition","originalMethod","newDefinition","createDefinition","wrappedFunc","injectorContextTypes","mobxStores","seal","proxiedInjectorProps","_","console","warn","isMobxInjector","createStoreInjector","grabStoresFn","component","injectNames","Injector","_getPrototypeOf2","storeRef","wrappedInstance","newProps","additionalProps","isStateless","ref","wrappedComponent","grabStoresByName","storeNames","baseStores","nextProps","storeName","componentClass","injected","join","mobxAdminProperty","mobxIsUnmounted","isDevtoolsEnabled","isUsingStaticRendering","warnedAboutObserverInjectDeprecation","WeakMap","skipRenderKey","isForcingUpdateKey","ReactForwardRefSymbol","_props","setHiddenProp","prop","findDOMNode$2","reportRendering","node","emit","event","renderTime","__$mobRenderEnd","__$mobRenderStart","totalTime","now","errorsReporter","shallowEqual","objA","objB","is","keysA","keysB","y","makeComponentReactive","_this2","reactiveRender","isRenderingPending","exception","rendering","reaction","track","baseRender","initialName","rootNodeID","_reactInternalInstance","_rootNodeID","_debugID","_reactInternalFiber","componentWillReact","hasError","dispose","reactComponent","reactiveMixin","componentWillUnmount","delete","componentDidMount","componentDidUpdate","shouldComponentUpdate","nextState","makeObservableProp","valueHolderKey","atomHolderKey","getAtom","reportObserved","reportChanged","arg1","arg2","_baseRender","_arguments","isReactClass","isPrototypeOf","_class","_temp","observerComponent","funcName","patch$1","mixinLifecycleEvents","isMobXReactObserver","_ref2","observerInject","InjectComponent","ObserverPropsCheck","extraKey","componentWillMount","componentWillReceiveProps","prevState","componentWillUpdate","prevProps","__reactInternalSnapshotFlag","__reactInternalSnapshot","getSnapshotBeforeUpdate","__suppressDeprecationWarning","specialReactKeys","copyStores","only","stores","validStoreName","suppressChangedStoreWarning","from","to","Component$$1","isReactComponent","foundWillMountName","foundWillReceivePropsName","foundWillUpdateName","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","newApiName","maybeSnapshot","snapshot","polyfill","storeKey","runDisposersOnWillUnmount","propKeyOrFunction","propertyKeyOrFunction","map","componentWasAlreadyModified","reactionScheduler","on","__MOBX_DEVTOOLS_GLOBAL_HOOK__","mobx","spy","extras","getDebugName","mobxReact","componentByNodeRegistery","injectMobxReact","qiT/"],"mappings":"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"},"name":"static/chunks/pages/sheet-74baabe4d335a28e527e.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[24],{\n\n/***/ \"0II3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* globals self */var fetch=self.fetch.bind(self);module.exports=fetch;module.exports.default=module.exports;\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n\n/***/ \"CjJp\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return confirm; });\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"NthX\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"eijD\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"oYCi\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"mXGw\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"xARA\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_Dialog_Dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"y4cp\");\n\n\n\n\n\n\n\n\nfunction confirm() {\n  return _confirm.apply(this, arguments);\n}\n\nfunction _confirm() {\n  _confirm = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {\n    var text,\n        title,\n        container,\n        _args = arguments;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            text = _args.length > 0 && _args[0] !== undefined ? _args[0] : '';\n            title = _args.length > 1 && _args[1] !== undefined ? _args[1] : 'Prompt';\n            container = document.createElement('div');\n            document.body.appendChild(container);\n            return _context.abrupt(\"return\", new Promise(function (resolve) {\n              var handleNo = function handleNo() {\n                return resolve(false);\n              };\n\n              var handleYes = function handleYes() {\n                return resolve(true);\n              };\n\n              react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render( /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(_components_Dialog_Dialog__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n                buttons: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"Fragment\"], {\n                  children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"button\", {\n                    onClick: handleYes,\n                    children: \"Yes\"\n                  }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"button\", {\n                    onClick: handleNo,\n                    children: \"No\"\n                  })]\n                }),\n                modal: true,\n                okButtonText: \"Yes\",\n                onCancel: handleNo,\n                onOk: handleYes,\n                title: title,\n                children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"div\", {\n                  className: \"text\",\n                  children: text\n                })\n              }), container);\n            })[\"finally\"](function () {\n              document.body.removeChild(container);\n            }));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _confirm.apply(this, arguments);\n}\n\n/***/ }),\n\n/***/ \"TTmL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return URI; });\nfunction URI(request, url) {\n  var baseURL = request ? \"\".concat(request.protocol, \"://\").concat(request.get('Host')) : '';\n  return \"\".concat(baseURL).concat(url);\n}\n\n/***/ }),\n\n/***/ \"Y0NT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Error; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"oYCi\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"mXGw\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_Application__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"qhEq\");\n/* harmony import */ var _error_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"qiT/\");\n/* harmony import */ var _error_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_error_scss__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nfunction Error() {\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useContext\"])(_contexts_Application__WEBPACK_IMPORTED_MODULE_2__[/* Application */ \"a\"]),\n      router = _useContext.router;\n\n  var query = router.query;\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n    className: \"error page\",\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h1\", {\n      className: \"status-code\",\n      children: query.statusCode || 500\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      className: \"message\",\n      children: \"An error occurred.\"\n    })]\n  });\n}\n\n/***/ }),\n\n/***/ \"c5D9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ sheet_Sheet; });\n\n// EXTERNAL MODULE: ../node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"NthX\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"eijD\");\n\n// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(\"hisu\");\n\n// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(\"yBJb\");\n\n// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(\"0942\");\n\n// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(\"CHlC\");\n\n// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js + 1 modules\nvar possibleConstructorReturn = __webpack_require__(\"kMo5\");\n\n// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\nvar getPrototypeOf = __webpack_require__(\"P+uj\");\n\n// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"mK0O\");\n\n// EXTERNAL MODULE: ../node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"oYCi\");\n\n// EXTERNAL MODULE: ../node_modules/next/dist/build/polyfills/fetch/index.js\nvar fetch = __webpack_require__(\"0II3\");\nvar fetch_default = /*#__PURE__*/__webpack_require__.n(fetch);\n\n// EXTERNAL MODULE: ../node_modules/react/index.js\nvar react = __webpack_require__(\"mXGw\");\n\n// EXTERNAL MODULE: ../node_modules/react-custom-scrollbars/lib/index.js\nvar lib = __webpack_require__(\"CkPy\");\n\n// EXTERNAL MODULE: ../node_modules/sheetforge/build/sheetforge.min.js\nvar sheetforge_min = __webpack_require__(\"7/nG\");\n\n// EXTERNAL MODULE: ./components/Editable/Editable.js + 1 modules\nvar Editable = __webpack_require__(\"IXLv\");\n\n// EXTERNAL MODULE: ./components/Toggle/Toggle.js\nvar Toggle = __webpack_require__(\"iLCn\");\n\n// EXTERNAL MODULE: ./contexts/Application.ts\nvar Application = __webpack_require__(\"qhEq\");\n\n// CONCATENATED MODULE: ./data/defaultSheetLayout.js\n/* eslint-disable object-property-newline,sort-keys */\n/* harmony default export */ var defaultSheetLayout = ({\n  children: [{\n    title: 'Descriptors',\n    children: [{\n      columns: 3,\n      type: 'Descriptor'\n    }]\n  }, {\n    title: 'Attributes',\n    children: [{\n      columns: 4,\n      type: 'Attribute'\n    }]\n  }, {\n    columns: 3,\n    children: [{\n      colSpan: 1,\n      children: [{\n        title: 'Traits',\n        children: [{\n          type: 'Trait'\n        }]\n      }, {\n        title: 'Resources',\n        children: [{\n          type: 'Resource'\n        }]\n      }]\n    }, {\n      colSpan: 2,\n      children: [{\n        title: 'Skills',\n        children: [{\n          columns: 2,\n          type: 'Skill'\n        }]\n      }, {\n        title: 'Items',\n        children: [{\n          columns: 1,\n          type: 'Item'\n        }]\n      }, {\n        title: 'Spells',\n        children: [{\n          columns: 1,\n          type: 'Spell'\n        }]\n      }]\n    }]\n  }]\n});\n/* eslint-enable object-property-newline,sort-keys */\n// EXTERNAL MODULE: ./icons/public.svg\nvar icons_public = __webpack_require__(\"ZS9i\");\nvar public_default = /*#__PURE__*/__webpack_require__.n(icons_public);\n\n// EXTERNAL MODULE: ./icons/secret.svg\nvar icons_secret = __webpack_require__(\"PZST\");\nvar secret_default = /*#__PURE__*/__webpack_require__.n(icons_secret);\n\n// EXTERNAL MODULE: ./icons/template.svg\nvar icons_template = __webpack_require__(\"U+IY\");\nvar template_default = /*#__PURE__*/__webpack_require__.n(icons_template);\n\n// EXTERNAL MODULE: ./pages/_error.js\nvar _error = __webpack_require__(\"Y0NT\");\n\n// EXTERNAL MODULE: ./utilities/confirm.js\nvar utilities_confirm = __webpack_require__(\"CjJp\");\n\n// EXTERNAL MODULE: ./utilities/pluck.js + 1 modules\nvar pluck = __webpack_require__(\"VTEe\");\n\n// EXTERNAL MODULE: ./utilities/URI.js\nvar URI = __webpack_require__(\"TTmL\");\n\n// EXTERNAL MODULE: ../node_modules/sheetforge/build/sheetforge.css\nvar sheetforge = __webpack_require__(\"s2Sc\");\n\n// EXTERNAL MODULE: ./pages/sheet.scss\nvar sheet = __webpack_require__(\"eORY\");\n\n// CONCATENATED MODULE: ./pages/sheet.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = Object(getPrototypeOf[\"a\" /* default */])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = Object(getPrototypeOf[\"a\" /* default */])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return Object(possibleConstructorReturn[\"a\" /* default */])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar STATE_FIELDS = ['_id', 'isEditor', 'isOwner', 'secret', 'slug', 'template'];\nvar UPDATABLE_FIELDS = ['title'];\n\nvar sheet_Sheet = /*#__PURE__*/function (_Component) {\n  Object(inherits[\"a\" /* default */])(Sheet, _Component);\n\n  var _super = _createSuper(Sheet);\n\n  function Sheet() {\n    var _this;\n\n    Object(classCallCheck[\"a\" /* default */])(this, Sheet);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"state\", _objectSpread(_objectSpread({}, Object(pluck[\"a\" /* pluck */])(_this.props, STATE_FIELDS)), {}, {\n      saved: Object(pluck[\"a\" /* pluck */])(_this.props, UPDATABLE_FIELDS),\n      title: _this.props.title || _this.context.router.query.title || 'Unnamed Character'\n    }));\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"character\", sheetforge_min[\"CharacterModel\"].create({}));\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"layout\", sheetforge_min[\"LayoutModel\"].create(defaultSheetLayout));\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"componentDidMount\", function () {\n      _this.updateSheet(_this.props);\n    });\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"componentWillReceiveProps\", function (props) {\n      if (props.slug !== _this.props.slug) {\n        _this.character = sheetforge_min[\"CharacterModel\"].create(props.data);\n        _this.layout = sheetforge_min[\"LayoutModel\"].create(props.layout);\n\n        _this.setState({\n          saved: Object(pluck[\"a\" /* pluck */])(props, UPDATABLE_FIELDS),\n          title: props.title || new URLSearchParams(window.location.search).get('title') || ''\n        });\n      }\n    });\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"updateSheet\", function (_ref) {\n      var _ref$data = _ref.data,\n          data = _ref$data === void 0 ? {} : _ref$data,\n          _ref$layout = _ref.layout,\n          layout = _ref$layout === void 0 ? defaultSheetLayout : _ref$layout;\n\n      _this.character.set(data);\n\n      _this.character.markAsClean();\n\n      _this.layout.set(layout);\n\n      _this.layout.markAsClean();\n    });\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"handleDelete\", /*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n      var slug, response;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Object(utilities_confirm[\"a\" /* confirm */])('Are you sure you want to permanently delete this sheet?');\n\n            case 2:\n              if (!_context.sent) {\n                _context.next = 8;\n                break;\n              }\n\n              slug = _this.context.router.query.slug;\n              _context.next = 6;\n              return fetch_default()(\"/api/sheet/\".concat(slug), {\n                method: 'DELETE'\n              });\n\n            case 6:\n              response = _context.sent;\n\n              if (response.status === 204) {\n                _this.context.router.back();\n              }\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"handleReset\", function () {\n      _this.character.reset();\n\n      _this.layout.reset();\n\n      _this.setState(_this.state.saved);\n    });\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"handleSave\", /*#__PURE__*/function () {\n      var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(payload) {\n        var slug, response, json;\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                slug = _this.context.router.query.slug;\n                _context2.next = 3;\n                return fetch_default()(\"/api/sheet/\".concat(slug), {\n                  body: JSON.stringify(payload || {\n                    data: _this.character.toJSON(),\n                    layout: _this.layout.toJSON(),\n                    title: _this.state.title\n                  }),\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  method: 'POST'\n                });\n\n              case 3:\n                response = _context2.sent;\n                _context2.next = 6;\n                return response.json();\n\n              case 6:\n                json = _context2.sent;\n\n                if (!(response.status === 200)) {\n                  _context2.next = 10;\n                  break;\n                }\n\n                _this.updateSheet(json);\n\n                return _context2.abrupt(\"return\", _this.setState(_objectSpread(_objectSpread({}, Object(pluck[\"a\" /* pluck */])(json, STATE_FIELDS)), {}, {\n                  saved: Object(pluck[\"a\" /* pluck */])(json, UPDATABLE_FIELDS)\n                })));\n\n              case 10:\n                return _context2.abrupt(\"return\", _this.setState(json));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"handleSheetChange\", function () {\n      return _this.forceUpdate();\n    });\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"handleTitleChange\", function (title) {\n      return _this.setState({\n        title: title\n      });\n    });\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"handleToggleSecret\", function () {\n      return _this.handleSave({\n        secret: !_this.state.secret\n      });\n    });\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"handleToggleTemplate\", function () {\n      return _this.handleSave({\n        template: !_this.state.template\n      });\n    });\n\n    Object(defineProperty[\"a\" /* default */])(Object(assertThisInitialized[\"a\" /* default */])(_this), \"render\", function () {\n      var _this$props = _this.props,\n          httpStatusCode = _this$props.httpStatusCode,\n          message = _this$props.message,\n          slug = _this$props.slug;\n      var _this$state = _this.state,\n          _id = _this$state._id,\n          isEditor = _this$state.isEditor,\n          isOwner = _this$state.isOwner,\n          secret = _this$state.secret,\n          template = _this$state.template,\n          title = _this$state.title;\n\n      if (httpStatusCode !== 200) {\n        return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(_error[\"default\"], _objectSpread({}, {\n          httpStatusCode: httpStatusCode,\n          message: message\n        }));\n      }\n\n      return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n        className: \"sheet page\",\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n          className: \"title-bar\",\n          children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Editable[\"a\" /* Editable */], {\n            className: \"title\",\n            onChange: _this.handleTitleChange,\n            readOnly: !isEditor,\n            value: title\n          }), isEditor && _this.isDirty && /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n              className: \"safe\",\n              onClick: function onClick() {\n                return _this.handleSave();\n              },\n              children: _id ? 'Save' : 'Create'\n            }), _id && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n              className: \"safe\",\n              onClick: _this.handleReset,\n              children: \"Reset\"\n            })]\n          }), _id && isEditor && /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Toggle[\"a\" /* Toggle */], {\n              className: \"secret\",\n              offIcon: public_default.a,\n              onIcon: secret_default.a,\n              onToggle: _this.handleToggleSecret,\n              value: secret\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Toggle[\"a\" /* Toggle */], {\n              className: \"template\",\n              value: template,\n              offIcon: template_default.a,\n              onIcon: template_default.a,\n              onToggle: _this.handleToggleTemplate\n            })]\n          }), _id && isOwner && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n            className: \"delete danger\",\n            onClick: _this.handleDelete,\n            children: \"Delete\"\n          })]\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib[\"Scrollbars\"], {\n          autoHide: true,\n          universal: true,\n          className: \"sheet-container scrollbars \".concat(isEditor ? 'is-editable' : 'readOnly'),\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(sheetforge_min[\"Sheet\"], {\n            readOnly: !isEditor,\n            character: _this.character,\n            layout: _this.layout,\n            onChange: _this.handleSheetChange\n          }, slug)\n        })]\n      });\n    });\n\n    return _this;\n  }\n\n  Object(createClass[\"a\" /* default */])(Sheet, [{\n    key: \"isDirty\",\n    get: function get() {\n      return this.state.title !== this.state.saved.title || this.character.isDirty || this.layout.isDirty;\n    }\n  }]);\n\n  return Sheet;\n}(react[\"Component\"]);\n\nObject(defineProperty[\"a\" /* default */])(sheet_Sheet, \"contextType\", Application[\"a\" /* Application */]);\n\nObject(defineProperty[\"a\" /* default */])(sheet_Sheet, \"defaultProps\", {\n  children: [],\n  data: {},\n  layout: defaultSheetLayout,\n  slug: '',\n  title: ''\n});\n\nObject(defineProperty[\"a\" /* default */])(sheet_Sheet, \"getInitialProps\", /*#__PURE__*/function () {\n  var _ref5 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(_ref4) {\n    var query, req, headers, url, response, json;\n    return regenerator_default.a.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            query = _ref4.query, req = _ref4.req;\n            headers = Object(pluck[\"a\" /* pluck */])(req && req.headers, 'cookie');\n            url = \"/api/sheet/\".concat(query.slug);\n            if (query.template) url += \"?template=\".concat(query.template);\n            _context3.next = 6;\n            return fetch_default()(Object(URI[\"a\" /* URI */])(req, url), {\n              headers: headers\n            });\n\n          case 6:\n            response = _context3.sent;\n            _context3.next = 9;\n            return response.json();\n\n          case 9:\n            json = _context3.sent;\n            return _context3.abrupt(\"return\", _objectSpread({\n              httpStatusCode: response.status\n            }, json));\n\n          case 11:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x2) {\n    return _ref5.apply(this, arguments);\n  };\n}());\n\n\n\n/***/ }),\n\n/***/ \"gHrF\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/sheet\",\n      function () {\n        return __webpack_require__(\"c5D9\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"mBK0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"propTypes\", function() { return propTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PropTypes\", function() { return propTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onError\", function() { return onError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"observer\", function() { return observer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Observer\", function() { return Observer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"renderReporter\", function() { return renderReporter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"componentByNodeRegistery\", function() { return componentByNodeRegistry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"componentByNodeRegistry\", function() { return componentByNodeRegistry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"trackComponents\", function() { return trackComponents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useStaticRendering\", function() { return useStaticRendering; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Provider\", function() { return Provider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inject\", function() { return inject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"disposeOnUnmount\", function() { return disposeOnUnmount; });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"cneo\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"mXGw\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"xARA\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\n// These functions can be stubbed out in specific environments\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x.default : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar reactIs_production_min = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports,\"__esModule\",{value:!0});\nvar b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,r=b?Symbol.for(\"react.memo\"):\n60115,t=b?Symbol.for(\"react.lazy\"):60116;function u(a){if(\"object\"===typeof a&&null!==a){var q=a.$$typeof;switch(q){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case h:return a;default:return q}}case d:return q}}}function v(a){return u(a)===m}exports.typeOf=u;exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;\nexports.Profiler=g;exports.Portal=d;exports.StrictMode=f;exports.isValidElementType=function(a){return \"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n)};exports.isAsyncMode=function(a){return v(a)||u(a)===l};exports.isConcurrentMode=v;exports.isContextConsumer=function(a){return u(a)===k};exports.isContextProvider=function(a){return u(a)===h};\nexports.isElement=function(a){return \"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return u(a)===n};exports.isFragment=function(a){return u(a)===e};exports.isProfiler=function(a){return u(a)===g};exports.isPortal=function(a){return u(a)===d};exports.isStrictMode=function(a){return u(a)===f};\n});\n\nunwrapExports(reactIs_production_min);\nvar reactIs_production_min_1 = reactIs_production_min.typeOf;\nvar reactIs_production_min_2 = reactIs_production_min.AsyncMode;\nvar reactIs_production_min_3 = reactIs_production_min.ConcurrentMode;\nvar reactIs_production_min_4 = reactIs_production_min.ContextConsumer;\nvar reactIs_production_min_5 = reactIs_production_min.ContextProvider;\nvar reactIs_production_min_6 = reactIs_production_min.Element;\nvar reactIs_production_min_7 = reactIs_production_min.ForwardRef;\nvar reactIs_production_min_8 = reactIs_production_min.Fragment;\nvar reactIs_production_min_9 = reactIs_production_min.Profiler;\nvar reactIs_production_min_10 = reactIs_production_min.Portal;\nvar reactIs_production_min_11 = reactIs_production_min.StrictMode;\nvar reactIs_production_min_12 = reactIs_production_min.isValidElementType;\nvar reactIs_production_min_13 = reactIs_production_min.isAsyncMode;\nvar reactIs_production_min_14 = reactIs_production_min.isConcurrentMode;\nvar reactIs_production_min_15 = reactIs_production_min.isContextConsumer;\nvar reactIs_production_min_16 = reactIs_production_min.isContextProvider;\nvar reactIs_production_min_17 = reactIs_production_min.isElement;\nvar reactIs_production_min_18 = reactIs_production_min.isForwardRef;\nvar reactIs_production_min_19 = reactIs_production_min.isFragment;\nvar reactIs_production_min_20 = reactIs_production_min.isProfiler;\nvar reactIs_production_min_21 = reactIs_production_min.isPortal;\nvar reactIs_production_min_22 = reactIs_production_min.isStrictMode;\n\nvar reactIs = createCommonjsModule(function (module) {\n\n{\n  module.exports = reactIs_production_min;\n}\n});\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\nvar REACT_STATICS = {\n    childContextTypes: true,\n    contextType: true,\n    contextTypes: true,\n    defaultProps: true,\n    displayName: true,\n    getDefaultProps: true,\n    getDerivedStateFromError: true,\n    getDerivedStateFromProps: true,\n    mixins: true,\n    propTypes: true,\n    type: true\n};\n\nvar KNOWN_STATICS = {\n    name: true,\n    length: true,\n    prototype: true,\n    caller: true,\n    callee: true,\n    arguments: true,\n    arity: true\n};\n\nvar FORWARD_REF_STATICS = {\n    '$$typeof': true,\n    render: true,\n    defaultProps: true,\n    displayName: true,\n    propTypes: true\n};\n\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n    if (typeof sourceComponent !== 'string') {\n        // don't hoist over string (html) components\n\n        if (objectPrototype) {\n            var inheritedComponent = getPrototypeOf(sourceComponent);\n            if (inheritedComponent && inheritedComponent !== objectPrototype) {\n                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n            }\n        }\n\n        var keys = getOwnPropertyNames(sourceComponent);\n\n        if (getOwnPropertySymbols) {\n            keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n        }\n\n        var targetStatics = TYPE_STATICS[targetComponent['$$typeof']] || REACT_STATICS;\n        var sourceStatics = TYPE_STATICS[sourceComponent['$$typeof']] || REACT_STATICS;\n\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n                try {\n                    // Avoid failures from read-only properties\n                    defineProperty(targetComponent, key, descriptor);\n                } catch (e) {}\n            }\n        }\n\n        return targetComponent;\n    }\n\n    return targetComponent;\n}\n\nvar hoistNonReactStatics_cjs = hoistNonReactStatics;\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.listeners = [];\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(cb) {\n      var _this = this;\n\n      this.listeners.push(cb);\n      return function () {\n        var index = _this.listeners.indexOf(cb);\n\n        if (index !== -1) _this.listeners.splice(index, 1);\n      };\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(data) {\n      this.listeners.forEach(function (fn) {\n        return fn(data);\n      });\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    for (var _len = arguments.length, rest = new Array(_len > 6 ? _len - 6 : 0), _key = 6; _key < _len; _key++) {\n      rest[_key - 6] = arguments[_key];\n    }\n\n    return Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"untracked\"])(function () {\n      componentName = componentName || \"<<anonymous>>\";\n      propFullName = propFullName || propName;\n\n      if (props[propName] == null) {\n        if (isRequired) {\n          var actual = props[propName] === null ? \"null\" : \"undefined\";\n          return new Error(\"The \" + location + \" `\" + propFullName + \"` is marked as required \" + \"in `\" + componentName + \"`, but its value is `\" + actual + \"`.\");\n        }\n\n        return null;\n      } else {\n        return validate.apply(void 0, [props, propName, componentName, location, propFullName].concat(rest));\n      }\n    });\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n  return chainedCheckType;\n} // Copied from React.PropTypes\n\n\nfunction isSymbol(propType, propValue) {\n  // Native Symbol.\n  if (propType === \"symbol\") {\n    return true;\n  } // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\n\n  if (propValue[\"@@toStringTag\"] === \"Symbol\") {\n    return true;\n  } // Fallback for non-spec compliant Symbols which are polyfilled.\n\n\n  if (typeof Symbol === \"function\" && propValue instanceof Symbol) {\n    return true;\n  }\n\n  return false;\n} // Copied from React.PropTypes\n\n\nfunction getPropType(propValue) {\n  var propType = _typeof(propValue);\n\n  if (Array.isArray(propValue)) {\n    return \"array\";\n  }\n\n  if (propValue instanceof RegExp) {\n    // Old webkits (at least until Android 4.0) return 'function' rather than\n    // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n    // passes PropTypes.object.\n    return \"object\";\n  }\n\n  if (isSymbol(propType, propValue)) {\n    return \"symbol\";\n  }\n\n  return propType;\n} // This handles more types than `getPropType`. Only used for error messages.\n// Copied from React.PropTypes\n\n\nfunction getPreciseType(propValue) {\n  var propType = getPropType(propValue);\n\n  if (propType === \"object\") {\n    if (propValue instanceof Date) {\n      return \"date\";\n    } else if (propValue instanceof RegExp) {\n      return \"regexp\";\n    }\n  }\n\n  return propType;\n}\n\nfunction createObservableTypeCheckerCreator(allowNativeType, mobxType) {\n  return createChainableTypeChecker(function (props, propName, componentName, location, propFullName) {\n    return Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"untracked\"])(function () {\n      if (allowNativeType) {\n        if (getPropType(props[propName]) === mobxType.toLowerCase()) return null;\n      }\n\n      var mobxChecker;\n\n      switch (mobxType) {\n        case \"Array\":\n          mobxChecker = mobx__WEBPACK_IMPORTED_MODULE_0__[\"isObservableArray\"];\n          break;\n\n        case \"Object\":\n          mobxChecker = mobx__WEBPACK_IMPORTED_MODULE_0__[\"isObservableObject\"];\n          break;\n\n        case \"Map\":\n          mobxChecker = mobx__WEBPACK_IMPORTED_MODULE_0__[\"isObservableMap\"];\n          break;\n\n        default:\n          throw new Error(\"Unexpected mobxType: \".concat(mobxType));\n      }\n\n      var propValue = props[propName];\n\n      if (!mobxChecker(propValue)) {\n        var preciseType = getPreciseType(propValue);\n        var nativeTypeExpectationMessage = allowNativeType ? \" or javascript `\" + mobxType.toLowerCase() + \"`\" : \"\";\n        return new Error(\"Invalid prop `\" + propFullName + \"` of type `\" + preciseType + \"` supplied to\" + \" `\" + componentName + \"`, expected `mobx.Observable\" + mobxType + \"`\" + nativeTypeExpectationMessage + \".\");\n      }\n\n      return null;\n    });\n  });\n}\n\nfunction createObservableArrayOfTypeChecker(allowNativeType, typeChecker) {\n  return createChainableTypeChecker(function (props, propName, componentName, location, propFullName) {\n    for (var _len2 = arguments.length, rest = new Array(_len2 > 5 ? _len2 - 5 : 0), _key2 = 5; _key2 < _len2; _key2++) {\n      rest[_key2 - 5] = arguments[_key2];\n    }\n\n    return Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"untracked\"])(function () {\n      if (typeof typeChecker !== \"function\") {\n        return new Error(\"Property `\" + propFullName + \"` of component `\" + componentName + \"` has \" + \"invalid PropType notation.\");\n      }\n\n      var error = createObservableTypeCheckerCreator(allowNativeType, \"Array\")(props, propName, componentName);\n      if (error instanceof Error) return error;\n      var propValue = props[propName];\n\n      for (var i = 0; i < propValue.length; i++) {\n        error = typeChecker.apply(void 0, [propValue, i, componentName, location, propFullName + \"[\" + i + \"]\"].concat(rest));\n        if (error instanceof Error) return error;\n      }\n\n      return null;\n    });\n  });\n}\n\nvar observableArray = createObservableTypeCheckerCreator(false, \"Array\");\nvar observableArrayOf = createObservableArrayOfTypeChecker.bind(null, false);\nvar observableMap = createObservableTypeCheckerCreator(false, \"Map\");\nvar observableObject = createObservableTypeCheckerCreator(false, \"Object\");\nvar arrayOrObservableArray = createObservableTypeCheckerCreator(true, \"Array\");\nvar arrayOrObservableArrayOf = createObservableArrayOfTypeChecker.bind(null, true);\nvar objectOrObservableObject = createObservableTypeCheckerCreator(true, \"Object\");\n\nvar propTypes = /*#__PURE__*/Object.freeze({\n  observableArray: observableArray,\n  observableArrayOf: observableArrayOf,\n  observableMap: observableMap,\n  observableObject: observableObject,\n  arrayOrObservableArray: arrayOrObservableArray,\n  arrayOrObservableArrayOf: arrayOrObservableArrayOf,\n  objectOrObservableObject: objectOrObservableObject\n});\n\nfunction isStateless(component) {\n  // `function() {}` has prototype, but `() => {}` doesn't\n  // `() => {}` via Babel has prototype too.\n  return !(component.prototype && component.prototype.render);\n}\nvar symbolId = 0;\nfunction newSymbol(name) {\n  if (typeof Symbol === \"function\") {\n    return Symbol(name);\n  }\n\n  var symbol = \"__$mobx-react \".concat(name, \" (\").concat(symbolId, \")\");\n  symbolId++;\n  return symbol;\n}\nvar mobxMixins = newSymbol(\"patchMixins\");\nvar mobxPatchedDefinition = newSymbol(\"patchedDefinition\");\n\nfunction getMixins(target, methodName) {\n  var mixins = target[mobxMixins] = target[mobxMixins] || {};\n  var methodMixins = mixins[methodName] = mixins[methodName] || {};\n  methodMixins.locks = methodMixins.locks || 0;\n  methodMixins.methods = methodMixins.methods || [];\n  return methodMixins;\n}\n\nfunction wrapper(realMethod, mixins) {\n  var _this = this;\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  // locks are used to ensure that mixins are invoked only once per invocation, even on recursive calls\n  mixins.locks++;\n\n  try {\n    var retVal;\n\n    if (realMethod !== undefined && realMethod !== null) {\n      retVal = realMethod.apply(this, args);\n    }\n\n    return retVal;\n  } finally {\n    mixins.locks--;\n\n    if (mixins.locks === 0) {\n      mixins.methods.forEach(function (mx) {\n        mx.apply(_this, args);\n      });\n    }\n  }\n}\n\nfunction wrapFunction(realMethod, mixins) {\n  var fn = function fn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    wrapper.call.apply(wrapper, [this, realMethod, mixins].concat(args));\n  };\n\n  return fn;\n}\n\nfunction patch(target, methodName) {\n  var mixins = getMixins(target, methodName);\n\n  for (var _len3 = arguments.length, mixinMethods = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n    mixinMethods[_key3 - 2] = arguments[_key3];\n  }\n\n  for (var _i = 0; _i < mixinMethods.length; _i++) {\n    var mixinMethod = mixinMethods[_i];\n\n    if (mixins.methods.indexOf(mixinMethod) < 0) {\n      mixins.methods.push(mixinMethod);\n    }\n  }\n\n  var oldDefinition = Object.getOwnPropertyDescriptor(target, methodName);\n\n  if (oldDefinition && oldDefinition[mobxPatchedDefinition]) {\n    // already patched definition, do not repatch\n    return;\n  }\n\n  var originalMethod = target[methodName];\n  var newDefinition = createDefinition(target, methodName, oldDefinition ? oldDefinition.enumerable : undefined, mixins, originalMethod);\n  Object.defineProperty(target, methodName, newDefinition);\n}\n\nfunction createDefinition(target, methodName, enumerable, mixins, originalMethod) {\n  var _ref;\n\n  var wrappedFunc = wrapFunction(originalMethod, mixins);\n  return _ref = {}, _defineProperty(_ref, mobxPatchedDefinition, true), _defineProperty(_ref, \"get\", function get() {\n    return wrappedFunc;\n  }), _defineProperty(_ref, \"set\", function set(value) {\n    if (this === target) {\n      wrappedFunc = wrapFunction(value, mixins);\n    } else {\n      // when it is an instance of the prototype/a child prototype patch that particular case again separately\n      // since we need to store separate values depending on wether it is the actual instance, the prototype, etc\n      // e.g. the method for super might not be the same as the method for the prototype which might be not the same\n      // as the method for the instance\n      var newDefinition = createDefinition(this, methodName, enumerable, mixins, value);\n      Object.defineProperty(this, methodName, newDefinition);\n    }\n  }), _defineProperty(_ref, \"configurable\", true), _defineProperty(_ref, \"enumerable\", enumerable), _ref;\n}\n\nvar injectorContextTypes = {\n  mobxStores: objectOrObservableObject\n};\nObject.seal(injectorContextTypes);\nvar proxiedInjectorProps = {\n  contextTypes: {\n    get: function get() {\n      return injectorContextTypes;\n    },\n    set: function set(_) {\n      console.warn(\"Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`\");\n    },\n    configurable: true,\n    enumerable: false\n  },\n  isMobxInjector: {\n    value: true,\n    writable: true,\n    configurable: true,\n    enumerable: true\n  }\n  /**\r\n   * Store Injection\r\n   */\n\n};\n\nfunction createStoreInjector(grabStoresFn, component, injectNames) {\n  var displayName = \"inject-\" + (component.displayName || component.name || component.constructor && component.constructor.name || \"Unknown\");\n  if (injectNames) displayName += \"-with-\" + injectNames;\n\n  var Injector =\n  /*#__PURE__*/\n  function (_Component) {\n    _inherits(Injector, _Component);\n\n    function Injector() {\n      var _getPrototypeOf2;\n\n      var _this;\n\n      _classCallCheck(this, Injector);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Injector)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n      _this.storeRef = function (instance) {\n        _this.wrappedInstance = instance;\n      };\n\n      return _this;\n    }\n\n    _createClass(Injector, [{\n      key: \"render\",\n      value: function render() {\n        // Optimization: it might be more efficient to apply the mapper function *outside* the render method\n        // (if the mapper is a function), that could avoid expensive(?) re-rendering of the injector component\n        // See this test: 'using a custom injector is not too reactive' in inject.js\n        var newProps = {};\n\n        for (var key in this.props) {\n          if (this.props.hasOwnProperty(key)) {\n            newProps[key] = this.props[key];\n          }\n        }\n\n        var additionalProps = grabStoresFn(this.context.mobxStores || {}, newProps, this.context) || {};\n\n        for (var _key2 in additionalProps) {\n          newProps[_key2] = additionalProps[_key2];\n        }\n\n        if (!isStateless(component)) {\n          newProps.ref = this.storeRef;\n        }\n\n        return Object(react__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(component, newProps);\n      }\n    }]);\n\n    return Injector;\n  }(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]); // Static fields from component should be visible on the generated Injector\n\n\n  Injector.displayName = displayName;\n  hoistNonReactStatics_cjs(Injector, component);\n  Injector.wrappedComponent = component;\n  Object.defineProperties(Injector, proxiedInjectorProps);\n  return Injector;\n}\n\nfunction grabStoresByName(storeNames) {\n  return function (baseStores, nextProps) {\n    storeNames.forEach(function (storeName) {\n      if (storeName in nextProps // prefer props over stores\n      ) return;\n      if (!(storeName in baseStores)) throw new Error(\"MobX injector: Store '\" + storeName + \"' is not available! Make sure it is provided by some Provider\");\n      nextProps[storeName] = baseStores[storeName];\n    });\n    return nextProps;\n  };\n}\n/**\r\n * higher order component that injects stores to a child.\r\n * takes either a varargs list of strings, which are stores read from the context,\r\n * or a function that manually maps the available stores from the context to props:\r\n * storesToProps(mobxStores, props, context) => newProps\r\n */\n\n\nfunction inject()\n/* fn(stores, nextProps) or ...storeNames */\n{\n  var grabStoresFn;\n\n  if (typeof arguments[0] === \"function\") {\n    grabStoresFn = arguments[0];\n    return function (componentClass) {\n      var injected = createStoreInjector(grabStoresFn, componentClass);\n      injected.isMobxInjector = false; // supress warning\n      // mark the Injector as observer, to make it react to expressions in `grabStoresFn`,\n      // see #111\n\n      injected = observer(injected);\n      injected.isMobxInjector = true; // restore warning\n\n      return injected;\n    };\n  } else {\n    var storeNames = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      storeNames[i] = arguments[i];\n    }\n\n    grabStoresFn = grabStoresByName(storeNames);\n    return function (componentClass) {\n      return createStoreInjector(grabStoresFn, componentClass, storeNames.join(\"-\"));\n    };\n  }\n}\n\nvar mobxAdminProperty = mobx__WEBPACK_IMPORTED_MODULE_0__[\"$mobx\"] || \"$mobx\";\nvar mobxIsUnmounted = newSymbol(\"isUnmounted\");\n/**\r\n * dev tool support\r\n */\n\nvar isDevtoolsEnabled = false;\nvar isUsingStaticRendering = false;\nvar warnedAboutObserverInjectDeprecation = false; // WeakMap<Node, Object>;\n\nvar componentByNodeRegistry = typeof WeakMap !== \"undefined\" ? new WeakMap() : undefined;\nvar renderReporter = new EventEmitter();\nvar skipRenderKey = newSymbol(\"skipRender\");\nvar isForcingUpdateKey = newSymbol(\"isForcingUpdate\"); // Using react-is had some issues (and operates on elements, not on types), see #608 / #609\n\nvar ReactForwardRefSymbol = typeof react__WEBPACK_IMPORTED_MODULE_1__[\"forwardRef\"] === \"function\" && Object(react__WEBPACK_IMPORTED_MODULE_1__[\"forwardRef\"])(function (_props, _ref) {})[\"$$typeof\"];\n/**\r\n * Helper to set `prop` to `this` as non-enumerable (hidden prop)\r\n * @param target\r\n * @param prop\r\n * @param value\r\n */\n\nfunction setHiddenProp(target, prop, value) {\n  if (!Object.hasOwnProperty.call(target, prop)) {\n    Object.defineProperty(target, prop, {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: value\n    });\n  } else {\n    target[prop] = value;\n  }\n}\n\nfunction findDOMNode$2(component) {\n  if (react_dom__WEBPACK_IMPORTED_MODULE_2__[\"findDOMNode\"]) {\n    try {\n      return Object(react_dom__WEBPACK_IMPORTED_MODULE_2__[\"findDOMNode\"])(component);\n    } catch (e) {\n      // findDOMNode will throw in react-test-renderer, see:\n      // See https://github.com/mobxjs/mobx-react/issues/216\n      // Is there a better heuristic?\n      return null;\n    }\n  }\n\n  return null;\n}\n\nfunction reportRendering(component) {\n  var node = findDOMNode$2(component);\n  if (node && componentByNodeRegistry) componentByNodeRegistry.set(node, component);\n  renderReporter.emit({\n    event: \"render\",\n    renderTime: component.__$mobRenderEnd - component.__$mobRenderStart,\n    totalTime: Date.now() - component.__$mobRenderStart,\n    component: component,\n    node: node\n  });\n}\n\nfunction trackComponents() {\n  if (typeof WeakMap === \"undefined\") throw new Error(\"[mobx-react] tracking components is not supported in this browser.\");\n  if (!isDevtoolsEnabled) isDevtoolsEnabled = true;\n}\nfunction useStaticRendering(useStaticRendering) {\n  isUsingStaticRendering = useStaticRendering;\n}\n/**\r\n * Errors reporter\r\n */\n\nvar errorsReporter = new EventEmitter();\n/**\r\n * Utilities\r\n */\n\nfunction patch$1(target, funcName) {\n  patch(target, funcName, reactiveMixin[funcName]);\n}\n\nfunction shallowEqual(objA, objB) {\n  //From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n  if (is(objA, objB)) return true;\n\n  if (_typeof(objA) !== \"object\" || objA === null || _typeof(objB) !== \"object\" || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction is(x, y) {\n  // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction makeComponentReactive(render) {\n  var _this2 = this;\n\n  if (isUsingStaticRendering === true) return render.call(this);\n\n  function reactiveRender() {\n    var _this = this;\n\n    isRenderingPending = false;\n    var exception = undefined;\n    var rendering = undefined;\n    reaction.track(function () {\n      if (isDevtoolsEnabled) {\n        _this.__$mobRenderStart = Date.now();\n      }\n\n      try {\n        rendering = Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"_allowStateChanges\"])(false, baseRender);\n      } catch (e) {\n        exception = e;\n      }\n\n      if (isDevtoolsEnabled) {\n        _this.__$mobRenderEnd = Date.now();\n      }\n    });\n\n    if (exception) {\n      errorsReporter.emit(exception);\n      throw exception;\n    }\n\n    return rendering;\n  } // Generate friendly name for debugging\n\n\n  var initialName = this.displayName || this.name || this.constructor && (this.constructor.displayName || this.constructor.name) || \"<component>\";\n  var rootNodeID = this._reactInternalInstance && this._reactInternalInstance._rootNodeID || this._reactInternalInstance && this._reactInternalInstance._debugID || this._reactInternalFiber && this._reactInternalFiber._debugID;\n  /**\r\n   * If props are shallowly modified, react will render anyway,\r\n   * so atom.reportChanged() should not result in yet another re-render\r\n   */\n\n  setHiddenProp(this, skipRenderKey, false);\n  /**\r\n   * forceUpdate will re-assign this.props. We don't want that to cause a loop,\r\n   * so detect these changes\r\n   */\n\n  setHiddenProp(this, isForcingUpdateKey, false); // wire up reactive render\n\n  var baseRender = render.bind(this);\n  var isRenderingPending = false;\n  var reaction = new mobx__WEBPACK_IMPORTED_MODULE_0__[\"Reaction\"](\"\".concat(initialName, \"#\").concat(rootNodeID, \".render()\"), function () {\n    if (!isRenderingPending) {\n      // N.B. Getting here *before mounting* means that a component constructor has side effects (see the relevant test in misc.js)\n      // This unidiomatic React usage but React will correctly warn about this so we continue as usual\n      // See #85 / Pull #44\n      isRenderingPending = true;\n      if (typeof _this2.componentWillReact === \"function\") _this2.componentWillReact(); // TODO: wrap in action?\n\n      if (_this2[mobxIsUnmounted] !== true) {\n        // If we are unmounted at this point, componentWillReact() had a side effect causing the component to unmounted\n        // TODO: remove this check? Then react will properly warn about the fact that this should not happen? See #73\n        // However, people also claim this might happen during unit tests..\n        var hasError = true;\n\n        try {\n          setHiddenProp(_this2, isForcingUpdateKey, true);\n          if (!_this2[skipRenderKey]) react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"].prototype.forceUpdate.call(_this2);\n          hasError = false;\n        } finally {\n          setHiddenProp(_this2, isForcingUpdateKey, false);\n          if (hasError) reaction.dispose();\n        }\n      }\n    }\n  });\n  reaction.reactComponent = this;\n  reactiveRender[mobxAdminProperty] = reaction;\n  this.render = reactiveRender;\n  return reactiveRender.call(this);\n}\n/**\r\n * ReactiveMixin\r\n */\n\n\nvar reactiveMixin = {\n  componentWillUnmount: function componentWillUnmount() {\n    if (isUsingStaticRendering === true) return;\n    this.render[mobxAdminProperty] && this.render[mobxAdminProperty].dispose();\n    this[mobxIsUnmounted] = true;\n\n    if (isDevtoolsEnabled) {\n      var node = findDOMNode$2(this);\n\n      if (node && componentByNodeRegistry) {\n        componentByNodeRegistry.delete(node);\n      }\n\n      renderReporter.emit({\n        event: \"destroy\",\n        component: this,\n        node: node\n      });\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    if (isDevtoolsEnabled) {\n      reportRendering(this);\n    }\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    if (isDevtoolsEnabled) {\n      reportRendering(this);\n    }\n  },\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    if (isUsingStaticRendering) {\n      console.warn(\"[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side.\");\n    } // update on any state changes (as is the default)\n\n\n    if (this.state !== nextState) {\n      return true;\n    } // update if props are shallowly not equal, inspired by PureRenderMixin\n    // we could return just 'false' here, and avoid the `skipRender` checks etc\n    // however, it is nicer if lifecycle events are triggered like usually,\n    // so we return true here if props are shallowly modified.\n\n\n    return !shallowEqual(this.props, nextProps);\n  }\n};\n\nfunction makeObservableProp(target, propName) {\n  var valueHolderKey = newSymbol(\"reactProp_\".concat(propName, \"_valueHolder\"));\n  var atomHolderKey = newSymbol(\"reactProp_\".concat(propName, \"_atomHolder\"));\n\n  function getAtom() {\n    if (!this[atomHolderKey]) {\n      setHiddenProp(this, atomHolderKey, Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"createAtom\"])(\"reactive \" + propName));\n    }\n\n    return this[atomHolderKey];\n  }\n\n  Object.defineProperty(target, propName, {\n    configurable: true,\n    enumerable: true,\n    get: function get() {\n      getAtom.call(this).reportObserved();\n      return this[valueHolderKey];\n    },\n    set: function set(v) {\n      if (!this[isForcingUpdateKey] && !shallowEqual(this[valueHolderKey], v)) {\n        setHiddenProp(this, valueHolderKey, v);\n        setHiddenProp(this, skipRenderKey, true);\n        getAtom.call(this).reportChanged();\n        setHiddenProp(this, skipRenderKey, false);\n      } else {\n        setHiddenProp(this, valueHolderKey, v);\n      }\n    }\n  });\n}\n/**\r\n * Observer function / decorator\r\n */\n\n\nfunction observer(arg1, arg2) {\n  if (typeof arg1 === \"string\") {\n    throw new Error(\"Store names should be provided as array\");\n  }\n\n  if (Array.isArray(arg1)) {\n    // TODO: remove in next major\n    // component needs stores\n    if (!warnedAboutObserverInjectDeprecation) {\n      warnedAboutObserverInjectDeprecation = true;\n      console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject(\"store1\", \"store2\") @observer ComponentClass` or `inject(\"store1\", \"store2\")(observer(componentClass))` instead of `@observer([\"store1\", \"store2\"]) ComponentClass`');\n    }\n\n    if (!arg2) {\n      // invoked as decorator\n      return function (componentClass) {\n        return observer(arg1, componentClass);\n      };\n    } else {\n      return inject.apply(null, arg1)(observer(arg2));\n    }\n  }\n\n  var componentClass = arg1;\n\n  if (componentClass.isMobxInjector === true) {\n    console.warn(\"Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'\");\n  }\n\n  if (componentClass.__proto__ === react__WEBPACK_IMPORTED_MODULE_1__[\"PureComponent\"]) {\n    console.warn(\"Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together\");\n  } // Unwrap forward refs into `<Observer>` component\n  // we need to unwrap the render, because it is the inner render that needs to be tracked,\n  // not the ForwardRef HoC\n\n\n  if (ReactForwardRefSymbol && componentClass[\"$$typeof\"] === ReactForwardRefSymbol) {\n    var _baseRender = componentClass.render;\n    if (typeof _baseRender !== \"function\") throw new Error(\"render property of ForwardRef was not a function\"); // TODO: do we need to hoist statics from baseRender to the forward ref?\n\n    return Object(react__WEBPACK_IMPORTED_MODULE_1__[\"forwardRef\"])(function ObserverForwardRef() {\n      var _arguments = arguments;\n      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Observer, null, function () {\n        return _baseRender.apply(undefined, _arguments);\n      });\n    });\n  } // Stateless function component:\n  // If it is function but doesn't seem to be a react class constructor,\n  // wrap it to a react class automatically\n\n\n  if (typeof componentClass === \"function\" && (!componentClass.prototype || !componentClass.prototype.render) && !componentClass.isReactClass && !react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"].isPrototypeOf(componentClass)) {\n    var _class, _temp;\n\n    var observerComponent = observer((_temp = _class =\n    /*#__PURE__*/\n    function (_Component) {\n      _inherits(_class, _Component);\n\n      function _class() {\n        _classCallCheck(this, _class);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(_class).apply(this, arguments));\n      }\n\n      _createClass(_class, [{\n        key: \"render\",\n        value: function render() {\n          return componentClass.call(this, this.props, this.context);\n        }\n      }]);\n\n      return _class;\n    }(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]), _class.displayName = componentClass.displayName || componentClass.name, _class.contextTypes = componentClass.contextTypes, _class.propTypes = componentClass.propTypes, _class.defaultProps = componentClass.defaultProps, _temp));\n    hoistNonReactStatics_cjs(observerComponent, componentClass);\n    return observerComponent;\n  }\n\n  if (!componentClass) {\n    throw new Error(\"Please pass a valid component to 'observer'\");\n  }\n\n  var target = componentClass.prototype || componentClass;\n  mixinLifecycleEvents(target);\n  componentClass.isMobXReactObserver = true;\n  makeObservableProp(target, \"props\");\n  makeObservableProp(target, \"state\");\n  var baseRender = target.render;\n\n  target.render = function () {\n    return makeComponentReactive.call(this, baseRender);\n  };\n\n  return componentClass;\n}\n\nfunction mixinLifecycleEvents(target) {\n  [\"componentDidMount\", \"componentWillUnmount\", \"componentDidUpdate\"].forEach(function (funcName) {\n    patch$1(target, funcName);\n  });\n\n  if (!target.shouldComponentUpdate) {\n    target.shouldComponentUpdate = reactiveMixin.shouldComponentUpdate;\n  } else {\n    if (target.shouldComponentUpdate !== reactiveMixin.shouldComponentUpdate) {\n      // TODO: make throw in next major\n      console.warn(\"Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react.\");\n    }\n  }\n}\n\nvar Observer = observer(function (_ref2) {\n  var children = _ref2.children,\n      observerInject = _ref2.inject,\n      render = _ref2.render;\n  var component = children || render;\n\n  if (typeof component === \"undefined\") {\n    return null;\n  }\n\n  if (!observerInject) {\n    return component();\n  } // TODO: remove in next major\n\n\n  console.warn(\"<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead\");\n  var InjectComponent = inject(observerInject)(component);\n  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(InjectComponent, null);\n});\nObserver.displayName = \"Observer\";\n\nvar ObserverPropsCheck = function ObserverPropsCheck(props, key, componentName, location, propFullName) {\n  var extraKey = key === \"children\" ? \"render\" : \"children\";\n\n  if (typeof props[key] === \"function\" && typeof props[extraKey] === \"function\") {\n    return new Error(\"Invalid prop,do not use children and render in the same time in`\" + componentName);\n  }\n\n  if (typeof props[key] === \"function\" || typeof props[extraKey] === \"function\") {\n    return;\n  }\n\n  return new Error(\"Invalid prop `\" + propFullName + \"` of type `\" + _typeof(props[key]) + \"` supplied to\" + \" `\" + componentName + \"`, expected `function`.\");\n};\n\nObserver.propTypes = {\n  render: ObserverPropsCheck,\n  children: ObserverPropsCheck\n};\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component$$1) {\n  var prototype = Component$$1.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component$$1.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component$$1;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component$$1.displayName || Component$$1.name;\n    var newApiName =\n      typeof Component$$1.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component$$1.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component$$1;\n}\n\nvar specialReactKeys = {\n  children: true,\n  key: true,\n  ref: true\n};\n\nvar Provider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Provider, _Component);\n\n  function Provider(props, context) {\n    var _this;\n\n    _classCallCheck(this, Provider);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Provider).call(this, props, context));\n    _this.state = {};\n    copyStores(props, _this.state);\n    return _this;\n  }\n\n  _createClass(Provider, [{\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_1__[\"Children\"].only(this.props.children);\n    }\n  }, {\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var stores = {}; // inherit stores\n\n      copyStores(this.context.mobxStores, stores); // add own stores\n\n      copyStores(this.props, stores);\n      return {\n        mobxStores: stores\n      };\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (!nextProps) return null;\n      if (!prevState) return nextProps; // Maybe this warning is too aggressive?\n\n      if (Object.keys(nextProps).filter(validStoreName).length !== Object.keys(prevState).filter(validStoreName).length) console.warn(\"MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children\");\n      if (!nextProps.suppressChangedStoreWarning) for (var key in nextProps) {\n        if (validStoreName(key) && prevState[key] !== nextProps[key]) console.warn(\"MobX Provider: Provided store '\" + key + \"' has changed. Please avoid replacing stores as the change might not propagate to all children\");\n      }\n      return nextProps;\n    }\n  }]);\n\n  return Provider;\n}(react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]);\n\nProvider.contextTypes = {\n  mobxStores: objectOrObservableObject\n};\nProvider.childContextTypes = {\n  mobxStores: objectOrObservableObject.isRequired\n};\n\nfunction copyStores(from, to) {\n  if (!from) return;\n\n  for (var key in from) {\n    if (validStoreName(key)) to[key] = from[key];\n  }\n}\n\nfunction validStoreName(key) {\n  return !specialReactKeys[key] && key !== \"suppressChangedStoreWarning\";\n} // TODO: kill in next major\n\n\npolyfill(Provider);\n\nvar storeKey = newSymbol(\"disposeOnUnmount\");\n\nfunction runDisposersOnWillUnmount() {\n  var _this = this;\n\n  if (!this[storeKey]) {\n    // when disposeOnUnmount is only set to some instances of a component it will still patch the prototype\n    return;\n  }\n\n  this[storeKey].forEach(function (propKeyOrFunction) {\n    var prop = typeof propKeyOrFunction === \"string\" ? _this[propKeyOrFunction] : propKeyOrFunction;\n\n    if (prop !== undefined && prop !== null) {\n      if (typeof prop !== \"function\") {\n        throw new Error(\"[mobx-react] disposeOnUnmount only works on functions such as disposers returned by reactions, autorun, etc.\");\n      }\n\n      prop();\n    }\n  });\n  this[storeKey] = [];\n}\n\nfunction disposeOnUnmount(target, propertyKeyOrFunction) {\n  if (Array.isArray(propertyKeyOrFunction)) {\n    return propertyKeyOrFunction.map(function (fn) {\n      return disposeOnUnmount(target, fn);\n    });\n  }\n\n  if (!target instanceof react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]) {\n    throw new Error(\"[mobx-react] disposeOnUnmount only works on class based React components.\");\n  }\n\n  if (typeof propertyKeyOrFunction !== \"string\" && typeof propertyKeyOrFunction !== \"function\") {\n    throw new Error(\"[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.\");\n  } // add property key / function we want run (disposed) to the store\n\n\n  var componentWasAlreadyModified = !!target[storeKey];\n  var store = target[storeKey] || (target[storeKey] = []);\n  store.push(propertyKeyOrFunction); // tweak the component class componentWillUnmount if not done already\n\n  if (!componentWasAlreadyModified) {\n    patch(target, \"componentWillUnmount\", runDisposersOnWillUnmount);\n  } // return the disposer as is if invoked as a non decorator\n\n\n  if (typeof propertyKeyOrFunction !== \"string\") {\n    return propertyKeyOrFunction;\n  }\n}\n\nif (!react__WEBPACK_IMPORTED_MODULE_1__[\"Component\"]) throw new Error(\"mobx-react requires React to be available\");\nif (!mobx__WEBPACK_IMPORTED_MODULE_0__[\"spy\"]) throw new Error(\"mobx-react requires mobx to be available\");\nif (typeof react_dom__WEBPACK_IMPORTED_MODULE_2__[\"unstable_batchedUpdates\"] === \"function\") Object(mobx__WEBPACK_IMPORTED_MODULE_0__[\"configure\"])({\n  reactionScheduler: react_dom__WEBPACK_IMPORTED_MODULE_2__[\"unstable_batchedUpdates\"]\n});\nvar onError = function onError(fn) {\n  return errorsReporter.on(fn);\n};\n\nif ((typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ === \"undefined\" ? \"undefined\" : _typeof(__MOBX_DEVTOOLS_GLOBAL_HOOK__)) === \"object\") {\n  var mobx = {\n    spy: mobx__WEBPACK_IMPORTED_MODULE_0__[\"spy\"],\n    extras: {\n      getDebugName: mobx__WEBPACK_IMPORTED_MODULE_0__[\"getDebugName\"]\n    }\n  };\n  var mobxReact = {\n    renderReporter: renderReporter,\n    componentByNodeRegistry: componentByNodeRegistry,\n    componentByNodeRegistery: componentByNodeRegistry,\n    trackComponents: trackComponents\n  };\n\n  __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(mobxReact, mobx);\n}\n\n\n\n\n/***/ }),\n\n/***/ \"qiT/\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[\"gHrF\",1,2,11,14,13,3,5,6,7,0]]]);"}
{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Dialog from '~/components/Dialog/Dialog';\nimport './prompt.scss';\nexport default function prompt() {\n  return _prompt.apply(this, arguments);\n}\n\nfunction _prompt() {\n  _prompt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var text,\n        _ref,\n        _ref$defaultValue,\n        defaultValue,\n        _ref$title,\n        title,\n        container,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            text = _args.length > 0 && _args[0] !== undefined ? _args[0] : '';\n            _ref = _args.length > 1 && _args[1] !== undefined ? _args[1] : {}, _ref$defaultValue = _ref.defaultValue, defaultValue = _ref$defaultValue === void 0 ? '' : _ref$defaultValue, _ref$title = _ref.title, title = _ref$title === void 0 ? 'Prompt' : _ref$title;\n            container = document.createElement('div');\n            document.body.appendChild(container);\n            return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n              var inputBox = /*#__PURE__*/React.createRef();\n\n              var handleCancel = function handleCancel() {\n                return reject();\n              };\n\n              var handleOk = function handleOk() {\n                return resolve(inputBox.current.value);\n              };\n\n              var handleKeyDown = function handleKeyDown(event) {\n                switch (event.key) {\n                  case 'Enter':\n                    return handleOk();\n\n                  case 'Escape':\n                    return handleCancel();\n\n                  default:\n                    return undefined;\n                }\n              };\n\n              ReactDOM.render( /*#__PURE__*/_jsxs(Dialog, {\n                className: \"prompt\",\n                modal: true,\n                onCancel: handleCancel,\n                onOk: handleOk,\n                title: title,\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"text\",\n                  children: text\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"input-wrapper\",\n                  children: /*#__PURE__*/_jsx(\"input\", {\n                    defaultValue: defaultValue,\n                    onKeyDown: handleKeyDown,\n                    ref: inputBox,\n                    type: \"text\"\n                  })\n                })]\n              }), container, function () {\n                inputBox.current.select();\n                inputBox.current.focus();\n              });\n            })[\"finally\"](function () {\n              document.body.removeChild(container);\n            }));\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _prompt.apply(this, arguments);\n}","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, Fragment } from 'react';\nimport CreateMenu from '~/components/CreateMenu/CreateMenu';\nimport FlyoutMenu, { MenuItem } from '~/components/FlyoutMenu/FlyoutMenu';\nimport { Link } from '~/components/Link/Link';\nimport { Application } from '~/contexts/Application';\nimport LogOutIcon from '~/icons/logout.svg';\nimport './UserMenu.scss';\nexport default class UserMenu extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"renderAnonymous\", () => {\n      const {\n        asPath,\n        query\n      } = this.context.router;\n      const redirectTo = query.redirectTo || asPath;\n      return /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(Link, {\n          type: \"login\",\n          query: {\n            redirectTo\n          },\n          children: \"Log In\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"divider\"\n        }), /*#__PURE__*/_jsx(Link, {\n          type: \"signup\",\n          children: \"Sign Up\"\n        })]\n      });\n    });\n\n    _defineProperty(this, \"renderLoggedIn\", () => {\n      const {\n        username\n      } = this.context.user;\n      const MenuType = this.context.campaign ? CreateMenu : FlyoutMenu;\n      return /*#__PURE__*/_jsxs(Fragment, {\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"username\",\n          children: [/*#__PURE__*/_jsx(\"span\", {\n            children: \"logged in as\"\n          }), /*#__PURE__*/_jsx(Link, {\n            type: \"user\",\n            slug: username,\n            children: username\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"divider\"\n        }), /*#__PURE__*/_jsx(MenuType, {\n          children: /*#__PURE__*/_jsxs(MenuItem, {\n            className: \"logoff\",\n            onClick: this.context.logOff,\n            children: [/*#__PURE__*/_jsx(LogOutIcon, {}), \" Log Out\"]\n          })\n        })]\n      });\n    });\n\n    _defineProperty(this, \"render\", () => {\n      const {\n        user\n      } = this.context;\n      return /*#__PURE__*/_jsx(\"div\", {\n        className: \"user-menu\",\n        children: !user || user.anonymous ? this.renderAnonymous() : this.renderLoggedIn()\n      });\n    });\n  }\n\n}\n\n_defineProperty(UserMenu, \"contextType\", Application);","map":null,"metadata":{},"sourceType":"module"}
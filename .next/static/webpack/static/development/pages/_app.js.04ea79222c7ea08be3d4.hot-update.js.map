{"version":3,"file":"static/webpack/static/development/pages/_app.js.04ea79222c7ea08be3d4.hot-update.js","sources":["webpack:///./components/Layout/Layout.js"],"sourcesContent":["import Head from 'next/head'\nimport React, { Component } from 'react'\nimport Header from '@/components/Header'\nimport Navigation from '@/components/Navigation'\nimport Application from '@/contexts/Application'\nimport debounce from '@/utilities/debounce'\nimport './Layout.scss'\n\nexport default class Layout extends Component {\n  static contextType = Application\n\n  state = {\n    expandNavigation: false,\n    size: 'large',\n  }\n\n  panel = React.createRef()\n\n  handleWindowResize = debounce(() => {\n    let size = 'large'\n    if (window.matchMedia('(min-width: 551px) and (max-width: 979px)').matches) {\n      size = 'medium'\n    } else if (window.matchMedia('(max-width: 550px)').matches) {\n      size = 'small'\n    }\n    if (size !== this.state.size) this.setState({ size })\n  }, 250)\n\n  componentDidMount() {\n    this.handleWindowResize()\n    window.addEventListener('resize', this.handleWindowResize)\n    window.addEventListener('mousedown', this.handleOutsideNavClick)\n  }\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleWindowResize)\n    window.removeEventListener('mousedown', this.handleOutsideNavClick)\n  }\n\n  collapseNavigation = () => {\n    this.setState({ expandNavigation: false })\n  }\n  handleOutsideNavClick = ({ target }) => {\n    if (this.state.expandNavigation && !this.panel.current.contains(target)) {\n      this.collapseNavigation()\n    }\n  }\n  handleToggleNavigation = () => {\n    this.setState({ expandNavigation: !this.state.expandNavigation })\n  }\n\n  render = () => {\n    const { className } = this.props\n    const { campaign, theme } = this.context\n    const { expandNavigation, size } = this.state\n    const title = campaign ? campaign.title : 'Unknown Campaign'\n    const classNames = [\n      'wiki layout',\n      className,\n      size,\n      expandNavigation ? 'expand-navigation' : 'collapse-navigation',\n    ].join(' ')\n\n    return <>\n      <Head>\n        <title>{title}</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link\n          key=\"content-font\"\n          href={`//fonts.googleapis.com/css?family=${theme.fontFamily}:400,400i,700,700i`}\n          rel=\"stylesheet\"\n        />\n      </Head>\n      <div className={classNames}>\n        <Header onNavigationIconClick={this.handleToggleNavigation} />\n        <div className=\"content\" ref={this.panel}>\n          <Navigation onItemClick={this.collapseNavigation} />\n          {this.props.children}\n        </div>\n      </div>\n    </>\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAGA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAWA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAOA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAMA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAKA;AACA;;;;;;AArDA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;;;;AA5BA;AACA;AADA;AACA;;;;;A","sourceRoot":""}
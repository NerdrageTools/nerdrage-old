{"version":3,"file":"static/webpack/static/development/pages/campaign.js.57979395c60df61993fb.hot-update.js","sources":["webpack:///./components/Participants/Participants.js"],"sourcesContent":["import React, { Component } from 'react'\nimport UserSearchBox from '@/components/SearchBox/UserSearchBox'\nimport './Participants.scss'\n\nconst addParticipants = (map, users, addition) => {\n  users.forEach(user => {\n    map.set(user._id, {\n      ...(map.get(user._id) || user),\n      ...addition,\n    })\n  })\n}\n\nexport default class Participants extends Component {\n  static defaultProps = {\n    className: '',\n    editors: [],\n    owners: [],\n    players: [],\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { editors, owners, players } = props\n    const map = new Map()\n    addParticipants(map, editors, { isEditor: true })\n    addParticipants(map, owners, { isOwner: true })\n    addParticipants(map, players, { isPlayer: true })\n\n    return {\n      ...state,\n      participants: Array.from(map.values()),\n    }\n  }\n\n  get participants() {\n    const uniqueBy = (array, key) => {\n      const map = new Map()\n      array.forEach(item => {\n        if (map.has(item[key])) { return }\n        map.set(item[key], item)\n      })\n      return Array.from(map.values())\n    }\n\n    return uniqueBy([\n      ...this.props.editors,\n      ...this.props.owners,\n      ...this.props.players,\n    ], '_id')\n  }\n\n  render = () => {\n    const { className } = this.props\n    return (\n      <div className={`participants ${className}`}>\n        <UserSearchBox />\n      </div>\n    )\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAsCA;AAAA;AAEA;AACA;AAAA;AAIA;AACA;;;;;;AAzBA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAKA;;;AA5BA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAEA;AAFA;AAIA;;;;AAnBA;AACA;AADA;AAEA;AACA;AACA;AACA;AAJA;AACA;;;;;A","sourceRoot":""}
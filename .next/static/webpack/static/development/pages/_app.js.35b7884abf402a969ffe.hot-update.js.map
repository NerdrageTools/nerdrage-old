{"version":3,"file":"static/webpack/static/development/pages/_app.js.35b7884abf402a969ffe.hot-update.js","sources":["webpack:///./components/Navigation/Navigation.js"],"sourcesContent":["import React, { Component } from 'react'\nimport { Scrollbars } from 'react-custom-scrollbars'\nimport ArticleLink from '@/components/ArticleLink'\nimport Application from '@/contexts/Application'\nimport noop from '@/utilities/noop'\nimport pluck from '@/utilities/pluck'\nimport './Navigation.scss'\n\nexport default class Navigation extends Component {\n  static contextType = Application\n  static defaultProps = {\n    items: [],\n    onItemClick: noop,\n    wrapperRef: noop,\n  }\n\n  renderList = (list = [], listTitle = '', type = 'article') => (\n    Boolean(list.length) && <>\n      <b>{listTitle}</b>\n      <ul className=\"favorites\">\n        {list.map(({ campaign = {}, slug, title }, key) => {\n          const { domain = '', title: cTitle = '' } = campaign\n          let text = title\n          if (type !== 'campaign' && domain && domain !== this.context.domain) {\n            text += ` (${cTitle || domain})`\n          }\n\n          return (\n            <li key={key}>\n              <ArticleLink\n                {...{ campaign, slug, type }}\n                active={this.context.domain === domain && this.context.router.asPath === `/${type}/${slug}`}\n                onClick={this.props.onItemClick}\n              >\n                {text}\n              </ArticleLink>\n            </li>\n          )\n        })}\n      </ul>\n    </>\n  )\n\n  render = () => {\n    const { campaign, user = {} } = this.context\n    const { favorites = [], sheets = [] } = user\n\n    if (!campaign) return null\n\n    const navigation = campaign.navigation.map(link => ({\n      ...link,\n      campaign: pluck(campaign, '_id', 'domain', 'title'),\n    }))\n    // eslint-disable-next-line no-shadow\n    const campaigns = (user.campaigns || []).map(campaign => ({ campaign, title: campaign.title }))\n\n    return (\n      <Scrollbars className=\"navigation\" autoHide universal>\n        <div className=\"content\" ref={this.props.wrapperRef}>\n          {this.renderList(navigation, campaign.title)}\n          {user && <>\n            {this.renderList(campaigns, 'My Campaigns', 'campaign')}\n            {this.renderList(favorites, 'My Favorites')}\n            {this.renderList(sheets, 'My Sheets', 'sheet')}\n          </>}\n        </div>\n      </Scrollbars>\n    )\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAQA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAHA;AASA;AAtBA;AACA;AA0BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAEA;AAFA;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAUA;AACA;;;;;AA7DA;AACA;AADA;AACA;AADA;AAGA;AACA;AACA;AAHA;AACA;;;;;A","sourceRoot":""}
{"version":3,"file":"static/webpack/static/development/pages/campaign.js.3f3cecbc44c357e35481.hot-update.js","sources":["webpack:///./components/Participants/Participants.js","webpack:///./utilities/compareBy.js"],"sourcesContent":["import React, { Component } from 'react'\nimport EditableList from '@/components/EditableList'\nimport UserSearchBox from '@/components/SearchBox/UserSearchBox'\nimport compareBy from '@/utilities/compareBy'\nimport './Participants.scss'\n\nconst addParticipants = (map, users, addition) => {\n  users.forEach(user => {\n    map.set(user._id, {\n      ...(map.get(user._id) || user),\n      ...addition,\n    })\n  })\n}\n\nexport default class Participants extends Component {\n  static defaultProps = {\n    className: '',\n    editors: [],\n    owners: [],\n    players: [],\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { editors, owners, players } = props\n    const map = new Map()\n    addParticipants(map, players, { isPlayer: true, level: 'player' })\n    addParticipants(map, editors, { isEditor: true, level: 'editor' })\n    addParticipants(map, owners, { isOwner: true, level: 'owner' })\n\n    return {\n      ...state,\n      participants: Array.from(map.values()).sort(compareBy('level')),\n    }\n  }\n\n  state = {\n    participants: [],\n  }\n\n  render = () => {\n    const { className } = this.props\n    const { participants } = this.state\n\n    return (\n      <div className={`participants ${className}`}>\n        <ul className=\"participant-list\">\n          {participants.map(user => (\n            <li className=\"row\" key={user._id}>\n              <div className=\"display\">\n                <span className=\"name\">{user.name}</span>\n                <span className=\"username\">{user.username}</span>\n              </div>\n              <EditableList\n                className=\"role\"\n                options={['player', 'editor', 'owner']}\n                defaultValue={user.level}\n              />\n            </li>\n          ))}\n        </ul>\n        <UserSearchBox className=\"add-user\" />\n      </div>\n    )\n  }\n}\n","export default (prop, reversed = false) => (objectA, objectB) => {\n  const a = String(objectA instanceof Map ? objectA.get(prop) : objectA[prop])\n  const b = String(objectB instanceof Map ? objectB.get(prop) : objectB[prop])\n\n  if (reversed) return b.localeCompare(a)\n  return a.localeCompare(b)\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAqBA;AACA;AADA;AACA;AAGA;AAAA;AAAA;AAIA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AAHA;AANA;AAcA;AAAA;AAGA;AACA;;;;;;AA1CA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AAFA;AAIA;;;;AAnBA;AACA;AADA;AAEA;AACA;AACA;AACA;AAJA;AACA;;;;;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AANA;;;;A","sourceRoot":""}
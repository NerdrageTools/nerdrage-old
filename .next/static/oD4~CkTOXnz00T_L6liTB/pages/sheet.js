(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+jVS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!1!==a)return a;if("undefined"!=typeof document){var e=document.createElement("div");(0,i.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),a=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else a=0;return a||0};var r,o=n("DWtB"),i=(r=o)&&r.__esModule?r:{default:r};var a=!1},"0Qvh":function(e,t,n){"use strict";var r=n("qOno");function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},"7/nG":function(e,t,n){(function(t){var r,o,i,a,s;e.exports=(r=n("ooxR"),o=n("NBqq"),i=n("mXGw"),a=n("xARA"),s=n("DNsF"),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="05fm")}({"+6pz":function(e,t,n){"use strict";t.name="ParenthesisNode",t.path="expression.node",t.factory=function(e,t,r,o){var i=r(n("K6lB"));function a(t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError('Node expected for parameter "content"');this.content=t}return a.prototype=new i,a.prototype.type="ParenthesisNode",a.prototype.isParenthesisNode=!0,a.prototype._compile=function(e,t){return this.content._compile(e,t)},a.prototype.getContent=function(){return this.content.getContent()},a.prototype.forEach=function(e){e(this.content,"content",this)},a.prototype.map=function(e){return new a(e(this.content,"content",this))},a.prototype.clone=function(){return new a(this.content)},a.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},a.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},a.fromJSON=function(e){return new a(e.content)},a.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},a.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},a}},"/z5F":function(e,t,n){"use strict";t.name="algorithm12",t.factory=function(e,t,n,r){var o=e.DenseMatrix;return function(e,t,n,i){var a=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=c[0],h=c[1],d=n;"string"==typeof l&&(p=l,t=r.convert(t,p),d=r.find(n,[p,p]));for(var m=[],y=new o({data:m,size:[f,h],datatype:p}),v=[],g=[],b=0;b<h;b++){for(var w=b+1,x=u[b],S=u[b+1],E=x;E<S;E++){var O=s[E];v[O]=a[E],g[O]=w}for(var N=0;N<f;N++)0===b&&(m[N]=[]),g[N]===w?m[N][b]=i?d(t,v[N]):d(v[N],t):m[N][b]=i?d(t,0):d(0,t)}return y}}},"05fm":function(e,t,n){"use strict";n.r(t),n("H3yI");var r=n("MVZn"),o=n.n(r),i=n("QILm"),a=n.n(i),s=n("lSNA"),u=n.n(s),c=n("YeEv"),l=function(){},p=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e,t,n){return n.indexOf(e)===t})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return c.types.model({}).volatile(function(){return{isICategorizable:!0}}).views(function(t){function n(){if(!t.name)return[];var e=t.name.split(":");return e.pop(),p(e.map(function(e){return e.trim()}).filter(Boolean)).sort()}var r=t.name,o=n();return{get categories(){return t.name&&t.name!==r?(r=t.name,o=n()):o},get categoryValue(){return e(t)}}})},h=n("cDf5"),d=n.n(h),m=n("f66B"),y=n.n(m),v=n("VBo9"),g=/([a-z0-9-_]+)(?![["'\].])*/gi,b=function(e){return"string"!=typeof e?null:e.match(g)},w=function(e,t){if("string"==typeof t){var n=b(t);if(Array.isArray(n)){var r=n.pop(),o=n.reduce(function(e,t){return e[t]||{}},e);return o?o[r]:void 0}}},x=c.types.model("IEditable",{}).volatile(function(){return{isIEditable:!0,savedVersion:{}}}).views(function(e){return{get isDirty(){return!y()(e.toJSON(),e.savedVersion)}}}).actions(function(e){return{afterCreate:function(){e.savedVersion=e.toJSON()},isPathDirty:function(t){var n=w(e.toJSON(),t),r=w(e.savedVersion,t);return!y()(n,r)},markAsClean:function(){e.savedVersion=e.toJSON(),Object.keys(e.savedVersion).forEach(function(t){var n=e[t];n&&(n.isIEditable?n.markAsClean():Object(v.isObservableArray)(n)&&n.forEach(function(e){return e&&e.isIEditable&&e.markAsClean()}))})},reset:function(){Object.assign(e,e.savedVersion)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;"string"==typeof t&&void 0!==n?void 0!==e[t]?e[t]=n:function(e,t,n){var r=b(t),o=r.pop(),i=r.reduce(function(e,t){return e[t]||{}},e);i&&i.isIEditable?i.set(o,n):i[o]=n}(e,t,n):"object"===d()(t)&&void 0===n&&Object.assign(e,t)}}}),S=c.types.model({}).volatile(function(){return{hash:""}}).actions(function(e){return{afterCreate:function(){e.hash=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=String(e),r=0;return n.split("").forEach(function(e){r=(r<<5)-r+e.charCodeAt(0),r&=r}),Math.abs(r).toString(t)}(Math.random().toString())}}}),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;if(!Object(c.hasParent)(e))return null;for(var n=Object(c.getParent)(e);n;){if(t(n))return n;if(!Object(c.hasParent)(n))return null;n=Object(c.getParent)(n)}return null},O=n("yZWr"),N=n.n(O).a.create();N.import(n("Wbaz")),N.import(n("lFTT")),N.import(n("NEdZ")),N.import(n("EjzI")),N.import(n("rVKH")),N.import(n("QllX")),N.import(n("gV/b")),N.import(n("NU+P")),N.import(n("CaZ0")),N.import(n("N5iU")),N.import(n("O1N0")),N.import(n("BSwV")),N.import(n("itDh")),N.import(n("FC7u")),N.import(n("I5O3")),N.import(n("Z+cb")),N.import(n("R4H5")),N.import(n("ohYX")),N.import(n("ZS3Q"));var T=N,A=function(e){var t=[],n=[];return T.parse(e).traverse(function(e){e.fn&&t.push(e.fn.name),"SymbolNode"!==e.type||n.includes(e.name)||t.includes(e.name)||n.push(e.name)}),n},_=c.types.compose(S,f(function(e){return e.modifiedValue()}),x,c.types.model({name:"New Attribute...",raw:c.types.optional(c.types.union(c.types.number,c.types.string),0)}).views(function(e){return{get character(){return E(e,function(e){return e.isCharacter})},get id(){return e.name.split(":").pop().trim().toLowerCase().replace(/[^a-z0-9]/gi,"")},get isComputed(){return"string"==typeof e.raw}}}).actions(function(e){var t=!1;return{effects:function(){return e.character?e.character.activeEffects().filter(function(t){return t.targetId===e.id}):[]},modifiedValue:function(){return(e.value()||0)+e.modifier()},modifier:function(){return T.sum(e.effects().map(function(e){return e.modifier}))},modifierText:function(){return e.effects().map(function(e){return"".concat(e.sourceName(),": ").concat(e.modifier)}).join(", ")},value:function(){if(!e.isComputed)return e.raw;if(null===e.character)return 0;if(t)return 0;t=!0;var n=0;try{var r=A(e.raw).reduce(function(t,n){var r=e.character.attributes.findBy("id",n);return Object.assign(t,u()({},n,r?r.modifiedValue():0))},{});n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{defaultSymbolValue:0},r=o()({},t);return A(e).forEach(function(e){void 0===r[e]&&(r[e]=n.defaultSymbolValue)}),T.eval(e,r)}(e.raw,r)}catch(e){n=0}return t=!1,n}}}).preProcessSnapshot(function(e){var t=e.value,n=a()(e,["value"]);return o()({},n,{raw:t})}).postProcessSnapshot(function(e){var t=e.raw,n=a()(e,["raw"]);return o()({},n,{value:t})})).named("Attribute"),C=c.types.compose(S,f(),x,c.types.model({name:"New Descriptor...",value:""})).named("Descriptor"),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c.types.model({values:c.types.array(e)}).views(function(e){return{get asArray(){return e.values.slice()},get first(){return e.length?e.at(0):void 0},get last(){return e.length?e.at(e.length-1):void 0},get length(){return e.values.length}}}).actions(function(t){return{at:function(e){return t.values[e]},clear:function(){return t.values.clear()},delete:function(e){t.values.replace(t.values.filter(function(t){return t!==e}))},deleteAt:function(e){t.values.replace(t.values.filter(function(t,n){return n!==e}))},every:function(e){return t.values.every(e)},filter:function(e){return t.values.filter(e)},find:function(e){return t.values.find(e)},findBy:function(e,n){return t.find(function(t){return t[e]===n})},findById:function(n){return e.identifierAttribute&&t.find(function(t){return t[e.identifierAttribute]===n})||null},forEach:function(e){return t.values.forEach(e)},includes:function(e,n){return t.values.includes(e,n)},indexOf:function(e){return t.values.indexOf(e)},insert:function(e,n){return t.splice(n,0,e)},map:function(e){return t.values.map(e)},pop:function(){return t.values.pop()},push:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.values.replace([].concat(t.values,n))},reduce:function(e,n){return t.values.reduce(e,n)},replace:function(e){return t.values.replace(e)},shift:function(){return t.values.shift()},slice:function(e,n){return t.values.slice(e,n)},some:function(e){return t.values.some(e)},sortBy:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";if(!["asc","desc"].includes(n))throw new TypeError('direction must be "asc" or "desc", got: "'.concat(n,'"'));var r=t.values.slice().sort(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o=String(n instanceof Map?n.get(e):n[e]),i=String(r instanceof Map?r.get(e):r[e]);return t?i.localeCompare(o):o.localeCompare(i)}}(e));return t.values.replace("desc"===n?r.reverse():r),t},splice:function(e,n,r){return t.values.splice(e,n,r)},toObject:function(e,n){return t.values.reduce(function(t,r){var i=r[e],a=void 0!==n?r[n]:r;return o()({},t,u()({},i,"function"==typeof a?a():a))},{})},unshift:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.values.replace([].concat(n,t.values))}}}).postProcessSnapshot(function(e){return e.values});return c.types.custom(o()({},t,{fromSnapshot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.create({values:e})},getValidationMessage:function(t){return t?(Object(v.isObservableArray)(t)||Array.isArray(t))&&t.every(function(t){return e.is(t)})?"":"Collection types must be assigned an array of values or null":""},isTargetType:function(e){return n.is(e)},name:t.name||"Collection"}))},M=c.types.compose(S,x,c.types.model({condition:"",modifier:0,targetId:""}).actions(function(e){return{afterAttach:function(){!e.targetId&&e.available().length&&(e.targetId=e.available().first.id)},available:function(){var t=e.character();return t?t.attributes:j(_).create([])},character:function(){return E(e,function(e){return e.isCharacter})},isApplicable:function(){var t=e.character();return Boolean(!e.condition||t&&t.conditions.includes(e.condition))},source:function(){return E(e,function(e){return e.name})||null},sourceName:function(){return e.source()?e.source().name:"Unknown"},target:function(){var t=e.character();return t?t.attributes.findBy("name",e.targetId):null}}})).named("Effect"),k=c.types.compose(S,f(),x,c.types.model({description:"",effects:j(M),equipped:!1,name:"New Item..."})).named("Item"),D=c.types.compose(S,f(),x,c.types.model({current:0,maximum:10,name:"New Resource..."})).named("Resource"),P=c.types.compose(S,f(function(e){return e.mastery}),x,c.types.model({mastery:1,name:"New Skill...",theory:0}).views(function(e){return{get isComplex(){return 0!==e.theory},get isSimple(){return 0===e.theory}}})).named("Skill"),I=c.types.compose(S,x,c.types.model({amount:0,resourceName:""}).views(function(e){return{get available(){return e.character?e.character.resources:j(D).create([])},get character(){return E(e,function(e){return e.isCharacter})}}}).actions(function(e){return{afterAttach:function(){!e.resourceName&&e.available.length&&(e.resourceName=e.available.first.name)},resource:function(){return e.character?e.character.resources.findBy("name",e.resourceName):null}}})).named("Cost"),R=c.types.compose(S,f(function(e){return e.level}),x,c.types.model({costs:j(I),description:"",effects:j(M),isActive:!1,level:0,name:"New Spell..."}).views(function(e){return{get character(){return E(e,function(e){return e.isCharacter})}}}).actions(function(e){return{cast:function(){e.isAffordable()&&e.costs.forEach(function(e){var t=e.resource();t.set({current:t.current-e.amount})})},isAffordable:function(){return!e.character||!e.costs.length||e.costs.every(function(e){return e.resource()&&e.resource().current>=e.amount})}}})).named("Spell"),z=c.types.compose(S,f(function(e){return e.value}),x,c.types.model("Trait",{effects:j(M),name:"New Trait...",value:0})).named("Trait"),V=c.types.compose(S,x,c.types.model({attributes:j(_),conditions:j(c.types.string),descriptors:j(C),experience:0,items:j(k),resources:j(D),skills:j(P),spells:j(R),traits:j(z)}).volatile(function(){return{isCharacter:!0}}).actions(function(e){return{activeEffects:function(){return e.effects().filter(function(e){return e&&e.isApplicable()})},availableConditions:function(){return e.effects().map(function(e){return e.condition}).concat(e.conditions.asArray).sort().filter(function(e,t,n){return!t||e!==n[t-1]}).filter(Boolean)},effects:function(){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;if(!t||!Array.isArray(t))throw new TypeError("cannot flatten non-Array value ".concat(JSON.stringify(t)));return t.reduce(function(t,r){return n>1&&r&&Array.isArray(r)?t.concat(e(r,n-1)):t.concat(r)},[])}([e.traits.filter(Boolean).map(function(e){return e.effects.values}),e.spells.filter(function(e){return e.isActive}).map(function(e){return e.effects.values}),e.items.filter(function(e){return e.equipped}).map(function(e){return e.effects.values})]).filter(Boolean)}}})).named("Character"),B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return c.types.optional(c.types.refinement(c.types.number,function(n){return void 0===n||n>=e&&n<=t}),n)},F=c.types.compose(S,x,c.types.model({categorize:!1,children:j(c.types.late(function(){return F})),colSpan:B(1,4,1),columns:B(1,4,1),filter:c.types.maybe(c.types.string),sortOption:c.types.maybe(c.types.number),title:c.types.union(c.types.maybe(c.types.string),c.types.literal(!1)),type:c.types.maybe(c.types.string)})).named("Layout"),L=F,H=n("pVnL"),U=n.n(H),W=n("lwsE"),K=n.n(W),X=n("W8MJ"),J=n.n(X),q=n("a1gu"),$=n.n(q),Y=n("Nsbk"),G=n.n(Y),Z=n("PJYZ"),Q=n.n(Z),ee=n("7W2i"),te=n.n(ee),ne=n("sGQ9"),re=n("cDcd"),oe=n.n(re),ie=function(e,t){var n=t.min,r=t.max;return void 0!==n&&e<n?n:void 0!==r&&e>r?r:e},ae=(n("S5k1"),["text","multiline","boolean","number","slider"]),se=function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"state",{editing:!1,resetValue:n.props.value}),u()(Q()(n),"getEditorType",function(){var e=n.props.value,t=n.props.type;return void 0!==t&&ae.includes(t)?t:"string"===(t=d()(e))?e.includes("\n")?"multiline":"text":["boolean","number"].includes(t)?t:"text"}),u()(Q()(n),"resetChanges",function(){n.props.onChange(n.state.resetValue,n.props.value),n.handleToggleEditing()}),u()(Q()(n),"createRefWithAutoFocus",function(e){e&&(n.editor=e,"boolean"!==n.getEditorType()&&"function"==typeof e.focus&&e.focus(),["boolean","number"].includes(n.getEditorType())||n.props.forceEditMode&&"function"==typeof e.setSelectionRange&&e.setSelectionRange(e.value.length,e.value.length))}),u()(Q()(n),"handleChange",function(e){var t=e.target,r=n.props,o=r.min,i=r.max,a=t.value;switch(n.getEditorType()){case"slider":case"number":a=parseFloat(a||0),Number.isNaN(a)&&(a=n.props.value),a=ie(a,{max:i,min:o})}n.props.onChange(a,n.state.resetValue)}),u()(Q()(n),"handleKeys",function(e){var t=e.target,r=e.key,o=e.ctrlKey,i=e.metaKey;n.props.onKeyDown!==l&&(n.props.onKeyDown(e),e.isDefaultPrevented())||("Escape"===r&&n.resetChanges(),"Enter"===r&&("TEXTAREA"!==t.nodeName||o||i)&&n.handleToggleEditing())}),u()(Q()(n),"handleReceivingFocus",function(){n.props.readOnly||n.state.editing||n.handleToggleEditing()}),u()(Q()(n),"handleToggleEditing",function(){if(!n.props.readOnly){var e=!n.editing;n.setState({editing:e,resetValue:n.props.value},function(){n.state.editing?n.props.onEditStart():n.props.onEditEnd()})}}),u()(Q()(n),"selectOnFocus",function(e){return e.target.select()}),u()(Q()(n),"toggleBoolean",function(){n.props.onEditStart(),n.props.onChange(!n.props.value,n.props.value),n.props.onEditEnd()}),u()(Q()(n),"renderBoolean",function(){return oe.a.createElement("input",{type:"checkbox",checked:Boolean(n.props.value),disabled:n.props.readOnly,onChange:n.toggleBoolean,ref:n.createRefWithAutoFocus})}),u()(Q()(n),"renderMultiline",function(){if(!n.editing){var e=(n.props.value||n.props.placeholder).split("\n").map(function(e,t){return oe.a.createElement("p",{key:t},e)}),t=["multiline",n.props.value?"":"placeholder"].join(" ").trim();return oe.a.createElement("div",{className:t,onClick:n.handleToggleEditing},e)}return oe.a.createElement("textarea",{disabled:n.props.readOnly,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,rows:n.props.value.split("\n").length,value:n.props.value})}),u()(Q()(n),"renderNumber",function(){return n.editing?oe.a.createElement("input",{type:"number",disabled:n.props.readOnly,max:n.props.max,min:n.props.min,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,step:n.props.step,value:n.props.value}):n.renderStatic()}),u()(Q()(n),"renderSlider",function(){return oe.a.createElement("input",{type:"range",disabled:n.props.readOnly,max:n.props.max,min:n.props.min,onBlur:n.handleToggleEditing,onChange:n.handleChange,onKeyDown:n.props.onKeyDown,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,ref:n.createRefWithAutoFocus,step:n.props.step,value:n.props.value})}),u()(Q()(n),"renderText",function(){return n.editing?oe.a.createElement("input",{type:"text",disabled:n.props.readOnly,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,value:n.props.value}):n.renderStatic()}),u()(Q()(n),"renderStatic",function(){var e=n.props,t=e.placeholder,r=e.readOnlyValue,o=e.value,i=t&&!o,a=void 0!==r?r:o,s=i?"placeholder":"";return oe.a.createElement("span",{className:s,onClick:n.handleToggleEditing},i?t:a)}),u()(Q()(n),"renderEditor",function(){switch(n.getEditorType()){case"boolean":return n.renderBoolean();case"slider":return n.renderSlider();case"multiline":return n.renderMultiline();case"number":return n.renderNumber();default:return n.renderText()}}),u()(Q()(n),"render",function(){var e=n.props,t=e.className,r=e.readOnly,o=["editable",n.editing?"editing":"",t||"",r?"readonly":""].filter(Boolean),i={};return r||n.editing||(i={onFocus:n.handleReceivingFocus,tabIndex:"0"}),oe.a.createElement("div",U()({className:o.join(" ")},i),n.renderEditor())}),n}return te()(t,e),J()(t,[{key:"editing",get:function(){return this.props.forceEditMode||this.state.editing}}]),t}(oe.a.Component);u()(se,"displayName","Editable"),u()(se,"defaultProps",{className:"",forceEditMode:!1,max:void 0,min:void 0,onChange:l,onEditEnd:l,onEditStart:l,onKeyDown:l,onKeyPress:l,onKeyUp:l,placeholder:"",readOnly:!1,readOnlyValue:void 0,step:1,type:void 0,value:""});var ue=n("RIqP"),ce=n.n(ue),le=function(e,t){var n=e<=t?1:-1,r=Math.abs(t-e)/Math.abs(n)+1;return Array.apply(void 0,ce()(Array(r))).map(function(t,r){return e+r*n})},pe=(n("VHFM"),function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"handleIconClick",function(e){var t=parseInt(e.target.getAttribute("data-number"),10);n.props.onChange(t===n.props.current?t-1:t)}),u()(Q()(n),"render",function(){var e=n.props,t=e.allowExcess,r=e.current,o=e.iconExcess,i=e.iconOff,a=e.iconOn,s=e.maximum,u=t?T.max(r,s):s;return oe.a.createElement("div",{className:"rating"},u>0||t&&r>0?le(1,ie(u,{min:1})).map(function(e){return oe.a.createElement("span",{"data-number":e,key:e,onClick:n.handleIconClick,title:e},e<=r&&e<=s&&a,e>r&&e<=s&&i,e>s&&o)}):null)}),n}return te()(t,e),t}(re.Component));u()(pe,"defaultProps",{allowExcess:!1,current:0,iconExcess:oe.a.createElement("span",{className:"dot excess icon-add"}),iconOff:oe.a.createElement("span",{className:"dot empty"}),iconOn:oe.a.createElement("span",{className:"dot filled"}),maximum:5,onChange:l}),n("i9wh");var fe,he,de,me,ye,ve,ge,be,we,xe=Object(ne.observer)((de=he=function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"CACHE",{}),u()(Q()(n),"handleSnapshot",function(e){var t=n.props.model.effects().map(function(e){return e.toJSON()});JSON.stringify(t)===JSON.stringify(n.CACHE.effects)&&JSON.stringify(e.conditions)===n.CACHE.conditions&&n.CACHE.value===n.props.model.value()||(n.CACHE.conditions=JSON.stringify(e.conditions),n.CACHE.effects=t,n.CACHE.value=n.props.model.value(),n.forceUpdate())}),u()(Q()(n),"handleChangeName",function(e){var t=n.props.model.id;n.props.model.set({name:e}),n.props.model.character.effects().filter(function(e){return e.targetId===t}).forEach(function(e){e.set({targetId:""}),e.set({targetId:n.props.model.id})})}),u()(Q()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),u()(Q()(n),"handleChangeValue",function(e){var t=String(e).replace(/[^a-z0-9+*()\-\/, ]/gi,"");Number.isNaN(Number(e))||(t=ie(Number(e)||"",{max:999,min:-99})),n.props.model.set({raw:t})}),u()(Q()(n),"handleCommitValue",function(){""===String(n.props.model.raw)&&n.props.model.set({raw:0})}),u()(Q()(n),"handleValueKeyDown",function(e){var t=e.key,r=n.props.model;if(!r.isComputed)switch(t){case"ArrowUp":r.set({raw:r.value()+1});break;case"ArrowDown":r.set({raw:r.value()-1})}}),n}return te()(t,e),J()(t,[{key:"componentDidMount",value:function(){this.onSnapshotDisposer=Object(c.onSnapshot)(this.props.model.character,this.handleSnapshot)}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){var e=this.props,t=e.model,n=e.rating,r=t.modifiedValue(),o=t.value(),i=["attribute","as-".concat(n?"rating":"numeric"),"".concat(t.isComputed?"is":"not","-computed")].join(" "),a=t.modifier(),s=["modifier",a>0&&"positive",a<0&&"negative",0===a&&"zero"].filter(Boolean).join(" ");return oe.a.createElement("div",{className:i},oe.a.createElement(se,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:t.name}),oe.a.createElement(se,{className:"value rating",onChange:this.handleChangeValue,onEditEnd:this.handleCommitValue,onKeyDown:this.handleValueKeyDown,readOnlyValue:oe.a.createElement(pe,{allowExcess:!0,current:r,maximum:o}),type:"text",value:t.raw}),oe.a.createElement(se,{className:"value numeric",onChange:this.handleChangeValue,onEditEnd:this.handleCommitValue,onKeyDown:this.handleValueKeyDown,readOnlyValue:o,type:"text",value:t.raw}),0!==t.effects().length&&oe.a.createElement("div",{className:s,title:t.modifierText()},r))}}]),t}(re.Component),u()(he,"defaultProps",{model:{},onDelete:l,rating:!1}),u()(he,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return e.name}},{display:"icon-sort-value-asc",getter:function(e){return e.modifiedValue()}}]),fe=de))||fe,Se=(n("k8Dq"),Object(ne.observer)((ve=ye=function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"handleChangeName",function(e){return n.props.model.set({name:e})}),u()(Q()(n),"handleChangeValue",function(e){return n.props.model.set({value:e})}),u()(Q()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),n}return te()(t,e),J()(t,[{key:"render",value:function(){return oe.a.createElement("div",{className:"descriptor"},oe.a.createElement(se,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:this.props.model.name}),oe.a.createElement(se,{className:"value",type:"text",onChange:this.handleChangeValue,value:this.props.model.value}))}}]),t}(re.Component),u()(ye,"defaultProps",{model:{},onDelete:l}),u()(ye,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return e.name}},{display:"icon-sort-value-asc",getter:function(e){return e.value}}]),me=ve))||me),Ee=(n("5UjR"),Object(ne.observer)((we=be=function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"handleChangeCondition",function(e){return n.props.model.set({condition:e})}),u()(Q()(n),"handleChangeModifier",function(e){return n.props.model.set({modifier:e})}),u()(Q()(n),"handleChangeTarget",function(e){var t=e.target.value;return n.props.model.set({targetId:t})}),n}return te()(t,e),J()(t,[{key:"render",value:function(){var e=this.props.model,t=e.available,n=e.condition,r=void 0===n?"":n,o=e.isApplicable,i=e.modifier,a=e.targetId;return oe.a.createElement("div",{className:"effect ".concat(o?"applicable":"").trim()},oe.a.createElement("select",{className:"target",value:a,onChange:this.handleChangeTarget},t().map(function(e){var t=e.hash,n=e.id,r=e.name;return oe.a.createElement("option",{key:t,value:n},r)})),oe.a.createElement(se,{className:"modifier",max:999,min:-99,onChange:this.handleChangeModifier,value:i}),oe.a.createElement(se,{className:"condition",onChange:this.handleChangeCondition,placeholder:"Any",value:r}))}}]),t}(re.Component),u()(be,"defaultProps",{model:{}}),u()(be,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return[!e.targetId,e.targetId]}},{display:"icon-sort-value-asc",getter:function(e){return[!e.condition,e.modifier]}}]),ge=we))||ge),Oe=n("faye"),Ne=(n("0dDA"),function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"state",{expanded:!1}),u()(Q()(n),"expander",oe.a.createRef()),u()(Q()(n),"handleToggle",function(){var e=n.expander.current.parentElement.classList,t=n.state.expanded;n.setState({expanded:!t},function(){n.props.onToggle(!t),e[t?"remove":"add"]("expanded")})}),u()(Q()(n),"renderExpanded",function(){var e=n.props,t=e.children;return e.omitItemWrapper?t:oe.a.createElement("div",{className:"expandable"}," ",t)}),n}return te()(t,e),J()(t,[{key:"componentWillMount",value:function(){this.setState({expanded:this.props.expandByDefault})}},{key:"componentDidMount",value:function(){this.expander.current.parentElement.classList.add("expandable-wrapper")}},{key:"render",value:function(){var e=this.props,t=e.toggleButtonParent,n=e.toggleButtonText,r=this.state.expanded?"expanded":"collapsed",o={className:"expandable-toggle icon-".concat(r),onClick:this.handleToggle,ref:this.expander},i=oe.a.createElement("div",U()({},o,{text:n}));return oe.a.createElement(re.Fragment,null,t?Object(Oe.createPortal)(i,t):i,this.state.expanded&&this.renderExpanded())}}]),t}(re.Component));u()(Ne,"defaultProps",{expandByDefault:!1,omitItemWrapper:!1,onToggle:l,toggleButtonParent:null,toggleButtonText:""});var Te=n("U/5H"),Ae=n.n(Te),_e=(n("djCb"),function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"state",{selected:null}),u()(Q()(n),"handleOptionClick",function(e){var t=e.target,r=ce()(t.parentElement.children).indexOf(t),o=n.props.options[r];void 0!==n.props.selected?n.props.onChange(o):n.setState({selected:o})}),n}return te()(t,e),J()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.options,o=void 0!==this.props.selected?this.props.selected:this.state.selected;return oe.a.createElement("div",{className:"multi-toggle ".concat(n).trim()},r.map(function(t,n){return oe.a.createElement("div",{className:"toggle ".concat(t===o?"on":"off").trim(),key:n,onClick:e.handleOptionClick},t.display)}))}}]),t}(re.Component));function Ce(e,t,n){var r,o=this;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(o,a)},t),u&&e.apply(o,a)}}u()(_e,"defaultProps",{className:"",onChange:l,options:[],selected:void 0}),n("e8LY");var je,Me,ke,De,Pe,Ie,Re,ze,Ve,Be,Fe,Le,He,Ue,We,Ke,Xe,Je,qe,$e,Ye,Ge,Ze,Qe="Uncategorized",et=function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(t.sortOptions||[]).map(function(e){return o()({},e,{comparitor:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o=e(n),i=e(r);if(Array.isArray(o)&&Array.isArray(i)){for(var a=0;a<o.length;a+=1)if(o[a]!==i[a])return t?i[a]<o[a]?-1:1:o[a]<i[a]?-1:1;return 0}if("number"==typeof o&&"number"==typeof i)return o===i?0:t?i<o?-1:1:o<i?-1:1;var s=String(o),u=String(i);return t?u.localeCompare(s):s.localeCompare(u)}}(e.getter),display:"string"==typeof e.display?oe.a.createElement("span",{className:e.display}):e.display})});return r=n=function(n){function r(){var n,i;K()(this,r);for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return i=$()(this,(n=G()(r)).call.apply(n,[this].concat(c))),u()(Q()(i),"Component",t),u()(Q()(i),"Model",e),u()(Q()(i),"container",oe.a.createRef()),u()(Q()(i),"expandedItems",{}),u()(Q()(i),"filterEl",oe.a.createRef()),u()(Q()(i),"onDataSnapshotDisposer",l),u()(Q()(i),"onLayoutSnapshotDisposer",l),u()(Q()(i),"sortable",null),u()(Q()(i),"state",{expanded:{},sortOption:null}),u()(Q()(i),"getCategoryItems",function(e,t){return t&&t!==Qe?e.filter(function(e){return(e.categories||[]).includes(t)}):e.filter(function(e){return 0===(e.categories||[]).length})}),u()(Q()(i),"handleAdd",function(){i.props.collection.push(e.create({})),i.forceUpdate()}),u()(Q()(i),"handleDelete",function(e){var t=e.target,n=parseInt(t.parentNode.getAttribute("data-index"),10);i.props.collection.deleteAt(n),i.forceUpdate()}),u()(Q()(i),"handleFilterChange",function(e){var t=e.target;return i.props.layout.set({filter:t.value})}),u()(Q()(i),"handleSort",function(){return i.props.collection.sortBy("name")}),u()(Q()(i),"handleSortChange",function(e){var t=i.state.sortOption;i.setState({sortOption:t===e?null:e},function(){i.props.layout.set({sortOption:t===e?void 0:a.indexOf(e)})})}),u()(Q()(i),"handleToggleCategorized",function(){i.props.layout.set({categorize:!i.props.layout.categorize})}),u()(Q()(i),"handleToggleExpanded",function(e,t){i.setState(function(n){return o()({},n,{expanded:o()({},n.expanded,u()({},e,t))})})}),u()(Q()(i),"renderCategoryWidget",function(){var e=i.props.layout,t=Q()(i).categories;if(!t.length)return null;var n=["categorize icon-categorize",e.categorize?"on":"off"].join(" ");return oe.a.createElement(oe.a.Fragment,null,oe.a.createElement("div",U()({className:n},{onClick:i.handleToggleCategorized})),oe.a.createElement("select",{className:"filter",onChange:i.handleFilterChange,ref:i.filterEl,tabIndex:-1,value:e.filter},oe.a.createElement("option",{value:""},"All"),t.map(function(e){return oe.a.createElement("option",{key:e,value:e},e)})))}),u()(Q()(i),"renderSortWidget",function(){return i.props.sortable&&a.length?oe.a.createElement(_e,{className:"sorter",onChange:i.handleSortChange,options:a,selected:i.state.sortOption}):null}),u()(Q()(i),"renderCategory",function(e,t){var n=i.props.columns,r=i.getCategoryItems(t,e);if(!r.length)return null;var o=r.map(function(e){return e.categoryValue}),a=Math.min.apply(Math,ce()(o)),s=Math.max.apply(Math,ce()(o));return oe.a.createElement("div",{key:e,className:"category"},oe.a.createElement("div",{className:"details"},oe.a.createElement("div",{className:"title"},"Category: ",e," (",r.length,")"),!Number.isNaN(a)&&!Number.isNaN(s)&&oe.a.createElement("div",{className:"range"},a,"-",s)),oe.a.createElement("div",{className:"category-items",style:{columns:n}},r.map(i.renderItem)))}),u()(Q()(i),"renderItem",function(e){var n=i.props,r=n.collection,o=n.layout,a=n.sortable,s=i.state,u=s.expanded,c=s.sortOption,l=a&&null!==c,p=o&&o.categorize;return oe.a.createElement("div",{className:"list-item-wrapper ".concat(u[e.hash]?"expanded":"").trim(),"data-index":r.indexOf(e),key:e.hash},!l&&!p&&oe.a.createElement("div",{className:"drag-handle"}),oe.a.createElement(t,{model:e,onDelete:r.delete,onToggleExpanded:i.handleToggleExpanded}),oe.a.createElement("button",{className:"icon-remove",onClick:i.handleDelete}))}),i}return te()(r,n),J()(r,[{key:"componentDidMount",value:function(){var e=this;if(this.props.layout){var t=this.props.layout.sortOption;a.length&&void 0!==t&&this.setState({sortOption:a[t]||null}),this.onLayoutSnapshotDisposer=Object(c.onSnapshot)(this.props.layout,Ce(function(){return e.forceUpdate()},100,!0))}var n=this.props.sortable;n&&(this.sortable=Ae.a.create(this.container.current,{disabled:!n,draggable:".list-item-wrapper",handle:".drag-handle",onEnd:function(){e.container.current.classList.remove("dragging"),e.props.collection.replace(ce()(e.container.current.querySelectorAll(".list-item-wrapper")).map(function(e){return parseInt(e.getAttribute("data-index"),10)}).map(function(t){return e.props.collection.at(t)}))},onStart:function(){return e.container.current.classList.add("dragging")}})),this.onDataSnapshotDisposer=Object(c.onSnapshot)(this.props.collection,function(){return e.forceUpdate()})}},{key:"componentWillReceiveProps",value:function(){this.sortable&&this.sortable.option("disabled",!this.props.sortable)}},{key:"componentWillUnmount",value:function(){this.onDataSnapshotDisposer(),this.onLayoutSnapshotDisposer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=void 0===n?"":n,o=t.columns,i=t.layout,a=void 0===i?{}:i,s=t.title,u=this.state.sortOption,c=this.categories,l=this.props.collection.asArray;null!==u&&(l=l.sort(u.comparitor));var p=Boolean(c.length);p&&a.filter&&(l=this.getCategoryItems(l,a.filter),c=[a.filter]);var f={columns:a.categorize?1:o};return oe.a.createElement("div",{className:"list ".concat(r).trim(),ref:this.container,style:f},oe.a.createElement("div",{className:"title-bar"},this.renderSortWidget(),this.renderCategoryWidget(),oe.a.createElement("div",{className:"text"},s),oe.a.createElement("button",{className:"add icon-add",onClick:this.handleAdd})),p&&a.categorize?c.map(function(t){return e.renderCategory(t,l)}):l.map(this.renderItem))}},{key:"categories",get:function(){var e=this.props.collection.asArray.reduce(function(e,t){return e.concat(t.categories||[])},[]);return e.length?p(e.filter(function(e){return e!==Qe})).sort().concat(Qe):[]}}]),r}(oe.a.Component),u()(n,"defaultProps",o()({className:"",collection:j(e).create([]),columns:1,layout:void 0,sortable:!0,title:i.title||""},i)),r},tt=(n("H/3x"),et(M,Ee,{className:"effect-list"})),nt=Object(ne.observer)((ke=Me=function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"handleChangeDescription",function(e){return n.props.model.set({description:e})}),u()(Q()(n),"handleChangeName",function(e){return n.props.model.set({name:e})}),u()(Q()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),u()(Q()(n),"handleToggleEquipped",function(){return n.props.model.set({equipped:!n.props.model.equipped})}),n}return te()(t,e),J()(t,[{key:"render",value:function(){var e=this,t=this.props.model,n=t.description,r=t.hash,o=t.name,i=t.effects,a=t.equipped;return oe.a.createElement("div",{className:"item ".concat(a?"":"un","equipped")},oe.a.createElement(se,{className:"equipped",onChange:this.handleToggleEquipped,value:a}),oe.a.createElement(se,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:o}),oe.a.createElement(Ne,{onToggle:function(t){return e.props.onToggleExpanded(r,t)}},oe.a.createElement(se,{className:"description",type:"multiline",onChange:this.handleChangeDescription,placeholder:"Description...",value:n}),oe.a.createElement(tt,{collection:i,title:"Effects"})))}}]),t}(re.Component),u()(Me,"defaultProps",{model:{},onDelete:l,onToggleExpanded:l}),u()(Me,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return e.name}},{display:"icon-backpack",getter:function(e){return[!e.equipped,e.name]}}]),je=ke))||je,rt=(n("ulyj"),Object(ne.observer)((Ie=Pe=function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"handleChangeCurrent",function(e){return n.props.model.set({current:e})}),u()(Q()(n),"handleChangeMaximum",function(e){return n.props.model.set({maximum:e})}),u()(Q()(n),"handleChangeName",function(e){return n.props.model.set({name:e})}),u()(Q()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),n}return te()(t,e),J()(t,[{key:"render",value:function(){var e=this.props.model,t=e.current,n=e.name,r=e.maximum;return oe.a.createElement("div",{className:"resource"},oe.a.createElement("div",{className:"display"},oe.a.createElement(se,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:n}),oe.a.createElement(se,{className:"current",max:999,min:0,onChange:this.handleChangeCurrent,value:t}),"of",oe.a.createElement(se,{className:"maximum",max:999,min:0,onChange:this.handleChangeMaximum,value:r})),oe.a.createElement(pe,{allowExcess:!0,current:t,maximum:r,onChange:this.handleChangeCurrent}))}}]),t}(re.Component),u()(Pe,"defaultProps",{model:{},onDelete:l}),u()(Pe,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return e.name}}]),De=Ie))||De),ot=(n("Upa8"),Object(ne.observer)((Ve=ze=function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"onChangeName",function(e){return n.props.model.set({name:e})}),u()(Q()(n),"onChangeMastery",function(e){return n.props.model.set({mastery:e})}),u()(Q()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),u()(Q()(n),"onChangeTheory",function(e){return n.props.model.set({theory:e})}),n}return te()(t,e),J()(t,[{key:"render",value:function(){var e=this.props.model;return oe.a.createElement("div",{className:"skill"},oe.a.createElement(se,{className:"name",onChange:this.onChangeName,onEditEnd:this.handleCommitName,value:e.name}),oe.a.createElement(se,{className:"theory ".concat(e.theory?"":"is-zero"),max:999,min:-99,onChange:this.onChangeTheory,value:e.theory}),oe.a.createElement(se,{className:"mastery",max:999,min:-99,onChange:this.onChangeMastery,value:e.mastery}))}}]),t}(re.Component),u()(ze,"defaultProps",{model:{},onDelete:l}),u()(ze,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return e.name}},{display:"icon-sort-value-desc",getter:function(e){return[-e.theory,-e.mastery,e.name]}},{display:"icon-sort-size-desc",getter:function(e){return[-e.mastery,-e.theory,e.name]}}]),Re=Ve))||Re),it=(n("y+pi"),Object(ne.observer)((Le=Fe=function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"handleChangeAmount",function(e){return n.props.model.set({amount:e})}),u()(Q()(n),"handleChangeResource",function(e){var t=e.target.value;return n.props.model.set({resourceName:t})}),n}return te()(t,e),J()(t,[{key:"render",value:function(){var e=this.props.model,t=e.amount,n=e.available,r=e.resourceName;return oe.a.createElement("div",{className:"resource-cost"},oe.a.createElement("select",{className:"resource-id",value:r,onChange:this.handleChangeResource},n.map(function(e){var t=e.name;return oe.a.createElement("option",{key:t,value:t},t)})),oe.a.createElement(se,{className:"amount",max:999,min:-99,onChange:this.handleChangeAmount,value:t}))}}]),t}(re.Component),u()(Fe,"defaultProps",{model:{}}),u()(Fe,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return e.resourceName}},{display:"icon-sort-value-asc",getter:function(e){return e.amount}}]),Be=Le))||Be),at=(n("IURI"),et(M,Ee,{className:"effect-list"})),st=et(I,it,{className:"resource-cost-list"}),ut=Object(ne.observer)((We=Ue=function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"onResourceSnapshotDisposer",l),u()(Q()(n),"handleCast",function(){n.props.model.cast(),n.forceUpdate()}),u()(Q()(n),"handleChangeDescription",function(e){return n.props.model.set({description:e})}),u()(Q()(n),"handleChangeLevel",function(e){return n.props.model.set({level:e})}),u()(Q()(n),"handleChangeName",function(e){return n.props.model.set({name:e})}),u()(Q()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),u()(Q()(n),"handleToggleActive",function(){return n.props.model.set({isActive:!n.props.model.isActive})}),n}return te()(t,e),J()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.model.character.resources;this.onResourceSnapshotDisposer=Object(c.onSnapshot)(t,function(){return e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this.onResourceSnapshotDisposer()}},{key:"render",value:function(){var e=this,t=this.props.model,n=t.costs,r=t.description,o=t.name,i=t.effects,a=t.hash,s=t.isActive,u=t.isAffordable,c=t.level;return oe.a.createElement("div",{className:"spell ".concat(s?"":"in","active")},oe.a.createElement(se,{className:"is-active",onChange:this.handleToggleActive,value:s}),oe.a.createElement(se,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:o}),oe.a.createElement(se,{className:"level",onChange:this.handleChangeLevel,value:c}),oe.a.createElement("button",{className:"cast icon-magic",onClick:this.handleCast,disabled:!u()}),oe.a.createElement(Ne,{onToggle:function(t){return e.props.onToggleExpanded(a,t)}},oe.a.createElement(se,{className:"description",type:"multiline",onChange:this.handleChangeDescription,placeholder:"Description...",value:r}),oe.a.createElement(st,{collection:n,title:"Casting Costs"}),oe.a.createElement(at,{collection:i,title:"Effects"})))}}]),t}(re.Component),u()(Ue,"defaultProps",{model:{},onDelete:l,onToggleExpanded:l}),u()(Ue,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return[e.name,e.level]}},{display:"icon-sort-value-asc",getter:function(e){return[e.level,e.name]}},{display:"icon-sort-value-desc",getter:function(e){return[-e.level,e.name]}}]),He=We))||He,ct=(n("sxfZ"),et(M,Ee)),lt={Attribute:xe,Descriptor:Se,Effect:Ee,Item:nt,Resource:rt,Skill:ot,Spell:ut,Trait:Object(ne.observer)((Je=Xe=function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"handleChangeName",function(e){return n.props.model.set({name:e})}),u()(Q()(n),"handleChangeValue",function(e){return n.props.model.set({value:e})}),u()(Q()(n),"handleCommitName",function(){return""===n.props.model.name&&n.props.onDelete(n.props.model)}),n}return te()(t,e),J()(t,[{key:"render",value:function(){var e=this,t=this.props.model;return oe.a.createElement("div",{className:"trait"},oe.a.createElement(se,{className:"name",onChange:this.handleChangeName,onEditEnd:this.handleCommitName,value:t.name}),oe.a.createElement(se,{className:"value",max:999,min:-99,onChange:this.handleChangeValue,value:t.value}),oe.a.createElement(Ne,{onToggle:function(n){return e.props.onToggleExpanded(t.hash,n)}},oe.a.createElement(ct,{collection:t.effects,title:"Effects"})))}}]),t}(re.Component),u()(Xe,"defaultProps",{model:{},onDelete:l,onToggleExpanded:l}),u()(Xe,"sortOptions",[{display:"icon-sort-name-asc",getter:function(e){return e.name}},{display:"icon-sort-value-asc",getter:function(e){return e.value}}]),Ke=Je))||Ke},pt=(n("Zsyy"),Object(ne.observer)(($e=qe=function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"CACHE",{}),u()(Q()(n),"handleSnapshot",function(){var e=n.props.model.availableConditions(),t=n.props.model.conditions.asArray;JSON.stringify(e)===JSON.stringify(n.CACHE.availableConditions)&&JSON.stringify(t)===JSON.stringify(n.CACHE.conditions)||(n.CACHE.availableConditions=e,n.CACHE.conditions=t,n.forceUpdate())}),u()(Q()(n),"handleCheckbox",function(e,t){var r=n.props.model.conditions;t&&!r.includes(e)?r.push(e):"function"==typeof r.delete?r.delete(e):r.splice(r.indexOf(e),1),n.forceUpdate()}),u()(Q()(n),"renderCondition",function(e){var t=n.props.model.conditions.includes(e);return oe.a.createElement("div",{key:e,className:"condition ".concat(t?"current":"available")},oe.a.createElement(se,{className:"current",onChange:function(t){return n.handleCheckbox(e,t)},value:t}),oe.a.createElement("div",{className:"name"},e))}),n}return te()(t,e),J()(t,[{key:"componentDidMount",value:function(){this.onSnapshotDisposer=Object(c.onSnapshot)(this.props.model,this.handleSnapshot)}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){return oe.a.createElement("div",{className:"conditions"},oe.a.createElement(Ne,null,this.props.model.availableConditions().map(this.renderCondition)))}}]),t}(re.Component),u()(qe,"defaultProps",{model:{}}),$e))),ft=(n("kvEc"),function(e){function t(){var e,n;K()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=$()(this,(e=G()(t)).call.apply(e,[this].concat(o))),u()(Q()(n),"titleBar",oe.a.createRef()),u()(Q()(n),"onSnapshotDisposer",l),u()(Q()(n),"snapshot",null),u()(Q()(n),"handleChangeTitle",function(e){return n.props.model.set({title:e})}),n}return te()(t,e),J()(t,[{key:"componentDidMount",value:function(){var e=this;this.onSnapshotDisposer=Object(c.onSnapshot)(this.props.model,function(t){var n=JSON.stringify(t);e.snapshot!==n&&(e.snapshot=n,e.forceUpdate())}),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.onSnapshotDisposer()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.parentColumns,r=this.props.model,o=r.colSpan,i=r.title;return oe.a.createElement("div",{className:"layout",style:{width:"calc(100%/".concat(n,"*").concat(o,")")}},void 0===i?t:oe.a.createElement(oe.a.Fragment,null,oe.a.createElement("div",{className:"title-bar",ref:this.titleBar},oe.a.createElement(se,{className:"title",onChange:this.handleChangeTitle,placeholder:"Section Title",value:i})),oe.a.createElement(Ne,{expandByDefault:!0,omitItemWrapper:!0,toggleButtonParent:this.titleBar.current},t)))}}]),t}(re.Component)),ht={Attribute:_,Descriptor:C,Effect:M,Item:k,Resource:D,Skill:P,Spell:R,Trait:z},dt=(n("HYkr"),Object(ne.observer)((Ze=Ge=function(e){function t(e){var n;return K()(this,t),n=$()(this,G()(t).call(this,e)),u()(Q()(n),"state",{size:"large"}),u()(Q()(n),"handleWindowResize",Ce(function(){var e="large";window.matchMedia("(min-width: 5in) and (max-width: 7.5in)").matches?e="medium":window.matchMedia("(max-width: 5in)").matches&&(e="small"),e!==n.state.size&&n.setState({size:e})},250)),u()(Q()(n),"renderComponent",function(e,t,r){if(t.type){var o=t.title,i=t.type.toLowerCase(),a=et(ht[t.type],lt[t.type],{className:"".concat(i,"-list")}),s=n.props.character["".concat(i,"s")];return oe.a.createElement(a,U()({key:r,layout:t,title:o},{collection:s,columns:t.columns}))}return oe.a.createElement(ft,{key:t.hash,model:t,parentColumns:e.columns},t.children.map(function(e,r){return n.renderComponent(t,e,r)}))}),n.onCharacterSnapshotDisposer=Object(c.onSnapshot)(n.props.character,function(e){n.props.onChange(e,n.props.layout.toJSON(),Q()(n))}),n.onLayoutSnapshotDisposer=Object(c.onSnapshot)(n.props.layout,function(e){n.props.onChange(n.props.character.toJSON(),e,Q()(n))}),n}return te()(t,e),J()(t,[{key:"componentDidMount",value:function(){this.handleWindowResize(),window.addEventListener("resize",this.handleWindowResize),this.props.onMount(this)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),this.onCharacterSnapshotDisposer(),this.onLayoutSnapshotDisposer()}},{key:"render",value:function(){var e=this.props,t=e.character,n=e.layout,r=this.state.size;return oe.a.createElement("div",{className:"sheetforge sheet ".concat(r)},oe.a.createElement(pt,{model:t}),n.children.map(this.renderComponent.bind(null,n)))}}]),t}(oe.a.Component),u()(Ge,"defaultProps",{character:{},layout:{},onChange:l,onMount:l}),Ye=Ze))||Ye);n.d(t,"AttributeModel",function(){return _}),n.d(t,"CharacterModel",function(){return V}),n.d(t,"DescriptorModel",function(){return C}),n.d(t,"EffectModel",function(){return M}),n.d(t,"ItemModel",function(){return k}),n.d(t,"LayoutModel",function(){return L}),n.d(t,"ResourceCostModel",function(){return I}),n.d(t,"ResourceModel",function(){return D}),n.d(t,"Sheet",function(){return dt}),n.d(t,"SkillModel",function(){return P}),n.d(t,"SpellModel",function(){return R}),n.d(t,"TraitModel",function(){return z})},"0dDA":function(e,t,n){},"0dEn":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.memoize=function(e,t){return function n(){"object"!==r(n.cache)&&(n.cache={});for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=t?t(o):JSON.stringify(o);return a in n.cache||(n.cache[a]=e.apply(e,o)),n.cache[a]}},t.maxArgumentCount=function(e){return Object.keys(e.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)},t.callWithRightArgumentCount=function(e,t,n){return Object.keys(e.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}},"199F":function(e,t,n){"use strict";var r=n("Z2I/");function o(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}t.isNumber=function(e){return"number"==typeof e},t.isInteger=function(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)},t.sign=Math.sign||function(e){return e>0?1:e<0?-1:0},t.format=function(e,n){if("function"==typeof n)return n(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var o,i="auto";switch(n&&(n.notation&&(i=n.notation),t.isNumber(n)?o=n:t.isNumber(n.precision)&&(o=n.precision)),i){case"fixed":return t.toFixed(e,o);case"exponential":return t.toExponential(e,o);case"engineering":return t.toEngineering(e,o);case"auto":if(n&&n.exponential&&(void 0!==n.exponential.lower||void 0!==n.exponential.upper)){var a=r.map(n,function(e){return e});return a.exponential=void 0,void 0!==n.exponential.lower&&(a.lowerExp=Math.round(Math.log(n.exponential.lower)/Math.LN10)),void 0!==n.exponential.upper&&(a.upperExp=Math.round(Math.log(n.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(n)+" with "+JSON.stringify(a)),t.toPrecision(e,o,a)}return t.toPrecision(e,o,n&&n).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},t.splitNumber=function(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],o=parseFloat(t[4]||"0"),i=r.indexOf(".");o+=-1!==i?i-1:r.length-1;var a=r.replace(".","").replace(/^0*/,function(e){return o-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===a.length&&(a.push(0),o++),{sign:n,coefficients:a,exponent:o}},t.toEngineering=function(e,n){if(isNaN(e)||!isFinite(e))return String(e);var r=t.roundDigits(t.splitNumber(e),n),i=r.exponent,a=r.coefficients,s=i%3==0?i:i<0?i-3-i%3:i-i%3;if(t.isNumber(n))n>a.length&&(a=a.concat(o(n-a.length)));else{var u=i>=0?i:Math.abs(s);a.length-1<u&&(a=a.concat(o(u-(a.length-1))))}for(var c=Math.abs(i-s),l=1;--c>=0;)l++;var p=a.slice(l).join(""),f=t.isNumber(n)&&p.length||p.match(/[1-9]/)?"."+p:"",h=a.slice(0,l).join("")+f+"e"+(i>=0?"+":"")+s.toString();return r.sign+h},t.toFixed=function(e,n){if(isNaN(e)||!isFinite(e))return String(e);var r=t.splitNumber(e),i="number"==typeof n?t.roundDigits(r,r.exponent+1+n):r,a=i.coefficients,s=i.exponent+1,u=s+(n||0);return a.length<u&&(a=a.concat(o(u-a.length))),s<0&&(a=o(1-s).concat(a),s=1),s<a.length&&a.splice(s,0,0===s?"0.":"."),i.sign+a.join("")},t.toExponential=function(e,n){if(isNaN(e)||!isFinite(e))return String(e);var r=t.splitNumber(e),i=n?t.roundDigits(r,n):r,a=i.coefficients,s=i.exponent;a.length<n&&(a=a.concat(o(n-a.length)));var u=a.shift();return i.sign+u+(a.length>0?"."+a.join(""):"")+"e"+(s>=0?"+":"")+s},t.toPrecision=function(e,n,r){if(isNaN(e)||!isFinite(e))return String(e);var i=r&&void 0!==r.lowerExp?r.lowerExp:-3,a=r&&void 0!==r.upperExp?r.upperExp:5,s=t.splitNumber(e);if(s.exponent<i||s.exponent>=a)return t.toExponential(e,n);var u=n?t.roundDigits(s,n):s,c=u.coefficients,l=u.exponent;c.length<n&&(c=c.concat(o(n-c.length))),c=c.concat(o(l-c.length+1+(c.length<n?n-c.length:0)));var p=l>0?l:0;return p<(c=o(-l).concat(c)).length-1&&c.splice(p+1,0,"."),u.sign+c.join("")},t.roundDigits=function(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var o=t-1;for(r[o]++;10===r[o];)r.pop(),0===o&&(r.unshift(0),n.exponent++,o++),r[--o]++}return n},t.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},t.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,t.nearlyEqual=function(e,n,r){if(null==r)return e===n;if(e===n)return!0;if(isNaN(e)||isNaN(n))return!1;if(isFinite(e)&&isFinite(n)){var o=Math.abs(e-n);return o<t.DBL_EPSILON||o<=Math.max(Math.abs(e),Math.abs(n))*r}return!1}},"1d6v":function(e,t,n){"use strict";var r=n("aG3p"),o=n("X8kj");t.name="algorithm06",t.factory=function(e,t,i,a){var s=i(n("hj6K")),u=e.SparseMatrix;return function(e,t,n){var i=e._values,c=e._size,l=e._datatype,p=t._values,f=t._size,h=t._datatype;if(c.length!==f.length)throw new o(c.length,f.length);if(c[0]!==f[0]||c[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+f+")");var d,m=c[0],y=c[1],v=s,g=0,b=n;"string"==typeof l&&l===h&&(d=l,v=a.find(s,[d,d]),g=a.convert(0,d),b=a.find(n,[d,d]));for(var w=i&&p?[]:void 0,x=[],S=[],E=new u({values:w,index:x,ptr:S,size:[m,y],datatype:d}),O=w?[]:void 0,N=[],T=[],A=0;A<y;A++){S[A]=x.length;var _=A+1;if(r(e,A,N,O,T,_,E,b),r(t,A,N,O,T,_,E,b),O)for(var C=S[A];C<x.length;){var j=x[C];if(T[j]===_){var M=O[j];v(M,g)?x.splice(C,1):(w.push(M),C++)}else x.splice(C,1)}else for(var k=S[A];k<x.length;)T[x[k]]!==_?x.splice(k,1):k++}return S[y]=x.length,E}}},"1pc8":function(e,t,n){"use strict";var r=n("Z2I/");function o(e,t,n){if(void 0!==e[t]&&(o=n,i=e[t],-1===o.indexOf(i))){var r=function(e,t){return e.map(function(e){return e.toLowerCase()}).indexOf(t.toLowerCase())}(n,e[t]);-1!==r?(console.warn('Warning: Wrong casing for configuration option "'+t+'", should be "'+n[r]+'" instead of "'+e[t]+'".'),e[t]=n[r]):console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+n.map(JSON.stringify).join(", ")+".")}var o,i}t.name="config",t.math=!0,t.factory=function(e,t,n,i,a){var s=["Matrix","Array"],u=["number","BigNumber","Fraction"];function c(e){if(e){var n=r.map(t,r.clone);o(e,"matrix",s),o(e,"number",u),r.deepExtend(t,e);var i=r.map(t,r.clone),c=r.map(e,r.clone);return a.emit("config",i,n,c),i}return r.map(t,r.clone)}return c.MATRIX=s,c.NUMBER=u,c}},"1stm":function(e,t,n){"use strict";e.exports=function e(t,n,r){return t&&"function"==typeof t.map?t.map(function(t){return e(t,n,r)}):n(t)}},"2g85":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("XDH7").transform,i=n("4bae").getSafeProperty;t.factory=function(e,t,a,s){var u=a(n("Wail"));return function(e,t){try{if(Array.isArray(e))return u(e,t);if(e&&"function"==typeof e.subset)return e.subset(t);if("string"==typeof e)return u(e,t);if("object"===r(e)){if(!t.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return i(e,t.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw o(e)}}}},"2l0z":function(e,t,n){"use strict";Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isNaN=Number.isNaN||function(e){return e!=e}},"35fj":function(e,t,n){"use strict";var r=n("Tb0o");t.name="ConditionalNode",t.path="expression.node",t.factory=function(e,t,o,i){var a=o(n("K6lB")),s=o(n("uUDd"));function u(t,n,r){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError("Parameter condition must be a Node");if(!e.isNode(n))throw new TypeError("Parameter trueExpr must be a Node");if(!e.isNode(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=n,this.falseExpr=r}return u.prototype=new a,u.prototype.type="ConditionalNode",u.prototype.isConditionalNode=!0,u.prototype._compile=function(t,n){var r=this.condition._compile(t,n),o=this.trueExpr._compile(t,n),i=this.falseExpr._compile(t,n);return function(t,n,a){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return!!t;if(t){if(e.isBigNumber(t))return!t.isZero();if(e.isComplex(t))return!(!t.re&&!t.im);if(e.isUnit(t))return!!t.value}if(null==t)return!1;throw new TypeError('Unsupported type of condition "'+s(t)+'"')}(r(t,n,a))?o(t,n,a):i(t,n,a)}},u.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},u.prototype.map=function(e){return new u(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},u.prototype.clone=function(){return new u(this.condition,this.trueExpr,this.falseExpr)},u.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=r.getPrecedence(this,t),o=this.condition.toString(e),i=r.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(o="("+o+")");var a=this.trueExpr.toString(e),s=r.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==s&&s<=n)&&(a="("+a+")");var u=this.falseExpr.toString(e),c=r.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(u="("+u+")"),o+" ? "+a+" : "+u},u.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},u.fromJSON=function(e){return new u(e.condition,e.trueExpr,e.falseExpr)},u.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=r.getPrecedence(this,t),o=this.condition.toHTML(e),i=r.getPrecedence(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(e),s=r.getPrecedence(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==s&&s<=n)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.falseExpr.toHTML(e),c=r.getPrecedence(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+u},u.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},u}},"3LJV":function(e,t,n){"use strict";var r=n("6cPB");e.exports=function e(t,n){r(t)&&(t=t.valueOf());for(var o=0,i=t.length;o<i;o++){var a=t[o];Array.isArray(a)?e(a,n):n(a)}}},"3efQ":function(e,t,n){"use strict";var r=n("LHK7"),o=r.object,i=r.string;t.name="det",t.factory=function(e,t,r,a){var s=r(n("R4H5")),u=r(n("O1N0")),c=r(n("NU+P")),l=r(n("7DiD")),p=r(n("gpKz")),f=a("det",{any:function(e){return o.clone(e)},"Array | Matrix":function(t){var n;switch((n=e.isMatrix(t)?t.size():Array.isArray(t)?(t=s(t)).size():[]).length){case 0:return o.clone(t);case 1:if(1===n[0])return o.clone(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+i.format(n)+")");case 2:var r=n[0],a=n[1];if(r===a)return function(e,t,n){if(1===t)return o.clone(e[0][0]);if(2===t)return u(c(e[0][0],e[1][1]),c(e[1][0],e[0][1]));for(var r=p(e),i=r.U[0][0],a=1;a<t;a++)i=c(i,r.U[a][a]);for(var s=0,f=0,h=[];;){for(;h[f];)f++;if(f>=t)break;for(var d=f,m=0;!h[r.p[d]];)h[r.p[d]]=!0,d=r.p[d],m++;m%2==0&&s++}return s%2==0?i:l(i)}(t.clone().valueOf(),r);throw new RangeError("Matrix must be square (size: "+i.format(n)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i.format(n)+")")}}});return f.toTex={1:"\\det\\left(${args[0]}\\right)"},f}},"4bae":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("Z2I/").hasOwnProperty;function i(e,t){return!(!e||"object"!==r(e)||!o(u,t)&&(t in Object.prototype||t in Function.prototype))}function a(e,t){return!(!e||"function"!=typeof e[t]||o(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)||!o(c,t)&&(t in Object.prototype||t in Function.prototype))}function s(e){return"object"===r(e)&&e&&e.constructor===Object}var u={length:!0,name:!0},c={toString:!0,valueOf:!0,toLocaleString:!0};t.getSafeProperty=function(e,t){if(s(e)&&i(e,t))return e[t];if("function"==typeof e[t]&&a(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')},t.setSafeProperty=function(e,t,n){if(s(e)&&i(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')},t.isSafeProperty=i,t.validateSafeMethod=function(e,t){if(!a(e,t))throw new Error('No access to method "'+t+'"')},t.isSafeMethod=a,t.isPlainObject=s},"4fwU":function(e,t,n){"use strict";var r=n("X8kj");t.name="algorithm02",t.factory=function(e,t,o,i){var a=o(n("hj6K")),s=e.SparseMatrix;return function(e,t,n,o){var u=e._data,c=e._size,l=e._datatype,p=t._values,f=t._index,h=t._ptr,d=t._size,m=t._datatype;if(c.length!==d.length)throw new r(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,v=c[0],g=c[1],b=a,w=0,x=n;"string"==typeof l&&l===m&&(y=l,b=i.find(a,[y,y]),w=i.convert(0,y),x=i.find(n,[y,y]));for(var S=[],E=[],O=[],N=0;N<g;N++){O[N]=E.length;for(var T=h[N],A=h[N+1],_=T;_<A;_++){var C=f[_],j=o?x(p[_],u[C][N]):x(u[C][N],p[_]);b(j,w)||(E.push(C),S.push(j))}}return O[g]=E.length,new s({values:S,index:E,ptr:O,size:[v,g],datatype:y})}}},"5UjR":function(e,t,n){},"6cPB":function(e,t,n){"use strict";e.exports=function(e){return e&&e.constructor.prototype.isMatrix||!1}},"78Py":function(e,t,n){"use strict";var r=n("1stm");t.name="number",t.factory=function(e,t,n,o){var i=o("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return r(e,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},i}},"7DiD":function(e,t,n){"use strict";var r=n("1stm");t.name="unaryMinus",t.factory=function(e,t,o,i){var a=n("bFQJ"),s=i("unaryMinus",{number:function(e){return-e},Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var t=e.clone();return t.value=s(e.value),t},"Array | Matrix":function(e){return r(e,s,!0)}});return s.toTex={1:"".concat(a.operators.unaryMinus,"\\left(${args[0]}\\right)")},s}},"7W2i":function(e,t,n){var r=n("SksO");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},"7lEX":function(e,t,n){"use strict";t.path="type",t.name="_numeric",t.factory=function(e,t,r,o){var i=r(n("uUDd")),a={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:r(n("78Py")),BigNumber:r(n("MI9+")),Fraction:r(n("wJ/n"))},u=function(e,t){var n=i(e);if(!(n in a))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(a).join(", "));if(!(t in s))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(s).join(", "));return t===n?e:s[t](e)};return u.toTex=function(e,t){return e.args[0].toTex()},u}},"8OQS":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},"9a6t":function(e,t,n){"use strict";var r=n("199F").isInteger,o=n("sTyi").resize;t.name="zeros",t.factory=function(e,t,i,a){var s=i(n("R4H5")),u=a("zeros",{"":function(){return"Array"===t.matrix?c([]):c([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var n=e.pop();return c(e,n)}return"Array"===t.matrix?c(e):c(e,"default")},Array:c,Matrix:function(e){var t=e.storage();return c(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return c(e.valueOf(),t)}});return u.toTex=void 0,u;function c(t,n){var i=function(t){var n=!1;return t.forEach(function(t,r,o){e.isBigNumber(t)&&(n=!0,o[r]=t.toNumber())}),n}(t)?new e.BigNumber(0):0;if(function(e){e.forEach(function(e){if("number"!=typeof e||!r(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")})}(t),n){var a=s(n);return t.length>0?a.resize(t,i):a}var u=[];return t.length>0?o(u,t,i):u}}},AGIY:function(e,t,n){"use strict";var r=n("sTyi").map,o=n("PXUV").escape;t.name="IndexNode",t.path="expression.node",t.factory=function(e,t,i,a){var s=i(n("K6lB")),u=i(n("V3b4")),c=Array.isArray;function l(t,n){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=n||!1,!c(t)||!t.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var r=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:r,set:r})}function p(t,n,r){return new u(e.isBigNumber(t)?t.toNumber():t,e.isBigNumber(n)?n.toNumber():n,e.isBigNumber(r)?r.toNumber():r)}return l.prototype=new s,l.prototype.type="IndexNode",l.prototype.isIndexNode=!0,l.prototype._compile=function(t,n){var o=r(this.dimensions,function(r,o){if(e.isRangeNode(r)){if(r.needsEnd()){var i=Object.create(n);i.end=!0;var a=r.start._compile(t,i),s=r.end._compile(t,i),u=r.step?r.step._compile(t,i):function(){return 1};return function(e,n,r){var i=t.size(r).valueOf(),c=Object.create(n);return c.end=i[o],p(a(e,c,r),s(e,c,r),u(e,c,r))}}var c=r.start._compile(t,n),l=r.end._compile(t,n),f=r.step?r.step._compile(t,n):function(){return 1};return function(e,t,n){return p(c(e,t,n),l(e,t,n),f(e,t,n))}}if(e.isSymbolNode(r)&&"end"===r.name){var h=Object.create(n);h.end=!0;var d=r._compile(t,h);return function(e,n,r){var i=t.size(r).valueOf(),a=Object.create(n);return a.end=i[o],d(e,a,r)}}var m=r._compile(t,n);return function(e,t,n){return m(e,t,n)}});return function(e,n,i){var a=r(o,function(t){return t(e,n,i)});return t.index.apply(t,a)}},l.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},l.prototype.map=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new l(t)},l.prototype.clone=function(){return new l(this.dimensions.slice(0))},l.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&e.isConstantNode(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},l.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},l.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},l.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},l.fromJSON=function(e){return new l(e.dimensions,e.dotNotation)},l.prototype.toHTML=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+o(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},l.prototype._toTex=function(e){var t=this.dimensions.map(function(t){return t.toTex(e)});return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},l}},BLb5:function(e,t,n){"use strict";var r=n("Z2I/").clone;t.name="algorithm14",t.factory=function(e,t,n,o){var i=e.DenseMatrix;return function(e,t,n,a){var s,u=e._data,c=e._size,l=e._datatype,p=n;"string"==typeof l&&(s=l,t=o.convert(t,s),p=o.find(n,[s,s]));var f=c.length>0?function e(t,n,r,o,i,a,s){var u=[];if(n===r.length-1)for(var c=0;c<o;c++)u[c]=s?t(a,i[c]):t(i[c],a);else for(var l=0;l<o;l++)u[l]=e(t,n+1,r,r[n+1],i[l],a,s);return u}(p,0,c,c[0],u,t,a):[];return new i({data:f,size:r(c),datatype:s})}}},BSwV:function(e,t,n){"use strict";e.exports=[n("Nsef"),n("BdOc"),n("o0nB"),n("n+Sg")]},BdOc:function(e,t,n){"use strict";var r=n("1stm");t.name="not",t.factory=function(e,t,o,i){var a=n("bFQJ"),s=i("not",{number:function(e){return!e},Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return null===e.value||s(e.value)},"Array | Matrix":function(e){return r(e,s)}});return s.toTex={1:a.operators.not+"\\left(${args[0]}\\right)"},s}},Bnag:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},C8y5:function(e,t,n){"use strict";e.exports={end:!0}},CaZ0:function(e,t,n){"use strict";var r=n("199F").isInteger,o=n("sTyi").size;t.name="pow",t.factory=function(e,t,i,a){var s=n("bFQJ"),u=i(n("MKmT")),c=i(n("NU+P")),l=i(n("R4H5")),p=i(n("wJ/n")),f=i(n("78Py")),h=a("pow",{"number, number":d,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(n,r){return r.isInteger()||n>=0||t.predictable?n.pow(r):new e.Complex(n.toNumber(),0).pow(r.toNumber(),0)},"Fraction, Fraction":function(e,n){if(1!==n.d){if(t.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return d(e.valueOf(),n.valueOf())}return e.pow(n)},"Array, number":m,"Array, BigNumber":function(e,t){return m(e,t.toNumber())},"Matrix, number":y,"Matrix, BigNumber":function(e,t){return y(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function d(n,o){if(t.predictable&&!r(o)&&n<0)try{var i=p(o),a=f(i);if((o===a||Math.abs((o-a)/o)<1e-14)&&i.d%2==1)return(i.n%2==0?1:-1)*Math.pow(-n,o)}catch(e){}return n*n<1&&o===1/0||n*n>1&&o===-1/0?0:t.predictable&&(n<-1&&o===1/0||n>-1&&n<0&&o===-1/0)?NaN:r(o)||n>=0||t.predictable?Math.pow(n,o):new e.Complex(n,0).pow(o,0)}function m(e,t){if(!r(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var n=o(e);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var i=u(n[0]).valueOf(),a=e;t>=1;)1==(1&t)&&(i=c(a,i)),t>>=1,a=c(a,a);return i}function y(e,t){return l(m(e.valueOf(),t))}return h.toTex={2:"\\left(${args[0]}\\right)".concat(s.operators.pow,"{${args[1]}}")},h}},D2JG:function(e,t,n){"use strict";t.factory=function(e,t,r,o){var i=r(n("uUDd"));return function(e,t,n){var r;return-1!==String(e).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+i(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+r)):-1!==String(e).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+i(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+r)):e}}},Dnvl:function(e,t,n){"use strict";var r=n("Tb0o"),o=n("bFQJ"),i=n("PXUV").escape;t.name="RelationalNode",t.path="expression.node",t.factory=function(e,t,a,s){var u=a(n("K6lB")),c=n("4bae").getSafeProperty;function l(e,t){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}return l.prototype=new u,l.prototype.type="RelationalNode",l.prototype.isRelationalNode=!0,l.prototype._compile=function(e,t){var n=this,r=this.params.map(function(n){return n._compile(e,t)});return function(t,o,i){for(var a,s=r[0](t,o,i),u=0;u<n.conditionals.length;u++)if(a=s,s=r[u+1](t,o,i),!c(e,n.conditionals[u])(a,s))return!1;return!0}},l.prototype.forEach=function(e){var t=this;this.params.forEach(function(n,r){return e(n,"params["+r+"]",t)},this)},l.prototype.map=function(e){var t=this;return new l(this.conditionals.slice(),this.params.map(function(n,r){return t._ifNode(e(n,"params["+r+"]",t))},this))},l.prototype.clone=function(){return new l(this.conditionals,this.params)},l.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=r.getPrecedence(this,t),o=this.params.map(function(o,i){var a=r.getPrecedence(o,t);return"all"===t||null!==a&&a<=n?"("+o.toString(e)+")":o.toString(e)}),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},a=o[0],s=0;s<this.conditionals.length;s++)a+=" "+i[this.conditionals[s]]+" "+o[s+1];return a},l.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},l.fromJSON=function(e){return new l(e.conditionals,e.params)},l.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=r.getPrecedence(this,t),o=this.params.map(function(o,i){var a=r.getPrecedence(o,t);return"all"===t||null!==a&&a<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+o.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':o.toHTML(e)}),a={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},s=o[0],u=0;u<this.conditionals.length;u++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(a[this.conditionals[u]])+"</span>"+o[u+1];return s},l.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=r.getPrecedence(this,t),i=this.params.map(function(o,i){var a=r.getPrecedence(o,t);return"all"===t||null!==a&&a<=n?"\\left("+o.toTex(e)+"\right)":o.toTex(e)}),a=i[0],s=0;s<this.conditionals.length;s++)a+=o.operators[this.conditionals[s]]+i[s+1];return a},l}},"Dq+S":function(e,t,n){"use strict";var r=n("Z2I/");t.format=function(e,n){if("function"==typeof n)return n(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var o,i="auto";switch(void 0!==n&&(n.notation&&(i=n.notation),"number"==typeof n?o=n:n.precision&&(o=n.precision)),i){case"fixed":return t.toFixed(e,o);case"exponential":return t.toExponential(e,o);case"auto":if(n&&n.exponential&&(void 0!==n.exponential.lower||void 0!==n.exponential.upper)){var a=r.map(n,function(e){return e});return a.exponential=void 0,void 0!==n.exponential.lower&&(a.lowerExp=Math.round(Math.log(n.exponential.lower)/Math.LN10)),void 0!==n.exponential.upper&&(a.upperExp=Math.round(Math.log(n.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(n)+" with "+JSON.stringify(a)),t.format(e,a)}var s=n&&void 0!==n.lowerExp?n.lowerExp:-3,u=n&&void 0!==n.upperExp?n.upperExp:5;if(e.isZero())return"0";var c=e.e;return(c>=s&&c<u?e.toSignificantDigits(o).toFixed():t.toExponential(e,o)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},t.toExponential=function(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()},t.toFixed=function(e,t){return e.toFixed(t)}},ESPO:function(e,t,n){"use strict";function r(e,t,n,o){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=o,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(null!=o?"-"+o:"")+" expected)",this.stack=(new Error).stack}r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name="ArgumentsError",r.prototype.isArgumentsError=!0,e.exports=r},EbDI:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},EjzI:function(e,t,n){"use strict";var r=n("1stm");t.name="ceil",t.factory=function(e,t,n,o){var i=o("ceil",{number:Math.ceil,Complex:function(e){return e.ceil()},BigNumber:function(e){return e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return r(e,i,!0)}});return i.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},i}},FC7u:function(e,t,n){"use strict";var r=n("sTyi").size,o=n("3LJV"),i=n("rq6S"),a=n("G23K");t.name="mean",t.factory=function(e,t,s,u){var c=s(n("NEdZ")),l=s(n("rVKH")),p=s(n("D2JG")),f=u("mean",{"Array | Matrix":h,"Array | Matrix, number | BigNumber":function(e,t){try{var n=i(e,t,c),o=Array.isArray(e)?r(e):e.size();return l(n,o[t])}catch(e){throw p(e,"mean")}},"...":function(e){if(a(e))throw new TypeError("Scalar values expected in function mean");return h(e)}});return f.toTex=void 0,f;function h(e){var t=0,n=0;if(o(e,function(e){try{t=c(t,e),n++}catch(t){throw p(t,"mean",e)}}),0===n)throw new Error("Cannot calculate mean of an empty array");return l(t,n)}}},FX2d:function(e,t,n){"use strict";var r=n("bFQJ"),o=n("PXUV").escape,i=n("Z2I/").hasOwnProperty,a=n("4bae").getSafeProperty;t.name="SymbolNode",t.path="expression.node",t.math=!0,t.factory=function(e,t,s,u,c){var l=s(n("K6lB"));function p(t){return!!e.Unit&&e.Unit.isValuelessUnit(t)}function f(e){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return f.prototype=new l,f.prototype.type="SymbolNode",f.prototype.isSymbolNode=!0,f.prototype._compile=function(t,n){var r=this.name;if(i(n,r))return function(e,t,n){return t[r]};if(r in t)return function(e,n,o){return a(r in e?e:t,r)};var o=p(r);return function(t,n,i){return r in t?a(t,r):o?new e.Unit(null,r):function(e){throw new Error("Undefined symbol "+e)}(r)}},f.prototype.forEach=function(e){},f.prototype.map=function(e){return this.clone()},f.prototype.clone=function(){return new f(this.name)},f.prototype._toString=function(e){return this.name},f.prototype.toHTML=function(e){var t=o(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},f.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},f.fromJSON=function(e){return new f(e.name)},f.prototype._toTex=function(e){var t=!1;void 0===c[this.name]&&p(this.name)&&(t=!0);var n=r.toSymbol(this.name,t);return"\\"===n[0]?n:" "+n},f}},G23K:function(e,t,n){"use strict";var r=n("HJTy");e.exports=function(e){for(var t=0;t<e.length;t++)if(r(e[t]))return!0;return!1}},"H+Qf":function(e,t,n){"use strict";var r=n("199F").nearlyEqual,o=n("rMK7");t.name="larger",t.factory=function(e,t,i,a){var s=i(n("R4H5")),u=i(n("hYuG")),c=i(n("XXc+")),l=i(n("/z5F")),p=i(n("zbDx")),f=i(n("BLb5")),h=n("bFQJ"),d=a("larger",{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,n){return e>n&&!r(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,n){return e.gt(n)&&!o(e,n,t.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return d(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,d)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,d)},"Array, Array":function(e,t){return d(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return d(s(e),t)},"Matrix, Array":function(e,t){return d(e,s(t))},"SparseMatrix, any":function(e,t){return l(e,t,d,!1)},"DenseMatrix, any":function(e,t){return f(e,t,d,!1)},"any, SparseMatrix":function(e,t){return l(t,e,d,!0)},"any, DenseMatrix":function(e,t){return f(t,e,d,!0)},"Array, any":function(e,t){return f(s(e),t,d,!1).valueOf()},"any, Array":function(e,t){return f(s(t),e,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(h.operators.larger,"${args[1]}\\right)")},d}},"H/3x":function(e,t,n){},H3yI:function(e,t,n){},HJTy:function(e,t,n){"use strict";var r=n("6cPB");e.exports=function(e){return Array.isArray(e)||r(e)}},HYkr:function(e,t,n){},I5O3:function(e,t,n){"use strict";var r=n("3LJV"),o=n("rq6S"),i=n("G23K");t.name="min",t.factory=function(e,t,a,s){var u=a(n("m4e2")),c=a(n("D2JG")),l=s("min",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(e,t){return o(e,t.valueOf(),p)},"...":function(e){if(i(e))throw new TypeError("Scalar values expected in function min");return f(e)}});return l.toTex="\\min\\left(${args}\\right)",l;function p(e,t){try{return u(e,t)?e:t}catch(e){throw c(e,"min",t)}}function f(e){var t;if(r(e,function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||u(e,t))&&(t=e)}catch(t){throw c(t,"min",e)}}),void 0===t)throw new Error("Cannot calculate min of an empty array");return t}}},IURI:function(e,t,n){},Ii65:function(e,t,n){"use strict";var r=n("4bae").getSafeProperty;t.name="AccessorNode",t.path="expression.node",t.factory=function(e,t,o,i){var a=o(n("K6lB")),s=o(n("2g85"));function u(t,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError('Node expected for parameter "object"');if(!e.isIndexNode(n))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=n,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function c(t){return!(e.isAccessorNode(t)||e.isArrayNode(t)||e.isConstantNode(t)||e.isFunctionNode(t)||e.isObjectNode(t)||e.isParenthesisNode(t)||e.isSymbolNode(t))}return u.prototype=new a,u.prototype.type="AccessorNode",u.prototype.isAccessorNode=!0,u.prototype._compile=function(e,t){var n=this.object._compile(e,t),o=this.index._compile(e,t);if(this.index.isObjectProperty()){var i=this.index.getObjectProperty();return function(e,t,o){return r(n(e,t,o),i)}}return function(e,t,r){var i=n(e,t,r),a=o(e,t,i);return s(i,a)}},u.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},u.prototype.map=function(e){return new u(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},u.prototype.clone=function(){return new u(this.object,this.index)},u.prototype._toString=function(e){var t=this.object.toString(e);return c(this.object)&&(t="("+t+")"),t+this.index.toString(e)},u.prototype.toHTML=function(e){var t=this.object.toHTML(e);return c(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},u.prototype._toTex=function(e){var t=this.object.toTex(e);return c(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},u.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},u.fromJSON=function(e){return new u(e.object,e.index)},u}},Ijbi:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},JrXr:function(e,t,n){"use strict";var r=n("wOJ8");t.mixin=function(e){var t=new r;return e.on=t.on.bind(t),e.off=t.off.bind(t),e.once=t.once.bind(t),e.emit=t.emit.bind(t),e}},K6lB:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("C8y5"),i=n("Z2I/").deepEqual,a=n("Z2I/").hasOwnProperty;t.name="Node",t.path="expression.node",t.math=!0,t.factory=function(e,t,n,s,u){function c(){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator")}return c.prototype.eval=function(e){return this.compile().eval(e)},c.prototype.type="Node",c.prototype.isNode=!0,c.prototype.comment="",c.prototype.compile=function(){var e=this._compile(u.expression.mathWithTransform,{}),t={};return{eval:function(n){var r=n||{};return function(e){for(var t in e)if(a(e,t)&&t in o)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(r),e(r,t,null)}}},c.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},c.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},c.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},c.prototype._ifNode=function(t){if(!e.isNode(t))throw new TypeError("Callback function must return a Node");return t},c.prototype.traverse=function(e){e(this,null,null),function e(t,n){t.forEach(function(t,r,o){n(t,r,o),e(t,n)})}(this,e)},c.prototype.transform=function(e){return function e(t,n){return t.map(function(t,r,o){return e(n(t,r,o),n)})}(e(this,null,null),e)},c.prototype.filter=function(e){var t=[];return this.traverse(function(n,r,o){e(n,r,o)&&t.push(n)}),t},c.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},c.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},c.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},c.prototype.cloneDeep=function(){return this.map(function(e){return e.cloneDeep()})},c.prototype.equals=function(e){return!!e&&i(this,e)},c.prototype.toString=function(e){var t;if(e&&"object"===r(e))switch(r(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toString(e)},c.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},c.prototype.toHTML=function(e){var t;if(e&&"object"===r(e))switch(r(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this.toHTML(e)},c.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},c.prototype.toTex=function(e){var t;if(e&&"object"===r(e))switch(r(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toTex(e)},c.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},c.prototype.getIdentifier=function(){return this.type},c.prototype.getContent=function(){return this},c}},LHK7:function(e,t,n){"use strict";t.array=n("sTyi"),t.boolean=n("NJZR"),t.function=n("0dEn"),t.number=n("199F"),t.object=n("Z2I/"),t.string=n("PXUV"),t.emitter=n("JrXr")},"MI9+":function(e,t,n){"use strict";var r=n("1stm");t.name="bignumber",t.factory=function(e,t,n,o){var i=o("bignumber",{"":function(){return new e.BigNumber(0)},number:function(t){return new e.BigNumber(t+"")},string:function(t){return new e.BigNumber(t)},BigNumber:function(e){return e},Fraction:function(t){return new e.BigNumber(t.n).div(t.d).times(t.s)},null:function(t){return new e.BigNumber(0)},"Array | Matrix":function(e){return r(e,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)"},i}},MKmT:function(e,t,n){"use strict";var r=n("sTyi"),o=n("199F").isInteger;t.name="identity",t.factory=function(e,t,i,a){var s=i(n("R4H5")),u=a("identity",{"":function(){return"Matrix"===t.matrix?s([]):[]},string:function(e){return s(e)},"number | BigNumber":function(e){return l(e,e,"Matrix"===t.matrix?"default":void 0)},"number | BigNumber, string":function(e,t){return l(e,e,t)},"number | BigNumber, number | BigNumber":function(e,n){return l(e,n,"Matrix"===t.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return l(e,t,n)},Array:function(e){return c(e)},"Array, string":function(e,t){return c(e,t)},Matrix:function(e){return c(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return c(e.valueOf(),t)}});return u.toTex=void 0,u;function c(e,t){switch(e.length){case 0:return t?s(t):[];case 1:return l(e[0],e[0],t);case 2:return l(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function l(t,n,i){var a=e.isBigNumber(t)||e.isBigNumber(n)?e.BigNumber:null;if(e.isBigNumber(t)&&(t=t.toNumber()),e.isBigNumber(n)&&(n=n.toNumber()),!o(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!o(n)||n<1)throw new Error("Parameters in function identity must be positive integers");var s=a?new e.BigNumber(1):1,u=a?new a(0):0,c=[t,n];if(i)return e.Matrix.storage(i).diagonal(c,s,0,u);for(var l=r.resize([],c,u),p=t<n?t:n,f=0;f<p;f++)l[f][f]=s;return l}}},MUdo:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n("ESPO"),i=n("1stm");t.name="parse",t.path="expression",t.factory=function(e,t,a,s){var u=a(n("7lEX")),c=a(n("Ii65")),l=a(n("v0wB")),p=a(n("uxtw")),f=a(n("l41f")),h=a(n("35fj")),d=a(n("kip4")),m=a(n("p2yA")),y=a(n("AGIY")),v=a(n("RYjE")),g=a(n("ut+i")),b=a(n("+6pz")),w=a(n("Z+Vt")),x=a(n("uPaw")),S=a(n("Dnvl")),E=a(n("FX2d"));function O(t,n){if(1!==arguments.length&&2!==arguments.length)throw new o("parse",arguments.length,1,2);var r=n&&n.nodes?n.nodes:{};if("string"==typeof t)return B(t,r);if(Array.isArray(t)||t instanceof e.Matrix)return i(t,function(e){if("string"!=typeof e)throw new TypeError("String expected");return B(e,r)});throw new TypeError("String or matrix expected")}var N={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},T={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},A={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},_={true:!0,false:!1,null:null,undefined:void 0},C=["NaN","Infinity"];function j(e,t){return e.expression.substr(e.index,t)}function M(e){return j(e,1)}function k(e){e.index++}function D(e){return e.expression.charAt(e.index-1)}function P(e){return e.expression.charAt(e.index+1)}function I(e){for(e.tokenType=N.NULL,e.token="",e.comment="";O.isWhitespace(M(e),e.nestingLevel);)k(e);if("#"===M(e))for(;"\n"!==M(e)&&""!==M(e);)e.comment+=M(e),k(e);if(""!==M(e)){if("\n"===M(e)&&!e.nestingLevel)return e.tokenType=N.DELIMITER,e.token=M(e),void k(e);var t=M(e),n=j(e,2),r=j(e,3);if(3===r.length&&T[r])return e.tokenType=N.DELIMITER,e.token=r,k(e),k(e),void k(e);if(2===n.length&&T[n])return e.tokenType=N.DELIMITER,e.token=n,k(e),void k(e);if(T[t])return e.tokenType=N.DELIMITER,e.token=t,void k(e);if(O.isDigitDot(t)){if(e.tokenType=N.NUMBER,"."===M(e))e.token+=M(e),k(e),O.isDigit(M(e))||(e.tokenType=N.DELIMITER);else{for(;O.isDigit(M(e));)e.token+=M(e),k(e);O.isDecimalMark(M(e),P(e))&&(e.token+=M(e),k(e))}for(;O.isDigit(M(e));)e.token+=M(e),k(e);if("E"===M(e)||"e"===M(e))if(O.isDigit(P(e))||"-"===P(e)||"+"===P(e)){if(e.token+=M(e),k(e),"+"!==M(e)&&"-"!==M(e)||(e.token+=M(e),k(e)),!O.isDigit(M(e)))throw ae(e,'Digit expected, got "'+M(e)+'"');for(;O.isDigit(M(e));)e.token+=M(e),k(e);if(O.isDecimalMark(M(e),P(e)))throw ae(e,'Digit expected, got "'+M(e)+'"')}else if("."===P(e))throw k(e),ae(e,'Digit expected, got "'+M(e)+'"')}else{if(!O.isAlpha(M(e),D(e),P(e))){for(e.tokenType=N.UNKNOWN;""!==M(e);)e.token+=M(e),k(e);throw ae(e,'Syntax error in part "'+e.token+'"')}for(;O.isAlpha(M(e),D(e),P(e))||O.isDigit(M(e));)e.token+=M(e),k(e);A.hasOwnProperty(e.token)?e.tokenType=N.DELIMITER:e.tokenType=N.SYMBOL}}else e.tokenType=N.DELIMITER}function R(e){do{I(e)}while("\n"===e.token)}function z(e){e.nestingLevel++}function V(e){e.nestingLevel--}function B(e,t){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:N.NULL,nestingLevel:0,conditionalLevel:null};r(n,{expression:e,extraNodes:t}),I(n);var o=function(e){var t,n,r=[];for(""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=F(e)).comment=e.comment);"\n"===e.token||";"===e.token;)0===r.length&&t&&(n=";"!==e.token,r.push({node:t,visible:n})),I(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=F(e)).comment=e.comment,n=";"!==e.token,r.push({node:t,visible:n}));return r.length>0?new f(r):(t||((t=new d(void 0)).comment=e.comment),t)}(n);if(""!==n.token)throw n.tokenType===N.DELIMITER?se(n,"Unexpected operator "+n.token):ae(n,'Unexpected part "'+n.token+'"');return o}function F(t){var n,r,o,i,a=function(e){for(var t=function(e){for(var t=L(e);"or"===e.token;)R(e),t=new g("or","or",[t,L(e)]);return t}(e);"?"===e.token;){var n=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,R(e);var r=t,o=F(e);if(":"!==e.token)throw ae(e,"False part of conditional expression expected");e.conditionalLevel=null,R(e);var i=F(e);t=new h(r,o,i),e.conditionalLevel=n}return t}(t);if("="===t.token){if(e.isSymbolNode(a))return n=a.name,R(t),o=F(t),new p(new E(n),o);if(e.isAccessorNode(a))return R(t),o=F(t),new p(a.object,a.index,o);if(e.isFunctionNode(a)&&e.isSymbolNode(a.fn)&&(i=!0,r=[],n=a.name,a.args.forEach(function(t,n){e.isSymbolNode(t)?r[n]=t.name:i=!1}),i))return R(t),o=F(t),new m(n,r,o);throw ae(t,"Invalid left hand side of assignment operator =")}return a}function L(e){for(var t=H(e);"xor"===e.token;)R(e),t=new g("xor","xor",[t,H(e)]);return t}function H(e){for(var t=U(e);"and"===e.token;)R(e),t=new g("and","and",[t,U(e)]);return t}function U(e){for(var t=W(e);"|"===e.token;)R(e),t=new g("|","bitOr",[t,W(e)]);return t}function W(e){for(var t=K(e);"^|"===e.token;)R(e),t=new g("^|","bitXor",[t,K(e)]);return t}function K(e){for(var t=X(e);"&"===e.token;)R(e),t=new g("&","bitAnd",[t,X(e)]);return t}function X(e){for(var t=[J(e)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};r.hasOwnProperty(e.token);){var o={name:e.token,fn:r[e.token]};n.push(o),R(e),t.push(J(e))}return 1===t.length?t[0]:2===t.length?new g(n[0].name,n[0].fn,t):new S(n.map(function(e){return e.fn}),t)}function J(e){var t,n,r,o,i;for(t=q(e),n={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};n.hasOwnProperty(e.token);)o=n[r=e.token],R(e),i=[t,q(e)],t=new g(r,o,i);return t}function q(e){var t,n,r,o,i;for(t=$(e),n={to:"to",in:"to"};n.hasOwnProperty(e.token);)o=n[r=e.token],R(e),"in"===r&&""===e.token?t=new g("*","multiply",[t,new E("in")],!0):(i=[t,$(e)],t=new g(r,o,i));return t}function $(e){var t,n=[];if(t=":"===e.token?new d(1):Y(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(n.push(t);":"===e.token&&n.length<3;)R(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?n.push(new E("end")):n.push(Y(e));t=3===n.length?new x(n[0],n[2],n[1]):new x(n[0],n[1])}return t}function Y(e){var t,n,r,o,i;for(t=G(e),n={"+":"add","-":"subtract"};n.hasOwnProperty(e.token);)o=n[r=e.token],R(e),i=[t,G(e)],t=new g(r,o,i);return t}function G(e){var t,n,r,o,i;for(n=t=Z(e),r={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};r.hasOwnProperty(e.token);)i=r[o=e.token],R(e),n=Z(e),t=new g(o,i,[t,n]);return t}function Z(t){var n,r;for(r=n=Q(t);t.tokenType===N.SYMBOL||"in"===t.token&&e.isConstantNode(n)||!(t.tokenType!==N.NUMBER||e.isConstantNode(r)||e.isOperatorNode(r)&&"!"!==r.op)||"("===t.token;)r=Q(t),n=new g("*","multiply",[n,r],!0);return n}function Q(t){for(var n=ee(t),o=n,i=[];"/"===t.token&&e.isConstantNode(o);){if(i.push(r({},t)),R(t),t.tokenType!==N.NUMBER){r(t,i.pop());break}if(i.push(r({},t)),R(t),t.tokenType!==N.SYMBOL&&"("!==t.token){i.pop(),r(t,i.pop());break}r(t,i.pop()),i.pop(),o=ee(t),n=new g("/","divide",[n,o])}return n}function ee(e){var n,r,o,i={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return i.hasOwnProperty(e.token)?(o=i[e.token],n=e.token,R(e),r=[ee(e)],new g(n,o,r)):function(e){var n,r,o,i;return n=function(e){var n,r,o,i;for(n=function(e){var n=[];if(e.tokenType===N.SYMBOL&&e.extraNodes.hasOwnProperty(e.token)){var r=e.extraNodes[e.token];if(I(e),"("===e.token){if(n=[],z(e),I(e),")"!==e.token)for(n.push(F(e));","===e.token;)I(e),n.push(F(e));if(")"!==e.token)throw ae(e,"Parenthesis ) expected");V(e),I(e)}return new r(n)}return function(e){var n,r;return e.tokenType===N.SYMBOL||e.tokenType===N.DELIMITER&&e.token in A?(r=e.token,I(e),n=_.hasOwnProperty(r)?new d(_[r]):-1!==C.indexOf(r)?new d(u(r,"number")):new E(r),n=te(e,n)):function(e){var n,r;return'"'===e.token?(r=ne(e),n=new d(r),n=te(e,n)):function(e){var n,r;return"'"===e.token?(r=re(e),n=new d(r),n=te(e,n)):function(e){var n,r,o,i;if("["===e.token){if(z(e),I(e),"]"!==e.token){var a=oe(e);if(";"===e.token){for(o=1,r=[a];";"===e.token;)I(e),r[o]=oe(e),o++;if("]"!==e.token)throw ae(e,"End of matrix ] expected");V(e),I(e),i=r[0].items.length;for(var s=1;s<o;s++)if(r[s].items.length!==i)throw se(e,"Column dimensions mismatch ("+r[s].items.length+" !== "+i+")");n=new l(r)}else{if("]"!==e.token)throw ae(e,"End of matrix ] expected");V(e),I(e),n=a}}else V(e),I(e),n=new l([]);return te(e,n)}return function(e){if("{"===e.token){var n;z(e);var r={};do{if(I(e),"}"!==e.token){if('"'===e.token)n=ne(e);else if("'"===e.token)n=re(e);else{if(e.tokenType!==N.SYMBOL)throw ae(e,"Symbol or string expected as object key");n=e.token,I(e)}if(":"!==e.token)throw ae(e,"Colon : expected after object key");I(e),r[n]=F(e)}}while(","===e.token);if("}"!==e.token)throw ae(e,"Comma , or bracket } expected after object value");V(e),I(e);var o=new v(r);return o=te(e,o)}return function(e){var n;return e.tokenType===N.NUMBER?(n=e.token,I(e),new d(u(n,t.number))):function(e){var t;if("("===e.token){if(z(e),I(e),t=F(e),")"!==e.token)throw ae(e,"Parenthesis ) expected");return V(e),I(e),t=new b(t),t=te(e,t)}return function(e){throw""===e.token?ae(e,"Unexpected end of expression"):ae(e,"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e),r={"!":"factorial","'":"ctranspose"};r.hasOwnProperty(e.token);)o=e.token,i=r[o],I(e),n=new g(o,i,[n]),n=te(e,n);return n}(e),("^"===e.token||".^"===e.token)&&(r=e.token,o="^"===r?"pow":"dotPow",R(e),i=[n,ee(e)],n=new g(r,o,i)),n}(e)}function te(t,n,r){for(var o;!("("!==t.token&&"["!==t.token&&"."!==t.token||r&&-1===r.indexOf(t.token));)if(o=[],"("===t.token){if(!e.isSymbolNode(n)&&!e.isAccessorNode(n))return n;if(z(t),I(t),")"!==t.token)for(o.push(F(t));","===t.token;)I(t),o.push(F(t));if(")"!==t.token)throw ae(t,"Parenthesis ) expected");V(t),I(t),n=new w(n,o)}else if("["===t.token){if(z(t),I(t),"]"!==t.token)for(o.push(F(t));","===t.token;)I(t),o.push(F(t));if("]"!==t.token)throw ae(t,"Parenthesis ] expected");V(t),I(t),n=new c(n,new y(o))}else{if(I(t),t.tokenType!==N.SYMBOL)throw ae(t,"Property name expected after dot");o.push(new d(t.token)),I(t),n=new c(n,new y(o,!0))}return n}function ne(e){for(var t="";""!==M(e)&&'"'!==M(e);)"\\"===M(e)&&(t+=M(e),k(e)),t+=M(e),k(e);if(I(e),'"'!==e.token)throw ae(e,'End of string " expected');return I(e),JSON.parse('"'+t+'"')}function re(e){for(var t="";""!==M(e)&&"'"!==M(e);)"\\"===M(e)&&(t+=M(e),k(e)),t+=M(e),k(e);if(I(e),"'"!==e.token)throw ae(e,"End of string ' expected");return I(e),JSON.parse('"'+t+'"')}function oe(e){for(var t=[F(e)],n=1;","===e.token;)I(e),t[n]=F(e),n++;return new l(t)}function ie(e){return e.index-e.token.length+1}function ae(e,t){var n=ie(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}function se(e,t){var n=ie(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}return O.isAlpha=function(e,t,n){return O.isValidLatinOrGreek(e)||O.isValidMathSymbol(e,n)||O.isValidMathSymbol(t,e)},O.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},O.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},O.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},O.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},O.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},O.isDigit=function(e){return e>="0"&&e<="9"},O}},MVZn:function(e,t,n){var r=n("lSNA");e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}},MmBA:function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},MqKi:function(e,t,n){"use strict";var r=n("X8kj");t.name="algorithm04",t.factory=function(e,t,o,i){var a=o(n("hj6K")),s=e.SparseMatrix;return function(e,t,n){var o=e._values,u=e._index,c=e._ptr,l=e._size,p=e._datatype,f=t._values,h=t._index,d=t._ptr,m=t._size,y=t._datatype;if(l.length!==m.length)throw new r(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var v,g=l[0],b=l[1],w=a,x=0,S=n;"string"==typeof p&&p===y&&(v=p,w=i.find(a,[v,v]),x=i.convert(0,v),S=i.find(n,[v,v]));var E,O,N,T,A,_=o&&f?[]:void 0,C=[],j=[],M=new s({values:_,index:C,ptr:j,size:[g,b],datatype:v}),k=o&&f?[]:void 0,D=o&&f?[]:void 0,P=[],I=[];for(O=0;O<b;O++){j[O]=C.length;var R=O+1;for(T=c[O],A=c[O+1],N=T;N<A;N++)E=u[N],C.push(E),P[E]=R,k&&(k[E]=o[N]);for(T=d[O],A=d[O+1],N=T;N<A;N++)if(P[E=h[N]]===R){if(k){var z=S(k[E],f[N]);w(z,x)?P[E]=null:k[E]=z}}else C.push(E),I[E]=R,D&&(D[E]=f[N]);if(k&&D)for(N=j[O];N<C.length;)P[E=C[N]]===R?(_[N]=k[E],N++):I[E]===R?(_[N]=D[E],N++):C.splice(N,1)}return j[b]=C.length,M}}},N5iU:function(e,t,n){"use strict";var r=n("199F").isInteger,o=n("199F").toFixed,i=n("1stm"),a="Number of decimals in function round must be an integer";function s(e,t){return parseFloat(o(e,t))}t.name="round",t.factory=function(e,t,o,u){var c=o(n("R4H5")),l=o(n("hj6K")),p=o(n("9a6t")),f=o(n("nr1U")),h=o(n("/z5F")),d=o(n("BLb5")),m=u("round",{number:function(e){return s(e,0)},"number, number":function(e,t){if(!r(t))throw new TypeError(a);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return s(e,t)},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(a);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(a);var n=t.toNumber();return e.round(n)},"number, BigNumber":function(t,n){if(!n.isInteger())throw new TypeError(a);return new e.BigNumber(t).toDecimalPlaces(n.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(a);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(a);return e.round(t)},"Array | Matrix":function(e){return i(e,m,!0)},"SparseMatrix, number | BigNumber":function(e,t){return f(e,t,m,!1)},"DenseMatrix, number | BigNumber":function(e,t){return d(e,t,m,!1)},"number | Complex | BigNumber, SparseMatrix":function(e,t){return l(e,0)?p(t.size(),t.storage()):h(t,e,m,!0)},"number | Complex | BigNumber, DenseMatrix":function(e,t){return l(e,0)?p(t.size(),t.storage()):d(t,e,m,!0)},"Array, number | BigNumber":function(e,t){return d(c(e),t,m,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return d(c(t),e,m,!0).valueOf()}});return m.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},m}},NEdZ:function(e,t,n){"use strict";var r=n("Z2I/").extend;t.name="add",t.factory=function(e,t,o,i){var a=o(n("R4H5")),s=o(n("XXst")),u=n("bFQJ"),c=o(n("eX2I")),l=o(n("MqKi")),p=o(n("v+4T")),f=o(n("zbDx")),h=o(n("BLb5")),d=i("add",r({"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,s)},"DenseMatrix, SparseMatrix":function(e,t){return c(e,t,s,!1)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,s,!0)},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,s)},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"DenseMatrix, any":function(e,t){return h(e,t,s,!1)},"SparseMatrix, any":function(e,t){return p(e,t,s,!1)},"any, DenseMatrix":function(e,t){return h(t,e,s,!0)},"any, SparseMatrix":function(e,t){return p(t,e,s,!0)},"Array, any":function(e,t){return h(a(e),t,s,!1).valueOf()},"any, Array":function(e,t){return h(a(t),e,s,!0).valueOf()},"any, any":s,"any, any, ...any":function(e,t,n){for(var r=d(e,t),o=0;o<n.length;o++)r=d(r,n[o]);return r}},s.signatures));return d.toTex={2:"\\left(${args[0]}".concat(u.operators.add,"${args[1]}\\right)")},d}},NJZR:function(e,t,n){"use strict";t.isBoolean=function(e){return"boolean"==typeof e}},"NU+P":function(e,t,n){"use strict";var r=n("Z2I/").extend,o=n("sTyi");t.name="multiply",t.factory=function(e,t,i,a){var s=n("bFQJ"),u=i(n("R4H5")),c=i(n("XXst")),l=i(n("oiZ2")),p=i(n("hj6K")),f=i(n("nr1U")),h=i(n("BLb5")),d=e.DenseMatrix,m=e.SparseMatrix,y=a("multiply",r({"Array, Array":function(t,n){v(o.size(t),o.size(n));var r=y(u(t),u(n));return e.isMatrix(r)?r.valueOf():r},"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();return v(n,r),1===n.length?1===r.length?function(e,t,n){if(0===n)throw new Error("Cannot multiply two empty vectors");var r,o=e._data,i=e._datatype,s=t._data,u=t._datatype,p=c,f=l;i&&u&&i===u&&"string"==typeof i&&(r=i,p=a.find(c,[r,r]),f=a.find(l,[r,r]));for(var h=f(o[0],s[0]),d=1;d<n;d++)h=p(h,f(o[d],s[d]));return h}(e,t,n[0]):function(e,t){if("dense"!==t.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,t){var n,r=e._data,o=e._size,i=e._datatype,s=t._data,u=t._size,p=t._datatype,f=o[0],h=u[1],m=c,y=l;i&&p&&i===p&&"string"==typeof i&&(n=i,m=a.find(c,[n,n]),y=a.find(l,[n,n]));for(var v=[],g=0;g<h;g++){for(var b=y(r[0],s[0][g]),w=1;w<f;w++)b=m(b,y(r[w],s[w][g]));v[g]=b}return new d({data:v,size:[h],datatype:n})}(e,t)}(e,t):1===r.length?g(e,t):b(e,t)},"Matrix, Array":function(e,t){return y(e,u(t))},"Array, Matrix":function(e,t){return y(u(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return f(e,t,l,!1)},"DenseMatrix, any":function(e,t){return h(e,t,l,!1)},"any, SparseMatrix":function(e,t){return f(t,e,l,!0)},"any, DenseMatrix":function(e,t){return h(t,e,l,!0)},"Array, any":function(e,t){return h(u(e),t,l,!1).valueOf()},"any, Array":function(e,t){return h(u(t),e,l,!0).valueOf()},"any, any":l,"any, any, ...any":function(e,t,n){for(var r=y(e,t),o=0;o<n.length;o++)r=y(r,n[o]);return r}},l.signatures));function v(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}var g=a("_multiplyMatrixVector",{"DenseMatrix, any":function(e,t){var n,r=e._data,o=e._size,i=e._datatype,s=t._data,u=t._datatype,p=o[0],f=o[1],h=c,m=l;i&&u&&i===u&&"string"==typeof i&&(n=i,h=a.find(c,[n,n]),m=a.find(l,[n,n]));for(var y=[],v=0;v<p;v++){for(var g=r[v],b=m(g[0],s[0]),w=1;w<f;w++)b=h(b,m(g[w],s[w]));y[v]=b}return new d({data:y,size:[p],datatype:n})},"SparseMatrix, any":function(e,t){var n=e._values,r=e._index,o=e._ptr,i=e._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=t._data,f=t._datatype,h=e._size[0],d=t._size[0],y=[],v=[],g=[],b=c,w=l,x=p,S=0;i&&f&&i===f&&"string"==typeof i&&(s=i,b=a.find(c,[s,s]),w=a.find(l,[s,s]),x=a.find(p,[s,s]),S=a.convert(0,s));var E=[],O=[];g[0]=0;for(var N=0;N<d;N++){var T=u[N];if(!x(T,S))for(var A=o[N],_=o[N+1],C=A;C<_;C++){var j=r[C];O[j]?E[j]=b(E[j],w(T,n[C])):(O[j]=!0,v.push(j),E[j]=w(T,n[C]))}}for(var M=v.length,k=0;k<M;k++){var D=v[k];y[k]=E[D]}return g[1]=v.length,new m({values:y,index:v,ptr:g,size:[h,1],datatype:s})}}),b=a("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,t){var n,r=e._data,o=e._size,i=e._datatype,s=t._data,u=t._size,p=t._datatype,f=o[0],h=o[1],m=u[1],y=c,v=l;i&&p&&i===p&&"string"==typeof i&&(n=i,y=a.find(c,[n,n]),v=a.find(l,[n,n]));for(var g=[],b=0;b<f;b++){var w=r[b];g[b]=[];for(var x=0;x<m;x++){for(var S=v(w[0],s[0][x]),E=1;E<h;E++)S=y(S,v(w[E],s[E][x]));g[b][x]=S}}return new d({data:g,size:[f,m],datatype:n})},"DenseMatrix, SparseMatrix":function(e,t){var n=e._data,r=e._size,o=e._datatype,i=t._values,s=t._index,u=t._ptr,f=t._size,h=t._datatype;if(!i)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,y=r[0],v=f[1],g=c,b=l,w=p,x=0;o&&h&&o===h&&"string"==typeof o&&(d=o,g=a.find(c,[d,d]),b=a.find(l,[d,d]),w=a.find(p,[d,d]),x=a.convert(0,d));for(var S=[],E=[],O=[],N=new m({values:S,index:E,ptr:O,size:[y,v],datatype:d}),T=0;T<v;T++){O[T]=E.length;var A=u[T],_=u[T+1];if(_>A)for(var C=0,j=0;j<y;j++){for(var M=j+1,k=void 0,D=A;D<_;D++){var P=s[D];C!==M?(k=b(n[j][P],i[D]),C=M):k=g(k,b(n[j][P],i[D]))}C!==M||w(k,x)||(E.push(j),S.push(k))}}return O[v]=E.length,N},"SparseMatrix, DenseMatrix":function(e,t){var n=e._values,r=e._index,o=e._ptr,i=e._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=t._data,f=t._datatype,h=e._size[0],d=t._size[0],y=t._size[1],v=c,g=l,b=p,w=0;i&&f&&i===f&&"string"==typeof i&&(s=i,v=a.find(c,[s,s]),g=a.find(l,[s,s]),b=a.find(p,[s,s]),w=a.convert(0,s));for(var x=[],S=[],E=[],O=new m({values:x,index:S,ptr:E,size:[h,y],datatype:s}),N=[],T=[],A=0;A<y;A++){E[A]=S.length;for(var _=A+1,C=0;C<d;C++){var j=u[C][A];if(!b(j,w))for(var M=o[C],k=o[C+1],D=M;D<k;D++){var P=r[D];T[P]!==_?(T[P]=_,S.push(P),N[P]=g(j,n[D])):N[P]=v(N[P],g(j,n[D]))}}for(var I=E[A],R=S.length,z=I;z<R;z++){var V=S[z];x[z]=N[V]}}return E[y]=S.length,O},"SparseMatrix, SparseMatrix":function(e,t){var n,r=e._values,o=e._index,i=e._ptr,s=e._datatype,u=t._values,p=t._index,f=t._ptr,h=t._datatype,d=e._size[0],y=t._size[1],v=r&&u,g=c,b=l;s&&h&&s===h&&"string"==typeof s&&(n=s,g=a.find(c,[n,n]),b=a.find(l,[n,n]));for(var w,x,S,E,O,N,T,A,_=v?[]:void 0,C=[],j=[],M=new m({values:_,index:C,ptr:j,size:[d,y],datatype:n}),k=v?[]:void 0,D=[],P=0;P<y;P++){j[P]=C.length;var I=P+1;for(O=f[P],N=f[P+1],E=O;E<N;E++)if(A=p[E],v)for(x=i[A],S=i[A+1],w=x;w<S;w++)T=o[w],D[T]!==I?(D[T]=I,C.push(T),k[T]=b(u[E],r[w])):k[T]=g(k[T],b(u[E],r[w]));else for(x=i[A],S=i[A+1],w=x;w<S;w++)T=o[w],D[T]!==I&&(D[T]=I,C.push(T));if(v)for(var R=j[P],z=C.length,V=R;V<z;V++){var B=C[V];_[V]=k[B]}}return j[y]=C.length,M}});return y.toTex={2:"\\left(${args[0]}".concat(s.operators.multiply,"${args[1]}\\right)")},y}},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},Nsef:function(e,t,n){"use strict";t.name="and",t.factory=function(e,t,r,o){var i=n("bFQJ"),a=r(n("R4H5")),s=r(n("9a6t")),u=r(n("BdOc")),c=r(n("4fwU")),l=r(n("1d6v")),p=r(n("nr1U")),f=r(n("zbDx")),h=r(n("BLb5")),d=o("and",{"number, number":function(e,t){return!(!e||!t)},"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return d(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,d,!1)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return c(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,d)},"Array, Array":function(e,t){return d(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return d(a(e),t)},"Matrix, Array":function(e,t){return d(e,a(t))},"SparseMatrix, any":function(e,t){return u(t)?s(e.size(),e.storage()):p(e,t,d,!1)},"DenseMatrix, any":function(e,t){return u(t)?s(e.size(),e.storage()):h(e,t,d,!1)},"any, SparseMatrix":function(e,t){return u(e)?s(e.size(),e.storage()):p(t,e,d,!0)},"any, DenseMatrix":function(e,t){return u(e)?s(e.size(),e.storage()):h(t,e,d,!0)},"Array, any":function(e,t){return d(a(e),t).valueOf()},"any, Array":function(e,t){return d(e,a(t)).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(i.operators.and,"${args[1]}\\right)")},d}},O1N0:function(e,t,n){"use strict";var r=n("X8kj");function o(e,t){var n=e.size(),o=t.size();if(n.length!==o.length)throw new r(n.length,o.length)}t.name="subtract",t.factory=function(e,t,r,i){var a=n("bFQJ"),s=r(n("R4H5")),u=r(n("XXst")),c=r(n("7DiD")),l=r(n("eX2I")),p=r(n("hYuG")),f=r(n("ZXMR")),h=r(n("v+4T")),d=r(n("zbDx")),m=r(n("BLb5")),y=i("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=y(n.value,t.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t),f(e,t,y)},"SparseMatrix, DenseMatrix":function(e,t){return o(e,t),p(t,e,y,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t),l(e,t,y,!1)},"DenseMatrix, DenseMatrix":function(e,t){return o(e,t),d(e,t,y)},"Array, Array":function(e,t){return y(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return y(s(e),t)},"Matrix, Array":function(e,t){return y(e,s(t))},"SparseMatrix, any":function(e,t){return h(e,c(t),u)},"DenseMatrix, any":function(e,t){return m(e,t,y)},"any, SparseMatrix":function(e,t){return h(t,e,y,!0)},"any, DenseMatrix":function(e,t){return m(t,e,y,!0)},"Array, any":function(e,t){return m(s(e),t,y,!1).valueOf()},"any, Array":function(e,t){return m(s(t),e,y,!0).valueOf()}});return y.toTex={2:"\\left(${args[0]}".concat(a.operators.subtract,"${args[1]}\\right)")},y}},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},PXUV:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("199F").format,i=n("Dq+S").format,a=n("pvRk");t.isString=function(e){return"string"==typeof e},t.endsWith=function(e,t){var n=e.length-t.length,r=e.length;return e.substring(n,r)===t},t.format=function(e,n){if("number"==typeof e)return o(e,n);if(a(e))return i(e,n);if(function(e){return e&&"object"===r(e)&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e))return n&&"decimal"===n.fraction?e.toString():e.s*e.n+"/"+e.d;if(Array.isArray(e))return function e(n,r){if(Array.isArray(n)){for(var o="[",i=n.length,a=0;a<i;a++)0!==a&&(o+=", "),o+=e(n[a],r);return o+="]"}return t.format(n,r)}(e,n);if(t.isString(e))return'"'+e+'"';if("function"==typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"===r(e)){if("function"==typeof e.format)return e.format(n);if(e&&e.toString()!=={}.toString())return e.toString();var s=[];for(var u in e)e.hasOwnProperty(u)&&s.push('"'+u+'": '+t.format(e[u],n));return"{"+s.join(", ")+"}"}return String(e)},t.stringify=function(e){for(var t=String(e),n="",r=0;r<t.length;){var o=t.charAt(r);"\\"===o?(n+=o,r++,""!==(o=t.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(o)||(n+="\\"),n+=o):n+='"'===o?'\\"':o,r++}return'"'+n+'"'},t.escape=function(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},QILm:function(e,t,n){var r=n("8OQS");e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},QfvV:function(e,t,n){"use strict";var r=n("LHK7");t.name="inv",t.factory=function(e,t,o,i){var a=o(n("R4H5")),s=o(n("WPGy")),u=o(n("XXst")),c=o(n("NU+P")),l=o(n("7DiD")),p=o(n("3efQ")),f=o(n("MKmT")),h=o(n("fTxE")),d=i("inv",{"Array | Matrix":function(t){var n=e.isMatrix(t)?t.size():r.array.size(t);switch(n.length){case 1:if(1===n[0])return e.isMatrix(t)?a([s(1,t.valueOf()[0])]):[s(1,t[0])];throw new RangeError("Matrix must be square (size: "+r.string.format(n)+")");case 2:var o=n[0],i=n[1];if(o===i)return e.isMatrix(t)?a(m(t.valueOf(),o,i),t.storage()):m(t,o,i);throw new RangeError("Matrix must be square (size: "+r.string.format(n)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+r.string.format(n)+")")}},any:function(e){return s(1,e)}});function m(e,t,n){var r,o,i,a,d;if(1===t){if(0===(a=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[s(1,a)]]}if(2===t){var m=p(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[s(e[1][1],m),s(l(e[0][1]),m)],[s(l(e[1][0]),m),s(e[0][0],m)]]}var y=e.concat();for(r=0;r<t;r++)y[r]=y[r].concat();for(var v=f(t).valueOf(),g=0;g<n;g++){var b=h(y[g][g]),w=g;for(r=g+1;r<t;)h(y[r][g])>b&&(b=h(y[r][g]),w=r),r++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(r=w)!==g&&(d=y[g],y[g]=y[r],y[r]=d,d=v[g],v[g]=v[r],v[r]=d);var x=y[g],S=v[g];for(r=0;r<t;r++){var E=y[r],O=v[r];if(r!==g){if(0!==E[g]){for(i=s(l(E[g]),x[g]),o=g;o<n;o++)E[o]=u(E[o],c(i,x[o]));for(o=0;o<n;o++)O[o]=u(O[o],c(i,S[o]))}}else{for(i=x[g],o=g;o<n;o++)E[o]=s(E[o],i);for(o=0;o<n;o++)O[o]=s(O[o],i)}}}return v}return d.toTex={1:"\\left(${args[0]}\\right)^{-1}"},d}},QllX:function(e,t,n){"use strict";var r=n("1stm");t.name="floor",t.factory=function(e,t,n,o){var i=o("floor",{number:Math.floor,Complex:function(e){return e.floor()},BigNumber:function(e){return e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return r(e,i,!0)}});return i.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},i}},R4H5:function(e,t,n){"use strict";t.name="matrix",t.factory=function(e,t,n,r){var o=r("matrix",{"":function(){return i([])},string:function(e){return i([],e)},"string, string":function(e,t){return i([],e,t)},Array:function(e){return i(e)},Matrix:function(e){return i(e,e.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o;function i(t,n,r){return new(e.Matrix.storage(n||"default"))(t,r)}}},R4gy:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},i={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},a=function(e,t){return r({},e,t)};e.exports=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preserveFormatting,s=void 0!==n&&n,u=t.escapeMapFn,c=void 0===u?a:u,l=String(e),p="",f=c(r({},o),s?r({},i):{}),h=Object.keys(f),d=function(){var e=!1;h.forEach(function(t,n){e||l.length>=t.length&&l.slice(0,t.length)===t&&(p+=f[h[n]],l=l.slice(t.length,l.length),e=!0)}),e||(p+=l.slice(0,1),l=l.slice(1,l.length))};l;)d();return p}},RIqP:function(e,t,n){var r=n("Ijbi"),o=n("EbDI"),i=n("Bnag");e.exports=function(e){return r(e)||o(e)||i()}},RYjE:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("PXUV").stringify,i=n("PXUV").escape,a=n("4bae").isSafeProperty,s=n("Z2I/").hasOwnProperty;t.name="ObjectNode",t.path="expression.node",t.factory=function(e,t,u,c){var l=u(n("K6lB"));function p(t){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!==r(t)||!Object.keys(t).every(function(n){return e.isNode(t[n])})))throw new TypeError("Object containing Nodes expected")}return p.prototype=new l,p.prototype.type="ObjectNode",p.prototype.isObjectNode=!0,p.prototype._compile=function(e,t){var n={};for(var r in this.properties)if(s(this.properties,r)){var i=o(r),u=JSON.parse(i);if(!a(this.properties,u))throw new Error('No access to property "'+u+'"');n[u]=this.properties[r]._compile(e,t)}return function(e,t,r){var o={};for(var i in n)s(n,i)&&(o[i]=n[i](e,t,r));return o}},p.prototype.forEach=function(e){for(var t in this.properties)this.properties.hasOwnProperty(t)&&e(this.properties[t],"properties["+o(t)+"]",this)},p.prototype.map=function(e){var t={};for(var n in this.properties)this.properties.hasOwnProperty(n)&&(t[n]=this._ifNode(e(this.properties[n],"properties["+o(n)+"]",this)));return new p(t)},p.prototype.clone=function(){var e={};for(var t in this.properties)this.properties.hasOwnProperty(t)&&(e[t]=this.properties[t]);return new p(e)},p.prototype._toString=function(e){var t=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&t.push(o(n)+": "+this.properties[n].toString(e));return"{"+t.join(", ")+"}"},p.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},p.fromJSON=function(e){return new p(e.properties)},p.prototype.toHTML=function(e){var t=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&t.push('<span class="math-symbol math-property">'+i(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},p.prototype._toTex=function(e){var t=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&t.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},p}},S2pI:function(e,t,n){"use strict";function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="IndexError",r.prototype.isIndexError=!0,e.exports=r},S5k1:function(e,t,n){},SgCf:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("Z2I/").lazy,i=n("Z2I/").isFactory,a=n("Z2I/").traverse,s=n("ESPO");t.math=!0,t.name="import",t.factory=function(e,t,n,u,c){function l(e,t,n){if(n.wrap&&"function"==typeof t&&(o=function(){for(var e=[],t=0,n=arguments.length;t<n;t++){var o=arguments[t];e[t]=o&&o.valueOf()}return r.apply(c,e)},(r=t).transform&&(o.transform=r.transform),t=o),m(c[e])&&m(t))return t=n.override?u(e,t.signatures):u(c[e],t),c[e]=t,p(e,t),void c.emit("import",e,function(){return t});var r,o;if(void 0===c[e]||n.override)return c[e]=t,p(e,t),void c.emit("import",e,function(){return t});if(!n.silent)throw new Error('Cannot import "'+e+'": already exists')}function p(e,t){t&&"function"==typeof t.transform?(c.expression.transform[e]=t.transform,y(e)&&(c.expression.mathWithTransform[e]=t.transform)):(delete c.expression.transform[e],y(e)&&(c.expression.mathWithTransform[e]=t))}function f(e){delete c.expression.transform[e],y(e)?c.expression.mathWithTransform[e]=c[e]:delete c.expression.mathWithTransform[e]}function h(e,t){if("string"==typeof e.name){var r=e.name,i=r in c.expression.transform,s=e.path?a(c,e.path):c,l=s.hasOwnProperty(r)?s[r]:void 0,p=function(){var o=n(e);if(o&&"function"==typeof o.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(m(l)&&m(o))return t.override||(o=u(l,o)),o;if(void 0===l||t.override)return o;if(!t.silent)throw new Error('Cannot import "'+r+'": already exists')};!1!==e.lazy?(o(s,r,p),i?f(r):("expression.transform"===e.path||v(e))&&o(c.expression.mathWithTransform,r,p)):(s[r]=p(),i?f(r):("expression.transform"===e.path||v(e))&&(c.expression.mathWithTransform[r]=p())),c.emit("import",r,p,e.path)}else n(e)}function d(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&e.isUnit(t)||t&&e.isComplex(t)||t&&e.isBigNumber(t)||t&&e.isFraction(t)||t&&e.isMatrix(t)||t&&Array.isArray(t)}function m(e){return"function"==typeof e&&"object"===r(e.signatures)}function y(e){return!g.hasOwnProperty(e)}function v(e){return void 0===e.path&&!g.hasOwnProperty(e.name)}var g={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function e(t,n){var o=arguments.length;if(1!==o&&2!==o)throw new s("import",o,1,2);if(n||(n={}),i(t))h(t,n);else if(Array.isArray(t))t.forEach(function(t){e(t,n)});else if("object"===r(t)){for(var a in t)if(t.hasOwnProperty(a)){var u=t[a];d(u)?l(a,u,n):i(t)?h(t,n):e(u,n)}}else if(!n.silent)throw new TypeError("Factory, Object, or Array expected")}},t.lazy=!0},SksO:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},Tb0o:function(e,t,n){"use strict";var r=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function o(e,t){var n=e;"keep"!==t&&(n=e.getContent());for(var o=n.getIdentifier(),i=0;i<r.length;i++)if(o in r[i])return i;return null}e.exports.properties=r,e.exports.getPrecedence=o,e.exports.getAssociativity=function(e,t){var n=e;"keep"!==t&&(n=e.getContent());var i=n.getIdentifier(),a=o(n,t);if(null===a)return null;var s=r[a][i];if(s.hasOwnProperty("associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+s.associativity+"'.")}return null},e.exports.isAssociativeWith=function(e,t,n){var i="keep"!==n?e.getContent():e,a="keep"!==n?e.getContent():t,s=i.getIdentifier(),u=a.getIdentifier(),c=o(i,n);if(null===c)return null;var l=r[c][s];if(l.hasOwnProperty("associativeWith")&&l.associativeWith instanceof Array){for(var p=0;p<l.associativeWith.length;p++)if(l.associativeWith[p]===u)return!0;return!1}return null}},"U/5H":function(e,t,n){var r,o;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */!function(i){"use strict";void 0===(o="function"==typeof(r=function(){if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,r,o,i,a,s,u,c,l,p,f,h,d,m,y,v,g,b,w,x,S,E,O,N=[],T=!1,A=!1,_=!1,C=[],j=!1,M=!1,k=/\s+/g,D="Sortable"+(new Date).getTime(),P=window,I=P.document,R=P.parseInt,z=P.setTimeout,V=P.jQuery||P.Zepto,B=P.Polymer,F={capture:!1,passive:!1},L=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),H=!!navigator.userAgent.match(/Edge/i),U=H||L?"cssFloat":"float",W="draggable"in I.createElement("div"),K=function(){if(L)return!1;var e=I.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),X=!1,J=!1,q=Math.abs,$=Math.min,Y=[],G=function(e,t){var n=me(e),r=R(n.width),o=Se(e,0,t),i=Se(e,1,t),a=o&&me(o),s=i&&me(i),u=a&&R(a.marginLeft)+R(a.marginRight)+ke(o).width,c=s&&R(s.marginLeft)+R(s.marginRight)+ke(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if(o&&"none"!==a.float){var l="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==l?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||u>=r&&"none"===n[U]||i&&"none"===n[U]&&u+c>r)?"vertical":"horizontal"},Z=function(e,t){if(!e||!e.getBoundingClientRect)return P;var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=me(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n||!n.getBoundingClientRect||n===I.body)return P;if(r||t)return n;r=!0}}}while(n=n.parentNode);return P},Q=Ae(function(e,t,n,r){if(t.scroll){var o=n?n[D]:window,i=t.scrollSensitivity,a=t.scrollSpeed,l=e.clientX,p=e.clientY,f=(window.innerWidth,window.innerHeight,!1);u!==n&&(ee(),s=t.scroll,c=t.scrollFn,!0===s&&(s=Z(n,!0),u=s));var h=0,d=s;do{var m,y,v,b,w,x,S,E,O,A=d,_=ke(A),C=_.top,j=_.bottom,M=_.left,k=_.right,R=_.width,z=_.height;if(A!==P?(m=A.scrollWidth,y=A.scrollHeight,v=me(A),x=R<m&&("auto"===v.overflowX||"scroll"===v.overflowX),S=z<y&&("auto"===v.overflowY||"scroll"===v.overflowY),E=A.scrollLeft,O=A.scrollTop):(m=I.documentElement.scrollWidth,y=I.documentElement.scrollHeight,v=me(I.documentElement),x=R<m&&("auto"===v.overflowX||"scroll"===v.overflowX||"visible"===v.overflowX),S=z<y&&("auto"===v.overflowY||"scroll"===v.overflowY||"visible"===v.overflowY),E=I.documentElement.scrollLeft,O=I.documentElement.scrollTop),b=x&&(q(k-l)<=i&&E+R<m)-(q(M-l)<=i&&!!E),w=S&&(q(j-p)<=i&&O+z<y)-(q(C-p)<=i&&!!O),!N[h])for(var V=0;V<=h;V++)N[V]||(N[V]={});N[h].vx==b&&N[h].vy==w&&N[h].el===A||(N[h].el=A,N[h].vx=b,N[h].vy=w,clearInterval(N[h].pid),!A||0==b&&0==w||(f=!0,N[h].pid=setInterval(function(){r&&0===this.layer&&ce.active._emulateDragOver(!0);var t=N[this.layer].vy?N[this.layer].vy*a:0,n=N[this.layer].vx?N[this.layer].vx*a:0;"function"==typeof c&&"continue"!==c.call(o,n,t,e,g,N[this.layer].el)||(N[this.layer].el===P?P.scrollTo(P.pageXOffset+n,P.pageYOffset+t):(N[this.layer].el.scrollTop+=t,N[this.layer].el.scrollLeft+=n))}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&d!==P&&(d=Z(d,!1)));T=f}},30),ee=function(){N.forEach(function(e){clearInterval(e.pid)}),N=[]},te=function(e){function t(e,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,i,a),n)(r,o,i,a);var u=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===u||e.join&&e.indexOf(u)>-1}}var n={},r=e.group;r&&"object"==typeof r||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},ne=function(t){e&&e.parentNode&&e.parentNode[D]&&e.parentNode[D]._computeIsAligned(t)},re=function(e,t){for(var n=t;!n[D];)n=n.parentNode;return e===n},oe=function(e,t,n){for(var r=e.parentNode;r&&!r[D];)r=r.parentNode;r&&r[D][n](_e(t,{artificialBubble:!0}))},ie=function(){!K&&n&&me(n,"display","none")},ae=function(){!K&&n&&me(n,"display","")};I.addEventListener("click",function(e){if(_)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),_=!1,!1},!0);var se,ue=function(t){if(t=t.touches?t.touches[0]:t,e){var n=function(e,t){for(var n=0;n<C.length;n++)if(!C[n].children.length){var r=ke(C[n]),o=C[n][D].options.emptyInsertThreshold,i=e>=r.left-o&&e<=r.right+o,a=t>=r.top-o&&t<=r.bottom+o;if(i&&a)return C[n]}}(t.clientX,t.clientY);n&&n[D]._onDragOver({clientX:t.clientX,clientY:t.clientY,target:n,rootEl:n})}};function ce(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=_e({},t),e[D]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return G(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:R(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ce.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(var r in n)!(r in t)&&(t[r]=n[r]);for(var o in te(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&W,t.supportPointer?fe(e,"pointerdown",this._onTapStart):(fe(e,"mousedown",this._onTapStart),fe(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(fe(e,"dragover",this),fe(e,"dragenter",this)),C.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function le(e,t,n,r){if(e){n=n||I;do{if(null!=t&&(">"===t[0]&&e.parentNode===n&&Te(e,t.substring(1))||Te(e,t))||r&&e===n)return e;if(e===n)break}while(e=pe(e))}return null}function pe(e){return e.host&&e!==I&&e.host.nodeType?e.host:e.parentNode}function fe(e,t,n){e.addEventListener(t,n,F)}function he(e,t,n){e.removeEventListener(t,n,F)}function de(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(k," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(k," ")}}function me(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return I.defaultView&&I.defaultView.getComputedStyle?n=I.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function ye(e){var t="";do{var n=me(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function ve(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function ge(e,t,n,o,i,a,s,u,c){var l,p=(e=e||t[D]).options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||L||H?(l=I.createEvent("Event")).initEvent(n,!0,!0):l=new CustomEvent(n,{bubbles:!0,cancelable:!0}),l.to=i||t,l.from=a||t,l.item=o||t,l.clone=r,l.oldIndex=s,l.newIndex=u,l.originalEvent=c,t&&t.dispatchEvent(l),p[f]&&p[f].call(e,l)}function be(e,t,n,r,o,i,a,s){var u,c,l=e[D],p=l.options.onMove;return!window.CustomEvent||L||H?(u=I.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=o||t,u.relatedRect=i||ke(t),u.willInsertAfter=s,u.originalEvent=a,e.dispatchEvent(u),p&&(c=p.call(l,u,a)),c}function we(e){e.draggable=!1}function xe(){X=!1}function Se(t,r,o){for(var i=0,a=0,s=t.children;a<s.length;){if("none"!==s[a].style.display&&s[a]!==n&&s[a]!==e&&le(s[a],o.draggable,t,!1)){if(i===r)return s[a];i++}a++}return null}function Ee(e){for(var t=e.lastElementChild;(t===n||"none"===t.style.display)&&(t=t.previousElementSibling););return t||null}function Oe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Ne(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==r&&n++;return n}function Te(e,t){if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}function Ae(e,t){return function(){if(!se){var n=arguments,r=this;se=z(function(){1===n.length?e.call(r,n[0]):e.apply(r,n),se=void 0},t)}}}function _e(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ce(e){return B&&B.dom?B.dom(e).cloneNode(!0):V?V(e).clone(!0)[0]:e.cloneNode(!0)}function je(e){return z(e,0)}function Me(e){return clearTimeout(e)}function ke(e,t,n){if(e.getBoundingClientRect||e===P){var r,o,i,a,s,u,c;if(e!==P?(o=(r=e.getBoundingClientRect()).top,i=r.left,a=r.bottom,s=r.right,u=r.height,c=r.width):(o=0,i=0,a=window.innerHeight,s=window.innerWidth,u=window.innerHeight,c=window.innerWidth),n&&e!==P){if(t=t||e.parentNode,!L)do{if(t&&t.getBoundingClientRect&&"none"!==me(t,"transform")){var l=t.getBoundingClientRect();o-=l.top+R(me(t,"border-top-width")),i-=l.left+R(me(t,"border-left-width")),a=o+r.height,s=i+r.width;break}}while(t=t.parentNode);var p=ye(e),f=p&&p.a,h=p&&p.d;p&&(a=(o/=h)+(u/=h),s=(i/=f)+(c/=f))}return{top:o,left:i,bottom:a,right:s,width:c,height:u}}}return fe(I,"dragover",ue),fe(I,"mousemove",ue),fe(I,"touchmove",ue),ce.prototype={constructor:ce,_computeIsAligned:function(t){var r;if(n&&!K?(ie(),r=I.elementFromPoint(t.clientX,t.clientY),ae()):r=t.target,r=le(r,this.options.draggable,this.el,!1),!J&&e&&e.parentNode===this.el){for(var o,i,a,s,u,c,l,p,f=this.el.children,h=0;h<f.length;h++)le(f[h],this.options.draggable,this.el,!1)&&f[h]!==r&&(f[h].sortableMouseAligned=(o=t.clientX,i=t.clientY,a=f[h],s=this._getDirection(t,null),this.options,u=ke(a),c="vertical"===s?u.left:u.top,l="vertical"===s?u.right:u.bottom,c<(p="vertical"===s?o:i)&&p<l));le(r,this.options.draggable,this.el,!0)||(w=null),J=!0,z(function(){J=!1},30)}},_getDirection:function(t,n){return"function"==typeof this.options.direction?this.options.direction.call(this,t,n,e):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n,r=this,o=this.el,i=this.options,s=i.preventOnFilter,u=t.type,c=t.touches&&t.touches[0],l=(c||t).target,p=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,f=i.filter;if(function(e){Y.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Y.push(r)}}(o),(!L||t.artificialBubble||re(o,l))&&!e&&!(/mousedown|pointerdown/.test(u)&&0!==t.button||i.disabled||p.isContentEditable))if(l=le(l,i.draggable,o,!1)){if(a!==l){if(n=Ne(l,i.draggable),"function"==typeof f){if(f.call(this,t,l,this))return ge(r,p,"filter",l,o,o,n),void(s&&t.cancelable&&t.preventDefault())}else if(f&&(f=f.split(",").some(function(e){if(e=le(p,e.trim(),o,!1))return ge(r,e,"filter",l,o,o,n),!0})))return void(s&&t.cancelable&&t.preventDefault());i.handle&&!le(p,i.handle,o,!1)||this._prepareDragStart(t,c,l,n)}}else L&&oe(o,t,"_onTapStart")}},_handleAutoScroll:function(t,n){if(e&&this.options.scroll){var r=t.clientX,o=t.clientY,i=I.elementFromPoint(r,o),a=this;if(n||H||L){Q(t,a.options,i,n);var s=Z(i,!0);!T||d&&r===m&&o===y||(d&&clearInterval(d),d=setInterval(function(){if(e){var i=Z(I.elementFromPoint(r,o),!0);i!==s&&(s=i,ee(),Q(t,a.options,s,n))}},10),m=r,y=o)}else{if(!a.options.bubbleScroll||Z(i,!0)===window)return void ee();Q(t,a.options,Z(i,!1),!1)}}},_prepareDragStart:function(n,r,s,u){var c,p=this,h=p.el,d=p.options,m=h.ownerDocument;s&&!e&&s.parentNode===h&&(o=h,t=(e=s).parentNode,i=e.nextSibling,a=s,f=d.group,l=u,v={target:e,clientX:(r||n).clientX,clientY:(r||n).clientY},this._lastX=(r||n).clientX,this._lastY=(r||n).clientY,e.style["will-change"]="all",e.style.transition="",e.style.transform="",c=function(){p._disableDelayedDrag(),e.draggable=p.nativeDraggable,p._triggerDragStart(n,r),ge(p,o,"choose",e,o,o,l),de(e,d.chosenClass,!0)},d.ignore.split(",").forEach(function(t){ve(e,t.trim(),we)}),d.supportPointer?fe(m,"pointerup",p._onDrop):(fe(m,"mouseup",p._onDrop),fe(m,"touchend",p._onDrop),fe(m,"touchcancel",p._onDrop)),d.delay?(fe(m,"mouseup",p._disableDelayedDrag),fe(m,"touchend",p._disableDelayedDrag),fe(m,"touchcancel",p._disableDelayedDrag),fe(m,"mousemove",p._delayedDragTouchMoveHandler),fe(m,"touchmove",p._delayedDragTouchMoveHandler),d.supportPointer&&fe(m,"pointermove",p._delayedDragTouchMoveHandler),p._dragStartTimer=z(c,d.delay)):c())},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;$(q(t.clientX-this._lastX),q(t.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),he(e,"mouseup",this._disableDelayedDrag),he(e,"touchend",this._disableDelayedDrag),he(e,"touchcancel",this._disableDelayedDrag),he(e,"mousemove",this._delayedDragTouchMoveHandler),he(e,"touchmove",this._delayedDragTouchMoveHandler),he(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||("touch"==t.pointerType?t:null),!this.nativeDraggable||n?this.options.supportPointer?fe(I,"pointermove",this._onTouchMove):fe(I,n?"touchmove":"mousemove",this._onTouchMove):(fe(e,"dragend",this),fe(o,"dragstart",this._onDragStart));try{I.selection?je(function(){I.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(t){if(A=!1,o&&e){this.nativeDraggable&&(fe(I,"dragover",this._handleAutoScroll),fe(I,"dragover",ne));var n=this.options;!t&&de(e,n.dragClass,!1),de(e,n.ghostClass,!0),me(e,"transform",""),ce.active=this,t&&this._appendGhost(),ge(this,o,"start",e,o,o,l)}else this._nulling()},_emulateDragOver:function(t){if(g){if(this._lastX===g.clientX&&this._lastY===g.clientY&&!t)return;this._lastX=g.clientX,this._lastY=g.clientY,ie();for(var n=I.elementFromPoint(g.clientX,g.clientY),r=n;n&&n.shadowRoot;)r=n=n.shadowRoot.elementFromPoint(g.clientX,g.clientY);if(r)do{if(r[D]&&r[D]._onDragOver({clientX:g.clientX,clientY:g.clientY,target:n,rootEl:r})&&!this.options.dragoverBubble)break;n=r}while(r=r.parentNode);e.parentNode[D]._computeIsAligned(g),ae()}},_onTouchMove:function(e){if(v){var t=this.options,r=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=n&&ye(n),s=n&&a&&a.a,u=n&&a&&a.d,c=(i.clientX-v.clientX+o.x)/(s||1),l=(i.clientY-v.clientY+o.y)/(u||1),p=e.touches?"translate3d("+c+"px,"+l+"px,0)":"translate("+c+"px,"+l+"px)";if(!ce.active&&!A){if(r&&$(q(i.clientX-this._lastX),q(i.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}this._handleAutoScroll(i,!0),b=!0,g=i,me(n,"webkitTransform",p),me(n,"mozTransform",p),me(n,"msTransform",p),me(n,"transform",p),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!n){var t=ke(e,this.options.fallbackOnBody?I.body:o,!0),r=(me(e),this.options);de(n=e.cloneNode(!0),r.ghostClass,!1),de(n,r.fallbackClass,!0),de(n,r.dragClass,!0),me(n,"box-sizing","border-box"),me(n,"margin",0),me(n,"top",t.top),me(n,"left",t.left),me(n,"width",t.width),me(n,"height",t.height),me(n,"opacity","0.8"),me(n,"position","fixed"),me(n,"zIndex","100000"),me(n,"pointerEvents","none"),r.fallbackOnBody&&I.body.appendChild(n)||o.appendChild(n)}},_onDragStart:function(t,n){var i=this,a=t.dataTransfer,s=i.options;(r=Ce(e)).draggable=!1,r.style["will-change"]="",this._hideClone(),de(r,i.options.chosenClass,!1),i._cloneId=je(function(){i.options.removeCloneOnHide||o.insertBefore(r,e),ge(i,o,"clone",e)}),!n&&de(e,s.dragClass,!0),n?(_=!0,i._loopId=setInterval(i._emulateDragOver,50)):(he(I,"mouseup",i._onDrop),he(I,"touchend",i._onDrop),he(I,"touchcancel",i._onDrop),a&&(a.effectAllowed="move",s.setData&&s.setData.call(i,a,e)),fe(I,"drop",i),me(e,"transform","translateZ(0)")),A=!0,i._dragStartId=je(i._dragStarted.bind(i,n)),fe(I,"selectstart",i)},_onDragOver:function(r){var a,s,u,c=this.el,p=r.target,d=this.options,m=d.group,y=ce.active,v=f===m,g=d.sort,N=this;if(!X&&(!L||r.rootEl||r.artificialBubble||re(c,p))){if(void 0!==r.preventDefault&&r.cancelable&&r.preventDefault(),b=!0,p=le(p,d.draggable,c,!0),le(r.target,null,e,!0)||p.animated)return W();if(p!==e&&(_=!1),y&&!d.disabled&&(v?g||(u=!o.contains(e)):h===this||(this.lastPutMode=f.checkPull(this,y,e,r))&&m.checkPut(this,y,e,r))){var A=this._getDirection(r,p);if(a=ke(e),u)return this._hideClone(),t=o,i?o.insertBefore(e,i):o.appendChild(e),W();if(0===c.children.length||c.children[0]===n||function(e,t,n){var r=ke(Ee(n)),o="vertical"===t?e.clientY:e.clientX,i="vertical"===t?e.clientX:e.clientY,a="vertical"===t?r.bottom:r.right,s="vertical"===t?r.left:r.top,u="vertical"===t?r.right:r.bottom;return"vertical"===t?i>u+10||i<=u&&o>a&&i>=s:o>a&&i>s||o<=a&&i>u+10}(r,A,c)&&!e.animated){if(0!==c.children.length&&c.children[0]!==n&&c===r.target&&(p=Ee(c)),p&&(s=ke(p)),v?y._hideClone():y._showClone(this),!1!==be(o,c,e,a,p,s,r,!!p))return c.appendChild(e),t=c,O=null,K(),this._animate(a,e),p&&this._animate(s,p),W()}else if(p&&p!==e&&p.parentNode===c){var C,k=0,R=p.sortableMouseAligned,V=e.parentNode!==c,B=function(e,t){for(var n=Z(n,!0),r=ke(e)[t];n;){var o=ke(n)[t];if(!("top"===t||"left"===t?r>=o:r<=o))return!0;if(n===P)break;n=Z(n,!1)}return!1}(p,"vertical"===A?"top":"left");if(w!==p&&(S=null,C=ke(p)["vertical"===A?"top":"left"],j=!1),function(t,n,r){var o=t===e&&O||ke(t),i=n===e&&O||ke(n),a="vertical"===r?o.left:o.top,s="vertical"===r?o.right:o.bottom,u="vertical"===r?o.width:o.height,c="vertical"===r?i.left:i.top,l="vertical"===r?i.right:i.bottom,p="vertical"===r?i.width:i.height;return a===c||s===l||a+u/2===c+p/2}(e,p,A)&&R||V||B||d.invertSwap||"insert"===S||"swap"===S?("swap"!==S&&(M=d.invertSwap||V||T||B),k=function(t,n,r,o,i,a,s){var u=ke(n),c="vertical"===r?t.clientY:t.clientX,l="vertical"===r?u.height:u.width,p="vertical"===r?u.top:u.left,f="vertical"===r?u.bottom:u.right,h=ke(e),d=!1;if(!a)if(s&&E<l*o){if(!j&&(1===x?c>p+l*i/2:c<f-l*i/2)&&(j=!0),j)d=!0;else if("vertical"===r?h.top:h.left,"vertical"===r?h.bottom:h.right,1===x?c<p+E:c>f-E)return-1*x}else if(c>p+l*(1-o)/2&&c<f-l*(1-o)/2)return c>p+l/2?-1:1;return(d=d||a)&&(c<p+l*i/2||c>f-l*i/2)?c>p+l/2?1:-1:0}(r,p,A,d.swapThreshold,null==d.invertedSwapThreshold?d.swapThreshold:d.invertedSwapThreshold,M,w===p),S="swap"):(k=function(t,n){var r=Ne(e,n.draggable),o=Ne(t,n.draggable);return r<o?1:-1}(p,d),S="insert"),0===k)return W();O=null,w=p,x=k,s=ke(p);var F=p.nextElementSibling,H=!1,U=be(o,c,e,a,p,s,r,H=1===k);if(!1!==U)return 1!==U&&-1!==U||(H=1===U),X=!0,z(xe,30),v?y._hideClone():y._showClone(this),H&&!F?c.appendChild(e):p.parentNode.insertBefore(e,H?F:p),t=e.parentNode,void 0===C||M||(E=q(C-ke(p)["vertical"===A?"top":"left"])),K(),!V&&this._animate(s,p),this._animate(a,e),W()}if(c.contains(e))return W()}return L&&!r.rootEl&&oe(c,r,"_onDragOver"),!1}function W(){return y&&(de(e,h?h.options.ghostClass:y.options.ghostClass,!1),de(e,d.ghostClass,!0)),h!==N&&N!==ce.active?h=N:N===ce.active&&(h=null),(p===e&&!e.animated||p===c&&!p.animated)&&(w=null),d.dragoverBubble||r.rootEl||p===I||(N._handleAutoScroll(r),e.parentNode[D]._computeIsAligned(r)),!d.dragoverBubble&&r.stopPropagation&&r.stopPropagation(),!0}function K(){ge(N,o,"change",p,c,o,l,Ne(e,d.draggable),r)}},_animate:function(t,n){var r=this.options.animation;if(r){var o=ke(n);if(n===e&&(O=o),1===t.nodeType&&(t=ke(t)),t.left+t.width/2!==o.left+o.width/2||t.top+t.height/2!==o.top+o.height/2){var i=ye(this.el),a=i&&i.a,s=i&&i.d;me(n,"transition","none"),me(n,"transform","translate3d("+(t.left-o.left)/(a||1)+"px,"+(t.top-o.top)/(s||1)+"px,0)"),n.offsetWidth,me(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),me(n,"transform","translate3d(0,0,0)")}"number"==typeof n.animated&&clearTimeout(n.animated),n.animated=z(function(){me(n,"transition",""),me(n,"transform",""),n.animated=!1},r)}},_offUpEvents:function(){var e=this.el.ownerDocument;he(I,"touchmove",this._onTouchMove),he(I,"pointermove",this._onTouchMove),he(e,"mouseup",this._onDrop),he(e,"touchend",this._onDrop),he(e,"pointerup",this._onDrop),he(e,"touchcancel",this._onDrop),he(I,"selectstart",this)},_onDrop:function(a){var s=this.el,u=this.options;A=!1,T=!1,M=!1,j=!1,clearInterval(this._loopId),clearInterval(d),ee(),clearTimeout(se),se=void 0,clearTimeout(this._dragStartTimer),Me(this._cloneId),Me(this._dragStartId),he(I,"mousemove",this._onTouchMove),this.nativeDraggable&&(he(I,"drop",this),he(s,"dragstart",this._onDragStart),he(I,"dragover",this._handleAutoScroll),he(I,"dragover",ne)),this._offUpEvents(),a&&(b&&(a.cancelable&&a.preventDefault(),!u.dropBubble&&a.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(o===t||h&&"clone"!==h.lastPutMode)&&r&&r.parentNode&&r.parentNode.removeChild(r),e&&(this.nativeDraggable&&he(e,"dragend",this),we(e),e.style["will-change"]="",de(e,h?h.options.ghostClass:this.options.ghostClass,!1),de(e,this.options.chosenClass,!1),ge(this,o,"unchoose",e,t,o,l,null,a),o!==t?((p=Ne(e,u.draggable))>=0&&(ge(null,t,"add",e,t,o,l,p,a),ge(this,o,"remove",e,t,o,l,p,a),ge(null,t,"sort",e,t,o,l,p,a),ge(this,o,"sort",e,t,o,l,p,a)),h&&h.save()):e.nextSibling!==i&&(p=Ne(e,u.draggable))>=0&&(ge(this,o,"update",e,t,o,l,p,a),ge(this,o,"sort",e,t,o,l,p,a)),ce.active&&(null!=p&&-1!==p||(p=l),ge(this,o,"end",e,t,o,l,p,a),this.save()))),this._nulling()},_nulling:function(){o=e=t=n=i=r=a=s=u=N.length=d=m=y=v=g=b=p=l=w=x=O=h=f=ce.active=null,Y.forEach(function(e){e.checked=!0}),Y.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)le(e=n[r],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||Oe(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,r){var o=n.children[r];le(o,this.options.draggable,n,!1)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return le(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&te(n)},destroy:function(){var e=this.el;e[D]=null,he(e,"mousedown",this._onTapStart),he(e,"touchstart",this._onTapStart),he(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(he(e,"dragover",this),he(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),C.splice(C.indexOf(this.el),1),this.el=e=null},_hideClone:function(){r.cloneHidden||(me(r,"display","none"),r.cloneHidden=!0,r.parentNode&&this.options.removeCloneOnHide&&r.parentNode.removeChild(r))},_showClone:function(t){"clone"===t.lastPutMode?r.cloneHidden&&(o.contains(e)&&!this.options.group.revertClone?o.insertBefore(r,e):i?o.insertBefore(r,i):o.appendChild(r),this.options.group.revertClone&&this._animate(e,r),me(r,"display",""),r.cloneHidden=!1):this._hideClone()}},fe(I,"touchmove",function(e){(ce.active||A)&&e.cancelable&&e.preventDefault()}),ce.utils={on:fe,off:he,css:me,find:ve,is:function(e,t){return!!le(e,t,e,!1)},extend:_e,throttle:Ae,closest:le,toggleClass:de,clone:Ce,index:Ne,nextTick:je,cancelNextTick:Me,detectDirection:G,getChild:Se},ce.create=function(e,t){return new ce(e,t)},ce.version="1.8.3",ce})?r.call(t,n,t,e):r)||(e.exports=o)}()},Upa8:function(e,t,n){},V3b4:function(e,t,n){"use strict";var r=n("199F");t.name="Range",t.path="type",t.factory=function(e,t,n,o){function i(t,n,r){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");var o=null!=t,a=null!=n,s=null!=r;if(o)if(e.isBigNumber(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(a)if(e.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(s)if(e.isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=o?parseFloat(t):0,this.end=a?parseFloat(n):0,this.step=s?parseFloat(r):1}return i.prototype.type="Range",i.prototype.isRange=!0,i.parse=function(e){if("string"!=typeof e)return null;var t=e.split(":").map(function(e){return parseFloat(e)});if(t.some(function(e){return isNaN(e)}))return null;switch(t.length){case 2:return new i(t[0],t[1]);case 3:return new i(t[0],t[2],t[1]);default:return null}},i.prototype.clone=function(){return new i(this.start,this.end,this.step)},i.prototype.size=function(){var e=0,t=this.start,n=this.step,o=this.end-t;return r.sign(n)===r.sign(o)?e=Math.ceil(o/n):0===o&&(e=0),isNaN(e)&&(e=0),[e]},i.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},i.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},i.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,o=0;if(n>0)for(;t<r;)e(t,[o],this),t+=n,o++;else if(n<0)for(;t>r;)e(t,[o],this),t+=n,o++},i.prototype.map=function(e){var t=[];return this.forEach(function(n,r,o){t[r[0]]=e(n,r,o)}),t},i.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},i.prototype.valueOf=function(){return this.toArray()},i.prototype.format=function(e){var t=r.format(this.start,e);return 1!==this.step&&(t+=":"+r.format(this.step,e)),t+=":"+r.format(this.end,e)},i.prototype.toString=function(){return this.format()},i.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},i.fromJSON=function(e){return new i(e.start,e.end,e.step)},i}},VBo9:function(e,t){e.exports=r},VHFM:function(e,t,n){},W8MJ:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},WPGy:function(e,t,n){"use strict";t.factory=function(e,t,r,o){var i=r(n("7lEX")),a=r(n("uUDd")),s=o("divide",{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var n=e.clone(),r=i(1,a(t));return n.value=s(null===n.value?n._normalize(r):n.value,t),n},"number | Fraction | BigNumber, Unit":function(e,t){var n=t.clone();n=n.pow(-1);var r=i(1,a(e));return n.value=s(e,null===t.value?t._normalize(r):t.value),n},"Unit, Unit":function(e,t){return e.divide(t)}});return s}},Wail:function(e,t,n){"use strict";var r=n("Z2I/").clone,o=n("sTyi").validateIndex,i=n("4bae").getSafeProperty,a=n("4bae").setSafeProperty,s=n("X8kj");function u(e,t){if(1!==t.size().length)throw new s(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return i(e,n)}function c(e,t,n){if(1!==t.size().length)throw new s(t.size(),1);var o=t.dimension(0);if("string"!=typeof o)throw new TypeError("String expected as index to retrieve an object property");var i=r(e);return a(i,o,n),i}t.name="subset",t.factory=function(e,t,i,a){var l=i(n("R4H5")),p=a("subset",{"Array, Index":function(e,t){var n=l(e).subset(t);return t.isScalar()?n:n.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":u,"string, Index":function(t,n){if(!e.isIndex(n))throw new TypeError("Index expected");if(1!==n.size().length)throw new s(n.size().length,1);var r=t.length;o(n.min()[0],r),o(n.max()[0],r);var i=n.dimension(0),a="";return i.forEach(function(e){a+=t.charAt(e)}),a},"Array, Index, any":function(e,t,n){return l(r(e)).subset(t,n,void 0).valueOf()},"Array, Index, any, any":function(e,t,n,o){return l(r(e)).subset(t,n,o).valueOf()},"Matrix, Index, any":function(e,t,n){return e.clone().subset(t,n)},"Matrix, Index, any, any":function(e,t,n,r){return e.clone().subset(t,n,r)},"string, Index, string":f,"string, Index, string, string":f,"Object, Index, any":c});return p.toTex=void 0,p;function f(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new s(t.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.dimension(0);if(i.size()[0]!==n.length)throw new s(i.size()[0],n.length);var a=e.length;o(t.min()[0]),o(t.max()[0]);for(var u=[],c=0;c<a;c++)u[c]=e.charAt(c);if(i.forEach(function(e,t){u[e]=n.charAt(t[0])}),u.length>a)for(var l=a-1,p=u.length;l<p;l++)u[l]||(u[l]=r);return u.join("")}}},Wbaz:function(e,t,n){"use strict";var r=n("1stm");t.name="eval",t.factory=function(e,t,o,i){var a=o(n("MUdo"));return i("compile",{string:function(e){return a(e).compile().eval({})},"string, Object":function(e,t){return a(e).compile().eval(t)},"Array | Matrix":function(e){var t={};return r(e,function(e){return a(e).compile().eval(t)})},"Array | Matrix, Object":function(e,t){return r(e,function(e){return a(e).compile().eval(t)})}})}},X8kj:function(e,t,n){"use strict";function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="DimensionError",r.prototype.isDimensionError=!0,e.exports=r},XDH7:function(e,t,n){"use strict";var r=n("S2pI");t.transform=function(e){return e&&e.isIndexError?new r(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}},"XXc+":function(e,t,n){"use strict";var r=n("X8kj");t.name="algorithm07",t.factory=function(e,t,n,o){var i=e.DenseMatrix;function a(e,t,n,r,o){for(var i=e._values,a=e._index,s=e._ptr,u=s[t],c=s[t+1];u<c;u++){var l=a[u];n[l]=o,r[l]=i[u]}}return function(e,t,n){var s=e._size,u=e._datatype,c=t._size,l=t._datatype;if(s.length!==c.length)throw new r(s.length,c.length);if(s[0]!==c[0]||s[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");var p,f,h,d=s[0],m=s[1],y=0,v=n;"string"==typeof u&&u===l&&(p=u,y=o.convert(0,p),v=o.find(n,[p,p]));var g=[];for(f=0;f<d;f++)g[f]=[];var b=new i({data:g,size:[d,m],datatype:p}),w=[],x=[],S=[],E=[];for(h=0;h<m;h++){var O=h+1;for(a(e,h,S,w,O),a(t,h,E,x,O),f=0;f<d;f++){var N=S[f]===O?w[f]:y,T=E[f]===O?x[f]:y;g[f][h]=v(N,T)}}return b}}},XXst:function(e,t,n){"use strict";t.factory=function(e,t,n,r){var o=r("add",{"number, number":function(e,t){return e+t},"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,t){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value||void 0===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=o(n.value,t.value),n.fixPrefix=!1,n}});return o}},"XZ/J":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("XDH7").transform,i=n("4bae").setSafeProperty;t.factory=function(e,t,a,s){var u=a(n("Wail")),c=a(n("R4H5"));return function(e,t,n){try{if(Array.isArray(e))return c(e).subset(t,n).valueOf();if(e&&"function"==typeof e.subset)return e.subset(t,n);if("string"==typeof e)return u(e,t,n);if("object"===r(e)){if(!t.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return i(e,t.getObjectProperty(),n),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(e){throw o(e)}}}},YeEv:function(e,t){e.exports=o},"Z+Vt":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=n("bFQJ"),a=n("PXUV").escape,s=n("Z2I/").hasOwnProperty,u=n("sTyi").map,c=n("4bae").validateSafeMethod,l=n("4bae").getSafeProperty;t.name="FunctionNode",t.path="expression.node",t.math=!0,t.factory=function(e,t,p,f,h){var d=p(n("K6lB")),m=p(n("FX2d"));function y(t,n){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new m(t)),!e.isNode(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(n)||!n.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=n||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var r=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:r,set:r})}y.prototype=new d,y.prototype.type="FunctionNode",y.prototype.isFunctionNode=!0,y.prototype._compile=function(t,n){if(!(this instanceof y))throw new TypeError("No valid FunctionNode");var r=u(this.args,function(e){return e._compile(t,n)});if(e.isSymbolNode(this.fn)){var i=this.fn.name,a=i in t?l(t,i):void 0;if("function"==typeof a&&!0===a.rawArgs){var s=this.args;return function(e,n,r){return(i in e?l(e,i):a)(s,t,o({},e,n))}}if(1===r.length){var p=r[0];return function(e,t,n){return(i in e?l(e,i):a)(p(e,t,n))}}if(2===r.length){var f=r[0],h=r[1];return function(e,t,n){return(i in e?l(e,i):a)(f(e,t,n),h(e,t,n))}}return function(e,t,n){return(i in e?l(e,i):a).apply(null,u(r,function(r){return r(e,t,n)}))}}if(e.isAccessorNode(this.fn)&&e.isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var d=this.fn.object._compile(t,n),m=this.fn.index.getObjectProperty(),v=this.args;return function(e,n,i){var a=d(e,n,i);return c(a,m),a[m]&&a[m].rawArgs?a[m](v,t,o({},e,n)):a[m].apply(a,u(r,function(t){return t(e,n,i)}))}}var g=this.fn._compile(t,n),b=this.args;return function(e,n,i){var a=g(e,n,i);return a&&a.rawArgs?a(b,t,o({},e,n)):a.apply(a,u(r,function(t){return t(e,n,i)}))}},y.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},y.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new y(t,n)},y.prototype.clone=function(){return new y(this.fn,this.args.slice(0))};var v=y.prototype.toString;function g(t,n,o){for(var i,a="",s=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),u=0;null!==(i=s.exec(t));)if(a+=t.substring(u,i.index),u=i.index,"$$"===i[0])a+="$",u++;else{u+=i[0].length;var c=n[i[1]];if(!c)throw new ReferenceError("Template: Property "+i[1]+" does not exist.");if(void 0===i[2])switch(r(c)){case"string":a+=c;break;case"object":if(e.isNode(c))a+=c.toTex(o);else{if(!Array.isArray(c))throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes");a+=c.map(function(t,n){if(e.isNode(t))return t.toTex(o);throw new TypeError("Template: "+i[1]+"["+n+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes")}else{if(!e.isNode(c[i[2]]&&c[i[2]]))throw new TypeError("Template: "+i[1]+"["+i[2]+"] is not a Node.");a+=c[i[2]].toTex(o)}}return a+=t.slice(u)}y.prototype.toString=function(e){var t,n=this.fn.toString(e);return e&&"object"===r(e.handler)&&s(e.handler,n)&&(t=e.handler[n](this,e)),void 0!==t?t:v.call(this,e)},y.prototype._toString=function(t){var n=this.args.map(function(e){return e.toString(t)});return(e.isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+n.join(", ")+")"},y.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},y.fromJSON=function(e){return new y(e.fn,e.args)},y.prototype.toHTML=function(e){var t=this.args.map(function(t){return t.toHTML(e)});return'<span class="math-function">'+a(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var b=y.prototype.toTex;return y.prototype.toTex=function(e){var t;return e&&"object"===r(e.handler)&&s(e.handler,this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:b.call(this,e)},y.prototype._toTex=function(e){var t,n,o=this.args.map(function(t){return t.toTex(e)});switch(!h[this.name]||"function"!=typeof h[this.name].toTex&&"object"!==r(h[this.name].toTex)&&"string"!=typeof h[this.name].toTex||(t=h[this.name].toTex),r(t)){case"function":n=t(this,e);break;case"string":n=g(t,this,e);break;case"object":switch(r(t[o.length])){case"function":n=t[o.length](this,e);break;case"string":n=g(t[o.length],this,e)}}return void 0!==n?n:g(i.defaultTemplate,this,e)},y.prototype.getIdentifier=function(){return this.type+":"+this.name},y}},"Z+cb":function(e,t,n){"use strict";var r=n("3LJV"),o=n("rq6S"),i=n("G23K");t.name="sum",t.factory=function(e,t,a,s){var u=a(n("XXst")),c=a(n("D2JG")),l=s("sum",{"Array | Matrix":p,"Array | Matrix, number | BigNumber":function(e,t){try{var n=o(e,t,u);return n}catch(e){throw c(e,"sum")}},"...":function(e){if(i(e))throw new TypeError("Scalar values expected in function sum");return p(e)}});return l.toTex=void 0,l;function p(n){var o;if(r(n,function(e){try{o=void 0===o?e:u(o,e)}catch(t){throw c(t,"sum",e)}}),void 0===o)switch(t.number){case"number":return 0;case"BigNumber":return new e.BigNumber(0);case"Fraction":return new e.Fraction(0);default:return 0}return o}}},"Z2I/":function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("pvRk");t.clone=function e(n){var i=r(n);if("number"===i||"string"===i||"boolean"===i||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(t){return e(t)});if(n instanceof Date)return new Date(n.valueOf());if(o(n))return n;if(n instanceof RegExp)throw new TypeError("Cannot clone "+n);return t.map(n,e)},t.map=function(e,n){var r={};for(var o in e)t.hasOwnProperty(e,o)&&(r[o]=n(e[o]));return r},t.extend=function(e,n){for(var r in n)t.hasOwnProperty(n,r)&&(e[r]=n[r]);return e},t.deepExtend=function e(n,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var o in r)if(t.hasOwnProperty(r,o))if(r[o]&&r[o].constructor===Object)void 0===n[o]&&(n[o]={}),n[o].constructor===Object?e(n[o],r[o]):n[o]=r[o];else{if(Array.isArray(r[o]))throw new TypeError("Arrays are not supported by deepExtend");n[o]=r[o]}return n},t.deepEqual=function(e,n){var r,o,i;if(Array.isArray(e)){if(!Array.isArray(n))return!1;if(e.length!==n.length)return!1;for(o=0,i=e.length;o<i;o++)if(!t.deepEqual(e[o],n[o]))return!1;return!0}if(e instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;for(r in e)if(!t.deepEqual(e[r],n[r]))return!1;for(r in n)if(!t.deepEqual(e[r],n[r]))return!1;return!0}return e===n},t.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(e){}return!1},t.lazy=function(e,n,r){if(t.canDefineProperty()){var o,i=!0;Object.defineProperty(e,n,{get:function(){return i&&(o=r(),i=!1),o},set:function(e){o=e,i=!1},configurable:!0,enumerable:!0})}else e[n]=r()},t.traverse=function(e,t){var n=e;if(t)for(var r=t.split("."),o=0;o<r.length;o++){var i=r[o];i in n||(n[i]={}),n=n[i]}return n},t.hasOwnProperty=function(e,t){return e&&Object.hasOwnProperty.call(e,t)},t.isFactory=function(e){return e&&"function"==typeof e.factory}},ZS3Q:function(e,t,n){"use strict";var r=n("LHK7"),o=n("X8kj"),i=r.string,a=r.array,s=r.object,u=r.number,c=Array.isArray,l=u.isNumber,p=u.isInteger,f=i.isString,h=a.validateIndex;t.name="DenseMatrix",t.path="type",t.factory=function(e,t,u,d){var m=u(n("xFnQ")),y=u(n("ohYX"));function v(t,n){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if(n&&!f(n))throw new Error("Invalid datatype: "+n);if(e.isMatrix(t))"DenseMatrix"===t.type?(this._data=s.clone(t._data),this._size=s.clone(t._size),this._datatype=n||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=n||t._datatype);else if(t&&c(t.data)&&c(t.size))this._data=t.data,this._size=t.size,this._datatype=n||t.datatype;else if(c(t))this._data=function e(t){for(var n=0,r=t.length;n<r;n++){var o=t[n];c(o)?t[n]=e(o):o&&!0===o.isMatrix&&(t[n]=e(o.valueOf()))}return t}(t),this._size=a.size(this._data),a.validate(this._data,this._size),this._datatype=n;else{if(t)throw new TypeError("Unsupported type of data ("+r.types.type(t)+")");this._data=[],this._size=[0],this._datatype=n}}function g(e,t,n){if(0===t.length){for(var r=e._data;c(r);)r=r[0];return r}return e._size=t.slice(0),e._data=a.resize(e._data,e._size,n),e}function b(e,t,n){for(var r=e._size.slice(0),o=!1;r.length<t.length;)r.push(0),o=!0;for(var i=0,a=t.length;i<a;i++)t[i]>r[i]&&(r[i]=t[i],o=!0);o&&g(e,r,n)}return v.prototype=new y,v.prototype.type="DenseMatrix",v.prototype.isDenseMatrix=!0,v.prototype.getDataType=function(){return m(this._data)},v.prototype.storage=function(){return"dense"},v.prototype.datatype=function(){return this._datatype},v.prototype.create=function(e,t){return new v(e,t)},v.prototype.subset=function(t,n,r){switch(arguments.length){case 1:return function(t,n){if(!e.isIndex(n))throw new TypeError("Invalid index");if(n.isScalar())return t.get(n.min());var r=n.size();if(r.length!==t._size.length)throw new o(r.length,t._size.length);for(var i=n.min(),a=n.max(),s=0,u=t._size.length;s<u;s++)h(i[s],t._size[s]),h(a[s],t._size[s]);return new v(function e(t,n,r,o){var i=o===r-1,a=n.dimension(o);return i?a.map(function(e){return h(e,t.length),t[e]}).valueOf():a.map(function(i){h(i,t.length);var a=t[i];return e(a,n,r,o+1)}).valueOf()}(t._data,n,r.length,0),t._datatype)}(this,t);case 2:case 3:return function(t,n,r,i){if(!n||!0!==n.isIndex)throw new TypeError("Invalid index");var u,c=n.size(),l=n.isScalar();if(e.isMatrix(r)?(u=r.size(),r=r.valueOf()):u=a.size(r),l){if(0!==u.length)throw new TypeError("Scalar expected");t.set(n.min(),r,i)}else{if(c.length<t._size.length)throw new o(c.length,t._size.length,"<");if(u.length<c.length){for(var p=0,f=0;1===c[p]&&1===u[p];)p++;for(;1===c[p];)f++,p++;r=a.unsqueeze(r,c.length,f,u)}if(!s.deepEqual(c,u))throw new o(c,u,">");var d=n.max().map(function(e){return e+1});b(t,d,i);var m=c.length;!function e(t,n,r,o,i){var a=i===o-1,s=n.dimension(i);a?s.forEach(function(e,n){h(e),t[e]=r[n[0]]}):s.forEach(function(a,s){h(a),e(t[a],n,r[s[0]],o,i+1)})}(t._data,n,r,m,0)}return t}(this,t,n,r);default:throw new SyntaxError("Wrong number of arguments")}},v.prototype.get=function(e){if(!c(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new o(e.length,this._size.length);for(var t=0;t<e.length;t++)h(e[t],this._size[t]);for(var n=this._data,r=0,i=e.length;r<i;r++){var a=e[r];h(a,n.length),n=n[a]}return n},v.prototype.set=function(e,t,n){if(!c(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new o(e.length,this._size.length,"<");var r,i,a;b(this,e.map(function(e){return e+1}),n);var s=this._data;for(r=0,i=e.length-1;r<i;r++)a=e[r],h(a,s.length),s=s[a];return a=e[e.length-1],h(a,s.length),s[a]=t,this},v.prototype.resize=function(e,t,n){if(!c(e))throw new TypeError("Array expected");return g(n?this.clone():this,e,t)},v.prototype.reshape=function(e,t){var n=t?this.clone():this;return n._data=a.reshape(n._data,e),n._size=e.slice(0),n},v.prototype.clone=function(){return new v({data:s.clone(this._data),size:s.clone(this._size),datatype:this._datatype})},v.prototype.size=function(){return this._size.slice(0)},v.prototype.map=function(e){var t=this;return new v({data:function n(r,o){return c(r)?r.map(function(e,t){return n(e,o.concat(t))}):e(r,o,t)}(this._data,[]),size:s.clone(this._size),datatype:this._datatype})},v.prototype.forEach=function(e){var t=this;!function n(r,o){c(r)?r.forEach(function(e,t){n(e,o.concat(t))}):e(r,o,t)}(this._data,[])},v.prototype.toArray=function(){return s.clone(this._data)},v.prototype.valueOf=function(){return this._data},v.prototype.format=function(e){return i.format(this._data,e)},v.prototype.toString=function(){return i.format(this._data)},v.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},v.prototype.diagonal=function(t){if(t){if(e.isBigNumber(t)&&(t=t.toNumber()),!l(t)||!p(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var n=t>0?t:0,r=t<0?-t:0,o=this._size[0],i=this._size[1],a=Math.min(o-r,i-n),s=[],u=0;u<a;u++)s[u]=this._data[u+r][u+n];return new v({data:s,size:[a],datatype:this._datatype})},v.diagonal=function(t,n,r,o,i){if(!c(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(e.isBigNumber(t)&&(t=t.toNumber()),!l(t)||!p(t)||t<1)throw new Error("Size values must be positive integers");return t}),r){if(e.isBigNumber(r)&&(r=r.toNumber()),!l(r)||!p(r))throw new TypeError("The parameter k must be an integer number")}else r=0;o&&f(i)&&(o=d.convert(o,i));var s,u=r>0?r:0,h=r<0?-r:0,m=t[0],y=t[1],g=Math.min(m-h,y-u);if(c(n)){if(n.length!==g)throw new Error("Invalid value array length");s=function(e){return n[e]}}else if(e.isMatrix(n)){var b=n.size();if(1!==b.length||b[0]!==g)throw new Error("Invalid matrix length");s=function(e){return n.get([e])}}else s=function(){return n};o||(o=e.isBigNumber(s(0))?new e.BigNumber(0):0);var w=[];if(t.length>0){w=a.resize(w,t,o);for(var x=0;x<g;x++)w[x+h][x+u]=s(x)}return new v({data:w,size:[m,y]})},v.fromJSON=function(e){return new v(e)},v.prototype.swapRows=function(e,t){if(!(l(e)&&p(e)&&l(t)&&p(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(e,this._size[0]),h(t,this._size[0]),v._swapRows(e,t,this._data),this},v._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},e.Matrix._storage.dense=v,e.Matrix._storage.default=v,v},t.lazy=!1},ZXMR:function(e,t,n){"use strict";var r=n("X8kj");t.name="algorithm05",t.factory=function(e,t,o,i){var a=o(n("hj6K")),s=e.SparseMatrix;return function(e,t,n){var o=e._values,u=e._index,c=e._ptr,l=e._size,p=e._datatype,f=t._values,h=t._index,d=t._ptr,m=t._size,y=t._datatype;if(l.length!==m.length)throw new r(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");var v,g=l[0],b=l[1],w=a,x=0,S=n;"string"==typeof p&&p===y&&(v=p,w=i.find(a,[v,v]),x=i.convert(0,v),S=i.find(n,[v,v]));var E,O,N,T,A=o&&f?[]:void 0,_=[],C=[],j=new s({values:A,index:_,ptr:C,size:[g,b],datatype:v}),M=A?[]:void 0,k=A?[]:void 0,D=[],P=[];for(O=0;O<b;O++){C[O]=_.length;var I=O+1;for(N=c[O],T=c[O+1];N<T;N++)E=u[N],_.push(E),D[E]=I,M&&(M[E]=o[N]);for(N=d[O],T=d[O+1];N<T;N++)D[E=h[N]]!==I&&_.push(E),P[E]=I,k&&(k[E]=f[N]);if(A)for(N=C[O];N<_.length;){var R=D[E=_[N]],z=P[E];if(R===I||z===I){var V=S(R===I?M[E]:x,z===I?k[E]:x);w(V,x)?_.splice(N,1):(A.push(V),N++)}}}return C[b]=_.length,j}}},Zsyy:function(e,t,n){},a1gu:function(e,t,n){var r=n("cDf5"),o=n("PJYZ");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},aG3p:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s,u,c,l){var p,f,h,d,m=e._values,y=e._index,v=e._ptr,g=a._index;if(r)for(f=v[t],h=v[t+1],p=f;p<h;p++)n[d=y[p]]!==i?(n[d]=i,g.push(d),c?(r[d]=u?s(m[p],l):s(l,m[p]),o[d]=i):r[d]=m[p]):(r[d]=u?s(m[p],r[d]):s(r[d],m[p]),o[d]=i);else for(f=v[t],h=v[t+1],p=f;p<h;p++)n[d=y[p]]!==i?(n[d]=i,g.push(d)):o[d]=i}},b5sn:function(e,t,n){"use strict";n("2l0z");var r=n("Z2I/").isFactory,o=n("kIfi"),i=n("JrXr"),a=n("SgCf"),s=n("1pc8");t.create=function(e){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var t=[],n=[],u=i.mixin({});u.type={},u.expression={transform:{},mathWithTransform:{}},u.typed=o.create(u.type);var c={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function l(e){if(!r(e))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var o,i=t.indexOf(e);return-1===i?(o=!0===e.math?e.factory(u.type,c,l,u.typed,u):e.factory(u.type,c,l,u.typed),t.push(e),n.push(o)):o=n[i],o}return u.import=l(a),u.config=l(s),u.expression.mathWithTransform.config=u.config,e&&u.config(e),u}},bFQJ:function(e,t,n){"use strict";var r=n("R4gy");t.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},t.operators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},t.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var o={deg:"^\\circ"};t.escape=function(e){return r(e,{preserveFormatting:!0})},t.toSymbol=function(e,n){return(n=void 0!==n&&n)?o.hasOwnProperty(e)?o[e]:"\\mathrm{"+t.escape(e)+"}":t.symbols.hasOwnProperty(e)?t.symbols[e]:t.escape(e)}},c0b4:function(e,t,n){"use strict";t.name="ResultSet",t.path="type",t.factory=function(e,t,n,r){function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return o.prototype.type="ResultSet",o.prototype.isResultSet=!0,o.prototype.valueOf=function(){return this.entries},o.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},o.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},o.fromJSON=function(e){return new o(e.entries)},o}},cDcd:function(e,t){e.exports=i},cDf5:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},djCb:function(e,t,n){},djRN:function(e,t,n){"use strict";var r,o,i;o=[],void 0===(i="function"==typeof(r=function(){function e(){return!0}function t(){return!1}function n(){}return function r(){var o=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],i={name:"any",test:e},a=[],s=[],u={types:o,conversions:s,ignore:a};function c(e){var t=V(u.types,function(t){return t.name===e});if(t)return t;if("any"===e)return i;var n=V(u.types,function(t){return t.name.toLowerCase()===e.toLowerCase()});throw new TypeError('Unknown type "'+e+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function l(e){return e===i?999:u.types.indexOf(e)}function p(e){var t=V(u.types,function(t){return t.test(e)});if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function f(e){return e.map(function(e){var t=e.types.map(w);return(e.restParam?"...":"")+t.join("|")}).join(",")}function h(e,t){var n=0===e.indexOf("..."),r=n?e.length>3?e.slice(3):"any":e,o=r.split("|").map(M).filter(k).filter(j),i=function(e,t){var n={};return e.forEach(function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||n[e.from]||(n[e.from]=e)}),Object.keys(n).map(function(e){return n[e]})}(t,o),a=o.map(function(e){var t=c(e);return{name:e,typeIndex:l(t),test:t.test,conversion:null,conversionIndex:-1}}),s=i.map(function(e){var n=c(e.from);return{name:e.from,typeIndex:l(n),test:n.test,conversion:e,conversionIndex:t.indexOf(e)}});return{types:a.concat(s),restParam:n}}function d(e){var t=I(e);return!!t&&t.restParam}function m(e){return e.types.some(function(e){return null!=e.conversion})}function y(t){if(t&&0!==t.types.length){if(1===t.types.length)return c(t.types[0].name).test;if(2===t.types.length){var n=c(t.types[0].name).test,r=c(t.types[1].name).test;return function(e){return n(e)||r(e)}}var o=t.types.map(function(e){return c(e.name).test});return function(e){for(var t=0;t<o.length;t++)if(o[t](e))return!0;return!1}}return e}function v(e){var t,n,r,o;if(d(e)){var i=(t=(o=e,o.slice(0,o.length-1)).map(y)).length,a=y(I(e));return function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return function(e){for(var t=i;t<e.length;t++)if(!a(e[t]))return!1;return!0}(e)&&e.length>=i+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=y(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=y(e[0]),r=y(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(y),function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function g(e,t){return t<e.params.length?e.params[t]:d(e.params)?I(e.params):null}function b(e,t,n){var r=g(e,t),o=r?n?r.types.filter(x):r.types:[];return o.map(w)}function w(e){return e.name}function x(e){return null===e.conversion||void 0===e.conversion}function S(e,t){var n=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)}(B(e,function(e){return b(e,t,!1)}));return-1!==n.indexOf("any")?["any"]:n}function E(e){for(var t=999,n=0;n<e.types.length;n++)x(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function O(e){for(var t=999,n=0;n<e.types.length;n++)x(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function N(e,t){var n;return 0!=(n=e.restParam-t.restParam)?n:0!=(n=m(e)-m(t))?n:0!=(n=E(e)-E(t))?n:O(e)-O(t)}function T(e,t){var n,r,o=Math.min(e.params.length,t.params.length);if(0!=(r=e.params.some(m)-t.params.some(m)))return r;for(n=0;n<o;n++)if(0!=(r=m(e.params[n])-m(t.params[n])))return r;for(n=0;n<o;n++)if(0!==(r=N(e.params[n],t.params[n])))return r;return e.params.length-t.params.length}function A(e){var t,n,r,o,i=[],a=[];switch(e.types.forEach(function(e){e.conversion&&(i.push(c(e.conversion.from).test),a.push(e.conversion.convert))}),a.length){case 0:return function(e){return e};case 1:return t=i[0],r=a[0],function(e){return t(e)?r(e):e};case 2:return t=i[0],n=i[1],r=a[0],o=a[1],function(e){return t(e)?r(e):n(e)?o(e):e};default:return function(e){for(var t=0;t<a.length;t++)if(i[t](e))return a[t](e);return e}}}function _(e,t){return function e(n,r,o){if(r<n.length){var i,a=n[r],s=t?a.types.filter(x):a.types;if(a.restParam){var u=s.filter(x);i=u.length<s.length?[u,s]:[s]}else i=s.map(function(e){return[e]});return B(i,function(t){return e(n,r+1,o.concat([t]))})}var c=o.map(function(e,t){return{types:e,restParam:t===n.length-1&&d(n)}});return[c]}(e,0,[])}function C(e,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var o=[];Object.keys(r).map(function(e){return function(e,t,n){var r=[];return""!==e.trim()&&(r=e.split(",").map(M).map(function(e,t,r){var o=h(e,n);if(o.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return o})),r.some(P)?null:{params:r,fn:t}}(e,r[e],u.conversions)}).filter(D).forEach(function(e){var t=V(o,function(t){return function(e,t){for(var n=Math.max(e.params.length,t.params.length),r=0;r<n;r++){var o=b(e,r,!0),i=b(t,r,!0);if(!z(o,i))return!1}var a=e.params.length,s=t.params.length,u=d(e.params),c=d(t.params);return u?c?a===s:s>=a:c?a>=s:a===s}(t,e)});if(t)throw new TypeError('Conflicting signatures "'+f(t.params)+'" and "'+f(e.params)+'".');o.push(e)});var i=B(o,function(e){var t=e?_(e.params,!1):[];return t.map(function(t){return{params:t,fn:e.fn}})}).filter(D);i.sort(T);var a=i[0]&&i[0].params.length<=2&&!d(i[0].params),s=i[1]&&i[1].params.length<=2&&!d(i[1].params),c=i[2]&&i[2].params.length<=2&&!d(i[2].params),l=i[3]&&i[3].params.length<=2&&!d(i[3].params),w=i[4]&&i[4].params.length<=2&&!d(i[4].params),x=i[5]&&i[5].params.length<=2&&!d(i[5].params),E=a&&s&&c&&l&&w&&x,O=i.map(function(e){return v(e.params)}),N=a?y(i[0].params[0]):t,C=s?y(i[1].params[0]):t,j=c?y(i[2].params[0]):t,k=l?y(i[3].params[0]):t,I=w?y(i[4].params[0]):t,F=x?y(i[5].params[0]):t,L=a?y(i[0].params[1]):t,H=s?y(i[1].params[1]):t,U=c?y(i[2].params[1]):t,W=l?y(i[3].params[1]):t,K=w?y(i[4].params[1]):t,X=x?y(i[5].params[1]):t,J=i.map(function(e){return function(e,t){var n=t;if(e.some(m)){var r=d(e),o=e.map(A);n=function(){for(var e=[],n=r?arguments.length-1:arguments.length,i=0;i<n;i++)e[i]=o[i](arguments[i]);return r&&(e[n]=arguments[n].map(o[n])),t.apply(null,e)}}var i=n;if(d(e)){var a=e.length-1;i=function(){return n.apply(null,R(arguments,0,a).concat([R(arguments,a)]))}}return i}(e.params,e.fn)}),q=a?J[0]:n,$=s?J[1]:n,Y=c?J[2]:n,G=l?J[3]:n,Z=w?J[4]:n,Q=x?J[5]:n,ee=a?i[0].params.length:-1,te=s?i[1].params.length:-1,ne=c?i[2].params.length:-1,re=l?i[3].params.length:-1,oe=w?i[4].params.length:-1,ie=x?i[5].params.length:-1,ae=E?6:0,se=i.length,ue=function(){for(var t=ae;t<se;t++)if(O[t](arguments))return J[t].apply(null,arguments);throw function(e,t,n){var r,o,i,a=e||"unnamed",s=n;for(i=0;i<t.length;i++){var u=s.filter(function(e){var n=y(g(e,i));return(i<e.params.length||d(e.params))&&n(t[i])});if(0===u.length){if((o=S(s,i)).length>0){var c=p(t[i]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+o.join(" or ")+", actual: "+c+", index: "+i+")")).data={category:"wrongType",fn:a,index:i,actual:c,expected:o},r}}else s=u}var l=s.map(function(e){return d(e.params)?1/0:e.params.length});if(t.length<Math.min.apply(null,l))return o=S(s,i),(r=new TypeError("Too few arguments in function "+a+" (expected: "+o.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:a,index:t.length,expected:o},r;var f=Math.max.apply(null,l);return t.length>f?((r=new TypeError("Too many arguments in function "+a+" (expected: "+f+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:a,index:t.length,expectedLength:f},r):((r=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:t.map(p)},r)}(e,arguments,i)},ce=function(e,t){return arguments.length===ee&&N(e)&&L(t)?q.apply(null,arguments):arguments.length===te&&C(e)&&H(t)?$.apply(null,arguments):arguments.length===ne&&j(e)&&U(t)?Y.apply(null,arguments):arguments.length===re&&k(e)&&W(t)?G.apply(null,arguments):arguments.length===oe&&I(e)&&K(t)?Z.apply(null,arguments):arguments.length===ie&&F(e)&&X(t)?Q.apply(null,arguments):ue.apply(null,arguments)};try{Object.defineProperty(ce,"name",{value:e})}catch(e){}return ce.signatures=function(e){var t={};return e.forEach(function(e){e.params.some(m)||_(e.params,!0).forEach(function(n){t[f(n)]=e.fn})}),t}(i),ce}function j(e){return-1===u.ignore.indexOf(e)}function M(e){return e.trim()}function k(e){return!!e}function D(e){return null!==e}function P(e){return 0===e.types.length}function I(e){return e[e.length-1]}function R(e,t,n){return Array.prototype.slice.call(e,t,n)}function z(e,t){for(var n=0;n<e.length;n++)if(r=t,o=e[n],-1!==r.indexOf(o))return!0;var r,o;return!1}function V(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function B(e,t){return Array.prototype.concat.apply([],e.map(t))}function F(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(("object"==typeof r.signatures||"string"==typeof r.signature)&&""!==r.name)if(""===t)t=r.name;else if(t!==r.name){var o=new Error("Function names do not match (expected: "+t+", actual: "+r.name+")");throw o.data={actual:r.name,expected:t},o}}return t}function L(e){var t,n={};function r(e,r){if(n.hasOwnProperty(e)&&r!==n[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var o=0;o<e.length;o++){var i=e[o];if("object"==typeof i.signatures)for(var a in i.signatures)i.signatures.hasOwnProperty(a)&&(r(a,i.signatures[a]),n[a]=i.signatures[a]);else{if("string"!=typeof i.signature)throw(t=new TypeError("Function is no typed-function (index: "+o+")")).data={index:o},t;r(i.signature,i),n[i.signature]=i}}return n}return(u=C("typed",{"string, Object":C,Object:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);var r=F(t);return C(r,e)},"...Function":function(e){return C(F(e),L(e))},"string, ...Function":function(e,t){return C(e,L(t))}})).create=r,u.types=o,u.conversions=s,u.ignore=a,u.convert=function(e,t){var n=p(e);if(t===n)return e;for(var r=0;r<u.conversions.length;r++){var o=u.conversions[r];if(o.from===n&&o.to===t)return o.convert(e)}throw new Error("Cannot convert from "+n+" to "+t)},u.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof t){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");n=t}var o=n.join(","),i=e.signatures[o];if(i)return i;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+n.join(", ")+"))")},u.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,e);u.types.push(e)},u.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(e)},u}()})?r.apply(t,o):r)||(e.exports=i)},e8LY:function(e,t,n){},eX2I:function(e,t,n){"use strict";var r=n("X8kj");t.name="algorithm01",t.factory=function(e,t,n,o){var i=e.DenseMatrix;return function(e,t,n,a){var s=e._data,u=e._size,c=e._datatype,l=t._values,p=t._index,f=t._ptr,h=t._size,d=t._datatype;if(u.length!==h.length)throw new r(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,y,v=u[0],g=u[1],b="string"==typeof c&&c===d?c:void 0,w=b?o.find(n,[b,b]):n,x=[];for(m=0;m<v;m++)x[m]=[];var S=[],E=[];for(y=0;y<g;y++){for(var O=y+1,N=f[y],T=f[y+1],A=N;A<T;A++)S[m=p[A]]=a?w(l[A],s[m][y]):w(s[m][y],l[A]),E[m]=O;for(m=0;m<v;m++)E[m]===O?x[m][y]=S[m]:x[m][y]=s[m][y]}return new i({data:x,size:[v,g],datatype:b})}}},f66B:function(e,t,n){var r=Array.prototype.slice,o=n("MmBA"),i=n("mX2D"),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var c,l;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=r.call(e),t=r.call(t),a(e,t,n));if(u(e)){if(!u(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var p=o(e),f=o(t)}catch(e){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),c=p.length-1;c>=0;c--)if(p[c]!=f[c])return!1;for(c=p.length-1;c>=0;c--)if(l=p[c],!a(e[l],t[l],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null==e}function u(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},fTxE:function(e,t,n){"use strict";var r=n("1stm");t.name="abs",t.factory=function(e,t,n,o){var i=o("abs",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return r(e,i,!0)},Unit:function(e){return e.abs()}});return i.toTex={1:"\\left|${args[0]}\\right|"},i}},faye:function(e,t){e.exports=a},"gV/b":function(e,t,n){"use strict";t.name="mod",t.factory=function(e,t,r,o){var i=r(n("R4H5")),a=n("bFQJ"),s=r(n("4fwU")),u=r(n("hYuG")),c=r(n("ZXMR")),l=r(n("nr1U")),p=r(n("/z5F")),f=r(n("zbDx")),h=r(n("BLb5")),d=o("mod",{"number, number":function(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")},"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){return e.mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,d,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,d)},"Array, Array":function(e,t){return d(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return d(i(e),t)},"Matrix, Array":function(e,t){return d(e,i(t))},"SparseMatrix, any":function(e,t){return l(e,t,d,!1)},"DenseMatrix, any":function(e,t){return h(e,t,d,!1)},"any, SparseMatrix":function(e,t){return p(t,e,d,!0)},"any, DenseMatrix":function(e,t){return h(t,e,d,!0)},"Array, any":function(e,t){return h(i(e),t,d,!1).valueOf()},"any, Array":function(e,t){return h(i(t),e,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(a.operators.mod,"${args[1]}\\right)")},d}},gpKz:function(e,t,n){"use strict";var r=n("LHK7").object;t.name="lup",t.factory=function(e,t,o,i){var a=o(n("R4H5")),s=o(n("fTxE")),u=o(n("XXst")),c=o(n("WPGy")),l=o(n("oiZ2")),p=o(n("O1N0")),f=o(n("H+Qf")),h=o(n("hj6K")),d=o(n("7DiD")),m=e.SparseMatrix,y=e.DenseMatrix,v=e.Spa;function g(e){var t,n,o,i=e._size[0],a=e._size[1],d=Math.min(i,a),m=r.clone(e._data),v=[],g=[i,d],b=[],w=[d,a],x=[];for(t=0;t<i;t++)x[t]=t;for(n=0;n<a;n++){if(n>0)for(t=0;t<i;t++){var S=Math.min(t,n),E=0;for(o=0;o<S;o++)E=u(E,l(m[t][o],m[o][n]));m[t][n]=p(m[t][n],E)}var O=n,N=0,T=0;for(t=n;t<i;t++){var A=m[t][n],_=s(A);f(_,N)&&(O=t,N=_,T=A)}if(n!==O&&(x[n]=[x[O],x[O]=x[n]][0],y._swapRows(n,O,m)),n<i)for(t=n+1;t<i;t++){var C=m[t][n];h(C,0)||(m[t][n]=c(m[t][n],T))}}for(n=0;n<a;n++)for(t=0;t<i;t++)0===n&&(t<a&&(b[t]=[]),v[t]=[]),t<n?(t<a&&(b[t][n]=m[t][n]),n<i&&(v[t][n]=0)):t!==n?(t<a&&(b[t][n]=0),n<i&&(v[t][n]=m[t][n])):(t<a&&(b[t][n]=m[t][n]),n<i&&(v[t][n]=1));var j=new y({data:v,size:g}),M=new y({data:b,size:w}),k=[];for(t=0,d=x.length;t<d;t++)k[x[t]]=t;return{L:j,U:M,p:k,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}return i("lup",{DenseMatrix:function(e){return g(e)},SparseMatrix:function(e){return function(e){var t,n,r,o=e._size[0],i=e._size[1],a=Math.min(o,i),u=e._values,p=e._index,y=e._ptr,g=[],b=[],w=[],x=[o,a],S=[],E=[],O=[],N=[a,i],T=[],A=[];for(t=0;t<o;t++)T[t]=t,A[t]=t;var _=function(){var e=new v;n<o&&(w.push(g.length),g.push(1),b.push(n)),O.push(S.length);var i=y[n],a=y[n+1];for(r=i;r<a;r++)t=p[r],e.set(T[t],u[r]);n>0&&e.forEach(0,n-1,function(t,n){m._forEachRow(t,g,b,w,function(r,o){r>t&&e.accumulate(r,d(l(o,n)))})});var _,C,j,M,k=n,D=e.get(n),P=s(D);e.forEach(n+1,o-1,function(e,t){var n=s(t);f(n,P)&&(k=e,P=n,D=t)}),n!==k&&(m._swapRows(n,k,x[1],g,b,w),m._swapRows(n,k,N[1],S,E,O),e.swap(n,k),C=k,j=A[_=n],M=A[C],T[j]=C,T[M]=_,A[_]=M,A[C]=j),e.forEach(0,o-1,function(e,t){e<=n?(S.push(t),E.push(e)):(t=c(t,D),h(t,0)||(g.push(t),b.push(e)))})};for(n=0;n<i;n++)_();return O.push(S.length),w.push(g.length),{L:new m({values:g,index:b,ptr:w,size:x}),U:new m({values:S,index:E,ptr:O,size:N}),p:T,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(e)},Array:function(e){var t=g(a(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}})}},hYuG:function(e,t,n){"use strict";var r=n("X8kj");t.name="algorithm03",t.factory=function(e,t,n,o){var i=e.DenseMatrix;return function(e,t,n,a){var s=e._data,u=e._size,c=e._datatype,l=t._values,p=t._index,f=t._ptr,h=t._size,d=t._datatype;if(u.length!==h.length)throw new r(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m,y=u[0],v=u[1],g=0,b=n;"string"==typeof c&&c===d&&(m=c,g=o.convert(0,m),b=o.find(n,[m,m]));for(var w=[],x=0;x<y;x++)w[x]=[];for(var S=[],E=[],O=0;O<v;O++){for(var N=O+1,T=f[O],A=f[O+1],_=T;_<A;_++){var C=p[_];S[C]=a?b(l[_],s[C][O]):b(s[C][O],l[_]),E[C]=N}for(var j=0;j<y;j++)E[j]===N?w[j][O]=S[j]:w[j][O]=a?b(g,s[j][O]):b(s[j][O],g)}return new i({data:w,size:[y,v],datatype:m})}}},hj6K:function(e,t,n){"use strict";var r=n("199F").nearlyEqual,o=n("rMK7");t.factory=function(e,t,n,i){var a=i("equalScalar",{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,n){return e===n||r(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,n){return e.eq(n)||o(e,n,t.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return e.equals(t)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return a(e.value,t.value)}});return a}},i9wh:function(e,t,n){},itDh:function(e,t,n){"use strict";var r=n("3LJV"),o=n("rq6S"),i=n("G23K");t.name="max",t.factory=function(e,t,a,s){var u=a(n("H+Qf")),c=a(n("D2JG")),l=s("max",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(e,t){return o(e,t.valueOf(),p)},"...":function(e){if(i(e))throw new TypeError("Scalar values expected in function max");return f(e)}});return l.toTex="\\max\\left(${args}\\right)",l;function p(e,t){try{return u(e,t)?e:t}catch(e){throw c(e,"max",t)}}function f(e){var t;if(r(e,function(e){try{isNaN(e)&&"number"==typeof e?t=NaN:(void 0===t||u(e,t))&&(t=e)}catch(t){throw c(t,"max",e)}}),void 0===t)throw new Error("Cannot calculate max of an empty array");return t}}},k8Dq:function(e,t,n){},kIfi:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("djRN"),i=n("199F").digits,a=n("pvRk"),s=n("6cPB"),u=function(){return u=o.create,o};t.create=function(e){e.isNumber=function(e){return"number"==typeof e},e.isComplex=function(t){return e.Complex&&t instanceof e.Complex||!1},e.isBigNumber=a,e.isFraction=function(t){return e.Fraction&&t instanceof e.Fraction||!1},e.isUnit=function(e){return e&&e.constructor.prototype.isUnit||!1},e.isString=function(e){return"string"==typeof e},e.isArray=Array.isArray,e.isMatrix=s,e.isDenseMatrix=function(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix||!1},e.isSparseMatrix=function(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix||!1},e.isRange=function(e){return e&&e.constructor.prototype.isRange||!1},e.isIndex=function(e){return e&&e.constructor.prototype.isIndex||!1},e.isBoolean=function(e){return"boolean"==typeof e},e.isResultSet=function(e){return e&&e.constructor.prototype.isResultSet||!1},e.isHelp=function(e){return e&&e.constructor.prototype.isHelp||!1},e.isFunction=function(e){return"function"==typeof e},e.isDate=function(e){return e instanceof Date},e.isRegExp=function(e){return e instanceof RegExp},e.isObject=function(t){return"object"===r(t)&&t.constructor===Object&&!e.isComplex(t)&&!e.isFraction(t)},e.isNull=function(e){return null===e},e.isUndefined=function(e){return void 0===e},e.isAccessorNode=function(e){return e&&e.isAccessorNode&&e.constructor.prototype.isNode||!1},e.isArrayNode=function(e){return e&&e.isArrayNode&&e.constructor.prototype.isNode||!1},e.isAssignmentNode=function(e){return e&&e.isAssignmentNode&&e.constructor.prototype.isNode||!1},e.isBlockNode=function(e){return e&&e.isBlockNode&&e.constructor.prototype.isNode||!1},e.isConditionalNode=function(e){return e&&e.isConditionalNode&&e.constructor.prototype.isNode||!1},e.isConstantNode=function(e){return e&&e.isConstantNode&&e.constructor.prototype.isNode||!1},e.isFunctionAssignmentNode=function(e){return e&&e.isFunctionAssignmentNode&&e.constructor.prototype.isNode||!1},e.isFunctionNode=function(e){return e&&e.isFunctionNode&&e.constructor.prototype.isNode||!1},e.isIndexNode=function(e){return e&&e.isIndexNode&&e.constructor.prototype.isNode||!1},e.isNode=function(e){return e&&e.isNode&&e.constructor.prototype.isNode||!1},e.isObjectNode=function(e){return e&&e.isObjectNode&&e.constructor.prototype.isNode||!1},e.isOperatorNode=function(e){return e&&e.isOperatorNode&&e.constructor.prototype.isNode||!1},e.isParenthesisNode=function(e){return e&&e.isParenthesisNode&&e.constructor.prototype.isNode||!1},e.isRangeNode=function(e){return e&&e.isRangeNode&&e.constructor.prototype.isNode||!1},e.isSymbolNode=function(e){return e&&e.isSymbolNode&&e.constructor.prototype.isNode||!1},e.isChain=function(e){return e&&e.constructor.prototype.isChain||!1};var t=u();return t.types=[{name:"number",test:e.isNumber},{name:"Complex",test:e.isComplex},{name:"BigNumber",test:e.isBigNumber},{name:"Fraction",test:e.isFraction},{name:"Unit",test:e.isUnit},{name:"string",test:e.isString},{name:"Array",test:e.isArray},{name:"Matrix",test:e.isMatrix},{name:"DenseMatrix",test:e.isDenseMatrix},{name:"SparseMatrix",test:e.isSparseMatrix},{name:"Range",test:e.isRange},{name:"Index",test:e.isIndex},{name:"boolean",test:e.isBoolean},{name:"ResultSet",test:e.isResultSet},{name:"Help",test:e.isHelp},{name:"function",test:e.isFunction},{name:"Date",test:e.isDate},{name:"RegExp",test:e.isRegExp},{name:"null",test:e.isNull},{name:"undefined",test:e.isUndefined},{name:"OperatorNode",test:e.isOperatorNode},{name:"ConstantNode",test:e.isConstantNode},{name:"SymbolNode",test:e.isSymbolNode},{name:"ParenthesisNode",test:e.isParenthesisNode},{name:"FunctionNode",test:e.isFunctionNode},{name:"FunctionAssignmentNode",test:e.isFunctionAssignmentNode},{name:"ArrayNode",test:e.isArrayNode},{name:"AssignmentNode",test:e.isAssignmentNode},{name:"BlockNode",test:e.isBlockNode},{name:"ConditionalNode",test:e.isConditionalNode},{name:"IndexNode",test:e.isIndexNode},{name:"RangeNode",test:e.isRangeNode},{name:"Node",test:e.isNode},{name:"Object",test:e.isObject}],t.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(i(t)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e.BigNumber(t)}},{from:"number",to:"Complex",convert:function(t){return new e.Complex(t,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(t){return new e.Complex(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return new e.Complex(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){if(new e.Fraction(t).valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return new e.Fraction(t)}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(t){try{return new e.BigNumber(t)}catch(e){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){try{return new e.Fraction(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){try{return new e.Complex(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(t){return new e.BigNumber(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return new e.Fraction(+t)}},{from:"boolean",to:"string",convert:function(e){return+e}},{from:"Array",to:"Matrix",convert:function(t){return new e.DenseMatrix(t)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],t}},kip4:function(e,t,n){"use strict";var r=n("PXUV").format,o=n("bFQJ").escape;t.name="ConstantNode",t.path="expression.node",t.factory=function(e,t,i,a){var s=i(n("K6lB")),u=i(n("uUDd"));function c(e){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(2===arguments.length)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=e}return c.prototype=new s,c.prototype.type="ConstantNode",c.prototype.isConstantNode=!0,c.prototype._compile=function(e,t){var n=this.value;return function(){return n}},c.prototype.forEach=function(e){},c.prototype.map=function(e){return this.clone()},c.prototype.clone=function(){return new c(this.value)},c.prototype._toString=function(e){return r(this.value,e)},c.prototype.toHTML=function(e){var t=this._toString(e);switch(u(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},c.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},c.fromJSON=function(e){return new c(e.value)},c.prototype._toTex=function(e){var t=this._toString(e);switch(u(this.value)){case"string":return"\\mathtt{"+o(t)+"}";case"number":case"BigNumber":var n=t.toLowerCase().indexOf("e");return-1!==n?t.substring(0,n)+"\\cdot10^{"+t.substring(n+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},c}},kvEc:function(e,t,n){},l41f:function(e,t,n){"use strict";var r=n("sTyi").forEach,o=n("sTyi").map;t.name="BlockNode",t.path="expression.node",t.factory=function(e,t,i,a){var s=i(n("K6lB")),u=i(n("c0b4"));function c(t){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map(function(t){var n=t&&t.node,r=!t||void 0===t.visible||t.visible;if(!e.isNode(n))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return{node:n,visible:r}})}return c.prototype=new s,c.prototype.type="BlockNode",c.prototype.isBlockNode=!0,c.prototype._compile=function(e,t){var n=o(this.blocks,function(n){return{eval:n.node._compile(e,t),visible:n.visible}});return function(e,t,o){var i=[];return r(n,function(n){var r=n.eval(e,t,o);n.visible&&i.push(r)}),new u(i)}},c.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},c.prototype.map=function(e){for(var t=[],n=0;n<this.blocks.length;n++){var r=this.blocks[n],o=this._ifNode(e(r.node,"blocks["+n+"].node",this));t[n]={node:o,visible:r.visible}}return new c(t)},c.prototype.clone=function(){return new c(this.blocks.map(function(e){return{node:e.node,visible:e.visible}}))},c.prototype._toString=function(e){return this.blocks.map(function(t){return t.node.toString(e)+(t.visible?"":";")}).join("\n")},c.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},c.fromJSON=function(e){return new c(e.blocks)},c.prototype.toHTML=function(e){return this.blocks.map(function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},c.prototype._toTex=function(e){return this.blocks.map(function(t){return t.node.toTex(e)+(t.visible?"":";")}).join("\\;\\;\n")},c}},lFTT:function(e,t,n){"use strict";t.name="parse",t.factory=function(e,t,r,o){var i=r(n("MUdo"));return o("parse",{"string | Array | Matrix":i,"string | Array | Matrix, Object":i})}},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},lwsE:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},m4e2:function(e,t,n){"use strict";var r=n("199F").nearlyEqual,o=n("rMK7");t.name="smaller",t.factory=function(e,t,i,a){var s=i(n("R4H5")),u=i(n("hYuG")),c=i(n("XXc+")),l=i(n("/z5F")),p=i(n("zbDx")),f=i(n("BLb5")),h=n("bFQJ"),d=a("smaller",{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,n){return e<n&&!r(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,n){return e.lt(n)&&!o(e,n,t.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return d(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,d)},"SparseMatrix, DenseMatrix":function(e,t){return u(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return u(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,d)},"Array, Array":function(e,t){return d(s(e),s(t)).valueOf()},"Array, Matrix":function(e,t){return d(s(e),t)},"Matrix, Array":function(e,t){return d(e,s(t))},"SparseMatrix, any":function(e,t){return l(e,t,d,!1)},"DenseMatrix, any":function(e,t){return f(e,t,d,!1)},"any, SparseMatrix":function(e,t){return l(t,e,d,!0)},"any, DenseMatrix":function(e,t){return f(t,e,d,!0)},"Array, any":function(e,t){return f(s(e),t,d,!1).valueOf()},"any, Array":function(e,t){return f(s(t),e,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(h.operators.smaller,"${args[1]}\\right)")},d}},mX2D:function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:o).supported=r,t.unsupported=o},"n+Sg":function(e,t,n){"use strict";t.name="xor",t.factory=function(e,t,r,o){var i=n("bFQJ"),a=r(n("R4H5")),s=r(n("hYuG")),u=r(n("XXc+")),c=r(n("/z5F")),l=r(n("zbDx")),p=r(n("BLb5")),f=o("xor",{"number, number":function(e,t){return!!e!=!!t},"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return f(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,f)},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"SparseMatrix, any":function(e,t){return c(e,t,f,!1)},"DenseMatrix, any":function(e,t){return p(e,t,f,!1)},"any, SparseMatrix":function(e,t){return c(t,e,f,!0)},"any, DenseMatrix":function(e,t){return p(t,e,f,!0)},"Array, any":function(e,t){return p(a(e),t,f,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(i.operators.xor,"${args[1]}\\right)")},f}},nr1U:function(e,t,n){"use strict";t.name="algorithm11",t.factory=function(e,t,r,o){var i=r(n("hj6K")),a=e.SparseMatrix;return function(e,t,n,r){var s=e._values,u=e._index,c=e._ptr,l=e._size,p=e._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=l[0],d=l[1],m=i,y=0,v=n;"string"==typeof p&&(f=p,m=o.find(i,[f,f]),y=o.convert(0,f),t=o.convert(t,f),v=o.find(n,[f,f]));for(var g=[],b=[],w=[],x=new a({values:g,index:b,ptr:w,size:[h,d],datatype:f}),S=0;S<d;S++){w[S]=b.length;for(var E=c[S],O=c[S+1],N=E;N<O;N++){var T=u[N],A=r?v(t,s[N]):v(s[N],t);m(A,y)||(b.push(T),g.push(A))}}return w[d]=b.length,x}}},o0nB:function(e,t,n){"use strict";t.name="or",t.factory=function(e,t,r,o){var i=n("bFQJ"),a=r(n("R4H5")),s=r(n("hYuG")),u=r(n("ZXMR")),c=r(n("/z5F")),l=r(n("zbDx")),p=r(n("BLb5")),f=o("or",{"number, number":function(e,t){return!(!e&&!t)},"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return f(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,f)},"Array, Array":function(e,t){return f(a(e),a(t)).valueOf()},"Array, Matrix":function(e,t){return f(a(e),t)},"Matrix, Array":function(e,t){return f(e,a(t))},"SparseMatrix, any":function(e,t){return c(e,t,f,!1)},"DenseMatrix, any":function(e,t){return p(e,t,f,!1)},"any, SparseMatrix":function(e,t){return c(t,e,f,!0)},"any, DenseMatrix":function(e,t){return p(t,e,f,!0)},"Array, any":function(e,t){return p(a(e),t,f,!1).valueOf()},"any, Array":function(e,t){return p(a(t),e,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(i.operators.or,"${args[1]}\\right)")},f}},ohYX:function(e,t,n){"use strict";var r=n("LHK7").string.isString;t.name="Matrix",t.path="type",t.factory=function(e,t,n,o){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(e){if(!r(e))throw new TypeError("format must be a string value");var t=i._storage[e];if(!t)throw new SyntaxError("Unsupported matrix storage format: "+e);return t},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}},oiZ2:function(e,t,n){"use strict";t.factory=function(e,t,n,r){var o=r("multiplyScalar",{"number, number":function(e,t){return e*t},"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,t){var n=t.clone();return n.value=null===n.value?n._normalize(e):o(n.value,e),n},"Unit, number | Fraction | BigNumber | Complex":function(e,t){var n=e.clone();return n.value=null===n.value?n._normalize(t):o(n.value,t),n},"Unit, Unit":function(e,t){return e.multiply(t)}});return o}},p2yA:function(e,t,n){"use strict";var r=n("C8y5"),o=n("PXUV").escape,i=n("sTyi").forEach,a=n("sTyi").join,s=n("bFQJ"),u=n("Tb0o"),c=n("4bae").setSafeProperty;t.name="FunctionAssignmentNode",t.path="expression.node",t.factory=function(e,t,l,p){var f=l(n("K6lB"));function h(t,n,o){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(n))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!e.isNode(o))throw new TypeError('Node expected for parameter "expr"');if(t in r)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=n.map(function(e){return e&&e.name||e}),this.types=n.map(function(e){return e&&e.type||"any"}),this.expr=o}function d(e,t){var n=u.getPrecedence(e,t),r=u.getPrecedence(e.expr,t);return"all"===t||null!==r&&r<=n}return h.prototype=new f,h.prototype.type="FunctionAssignmentNode",h.prototype.isFunctionAssignmentNode=!0,h.prototype._compile=function(e,t){var n=Object.create(t);i(this.params,function(e){n[e]=!0});var r=this.expr._compile(e,n),o=this.name,s=this.params,u=a(this.types,","),l=o+"("+a(this.params,", ")+")";return function(e,t,n){var i={};i[u]=function(){for(var o=Object.create(t),i=0;i<s.length;i++)o[s[i]]=arguments[i];return r(e,o,n)};var a=p(o,i);return a.syntax=l,c(e,o,a),a}},h.prototype.forEach=function(e){e(this.expr,"expr",this)},h.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new h(this.name,this.params.slice(0),t)},h.prototype.clone=function(){return new h(this.name,this.params.slice(0),this.expr)},h.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return d(this,t)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},h.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(t,n){return{name:t,type:e[n]}}),expr:this.expr}},h.fromJSON=function(e){return new h(e.name,e.params,e.expr)},h.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=[],r=0;r<this.params.length;r++)n.push('<span class="math-symbol math-parameter">'+o(this.params[r])+"</span>");var i=this.expr.toHTML(e);return d(this,t)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+o(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i},h.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return d(this,t)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(s.toSymbol).join(",")+"\\right):="+n},h}},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},pvRk:function(e,t,n){"use strict";e.exports=function(e){return e&&e.constructor.prototype.isBigNumber||!1}},rMK7:function(e,t,n){"use strict";e.exports=function(e,t,n){if(null==n)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var o=e.constructor.max(e.abs(),t.abs());return r.lte(o.times(n))}return!1}},rVKH:function(e,t,n){"use strict";var r=n("Z2I/").extend;t.name="divide",t.factory=function(e,t,o,i){var a=o(n("WPGy")),s=o(n("NU+P")),u=o(n("QfvV")),c=o(n("R4H5")),l=o(n("nr1U")),p=o(n("BLb5")),f=i("divide",r({"Array | Matrix, Array | Matrix":function(e,t){return s(e,u(t))},"DenseMatrix, any":function(e,t){return p(e,t,a,!1)},"SparseMatrix, any":function(e,t){return l(e,t,a,!1)},"Array, any":function(e,t){return p(c(e),t,a,!1).valueOf()},"any, Array | Matrix":function(e,t){return s(e,u(t))}},a.signatures));return f.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},f}},rq6S:function(e,t,n){"use strict";var r=n("sTyi").size,o=n("6cPB"),i=n("S2pI");function a(e,t,n){var r,o,i,s;if(t<=0){if(Array.isArray(e[0])){for(s=function(e){var t,n,r=e.length,o=e[0].length,i=[];for(n=0;n<o;n++){var a=[];for(t=0;t<r;t++)a.push(e[t][n]);i.push(a)}return i}(e),o=[],r=0;r<s.length;r++)o[r]=a(s[r],t-1,n);return o}for(i=e[0],r=1;r<e.length;r++)i=n(i,e[r]);return i}for(o=[],r=0;r<e.length;r++)o[r]=a(e[r],t-1,n);return o}e.exports=function(e,t,n){var s=Array.isArray(e)?r(e):e.size();if(t<0||t>=s.length)throw new i(t,s.length);return o(e)?e.create(a(e.valueOf(),t,n)):a(e,t,n)}},sGQ9:function(e,t){e.exports=s},sTyi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.size=u,t.validate=function(e,t){if(0===t.length){if(Array.isArray(e))throw new i.default(e.length,0)}else!function e(t,n,r){var o,a=t.length;if(a!==n[r])throw new i.default(a,n[r]);if(r<n.length-1){var s=r+1;for(o=0;o<a;o++){var u=t[o];if(!Array.isArray(u))throw new i.default(n.length-1,n.length,"<");e(t[o],n,s)}}else for(o=0;o<a;o++)if(Array.isArray(t[o]))throw new i.default(n.length+1,n.length,">")}(e,t,0)},t.validateIndex=function(e,t){if(!r.default.isNumber(e)||!r.default.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new a.default(e,t)},t.resize=function(e,t,n){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");t.forEach(function(e){if(!r.default.isNumber(e)||!r.default.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+o.default.format(t)+")")});var i=void 0!==n?n:0;return function e(t,n,r,o){var i,a,s=t.length,u=n[r],c=Math.min(s,u);if(t.length=u,r<n.length-1){var l=r+1;for(i=0;i<c;i++)a=t[i],Array.isArray(a)||(a=[a],t[i]=a),e(a,n,l,o);for(i=c;i<u;i++)a=[],t[i]=a,e(a,n,l,o)}else{for(i=0;i<c;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=c;i<u;i++)t[i]=o}}(e,t,0,i),e},t.reshape=function(e,t){var n,r=c(e);function o(e){return e.reduce(function(e,t){return e*t})}if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new i.default(0,o(u(e)),"!=");for(var a=1,s=0;s<t.length;s++)a*=t[s];if(r.length!==a)throw new i.default(o(t),o(u(e)),"!=");try{n=function(e,t){for(var n,r=e,o=t.length-1;o>0;o--){var i=t[o];n=[];for(var a=r.length/i,s=0;s<a;s++)n.push(r.slice(s*i,(s+1)*i));r=n}return r}(r,t)}catch(n){if(n instanceof i.default)throw new i.default(o(t),o(u(e)),"!=");throw n}return n},t.squeeze=function(e,t){for(var n=t||u(e);Array.isArray(e)&&1===e.length;)e=e[0],n.shift();for(var r=n.length;1===n[r-1];)r--;return r<n.length&&(e=function e(t,n,r){var o,i;if(r<n){var a=r+1;for(o=0,i=t.length;o<i;o++)t[o]=e(t[o],n,a)}else for(;Array.isArray(t);)t=t[0];return t}(e,r,0),n.length=r),e},t.unsqueeze=function(e,t,n,r){var o=r||u(e);if(n)for(var i=0;i<n;i++)e=[e],o.unshift(1);for(e=function e(t,n,r){var o,i;if(Array.isArray(t)){var a=r+1;for(o=0,i=t.length;o<i;o++)t[o]=e(t[o],n,a)}else for(var s=r;s<n;s++)t=[t];return t}(e,t,0);o.length<t;)o.push(1);return e},t.flatten=c,t.map=function(e,t){return Array.prototype.map.call(e,t)},t.forEach=function(e,t){Array.prototype.forEach.call(e,t)},t.filter=function(e,t){if(1!==u(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)},t.filterRegExp=function(e,t){if(1!==u(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,function(e){return t.test(e)})},t.join=function(e,t){return Array.prototype.join.call(e,t)},t.identify=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],n=0;t[0]={value:e[0],identifier:0};for(var r=1;r<e.length;r++)e[r]===e[r-1]?n++:n=0,t.push({value:e[r],identifier:n});return t},t.generalize=function(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],n=0;n<e.length;n++)t.push(e[n].value);return t};var r=s(n("199F")),o=s(n("PXUV")),i=s(n("X8kj")),a=s(n("S2pI"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function c(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function e(n){Array.isArray(n)?n.forEach(e):t.push(n)}),t}},sxfZ:function(e,t,n){},uPaw:function(e,t,n){"use strict";var r=n("Tb0o");t.name="RangeNode",t.path="expression.node",t.factory=function(e,t,o,i){var a=o(n("K6lB"));function s(t,n,r){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError("Node expected");if(!e.isNode(n))throw new TypeError("Node expected");if(r&&!e.isNode(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=n,this.step=r||null}function u(e,t){var n=r.getPrecedence(e,t),o={},i=r.getPrecedence(e.start,t);if(o.start=null!==i&&i<=n||"all"===t,e.step){var a=r.getPrecedence(e.step,t);o.step=null!==a&&a<=n||"all"===t}var s=r.getPrecedence(e.end,t);return o.end=null!==s&&s<=n||"all"===t,o}return s.prototype=new a,s.prototype.type="RangeNode",s.prototype.isRangeNode=!0,s.prototype.needsEnd=function(){return this.filter(function(t){return e.isSymbolNode(t)&&"end"===t.name}).length>0},s.prototype._compile=function(e,t){var n=e.range,r=this.start._compile(e,t),o=this.end._compile(e,t);if(this.step){var i=this.step._compile(e,t);return function(e,t,a){return n(r(e,t,a),o(e,t,a),i(e,t,a))}}return function(e,t,i){return n(r(e,t,i),o(e,t,i))}},s.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},s.prototype.map=function(e){return new s(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},s.prototype.clone=function(){return new s(this.start,this.end,this.step&&this.step)},s.prototype._toString=function(e){var t,n=u(this,e&&e.parenthesis?e.parenthesis:"keep"),r=this.start.toString(e);if(n.start&&(r="("+r+")"),t=r,this.step){var o=this.step.toString(e);n.step&&(o="("+o+")"),t+=":"+o}var i=this.end.toString(e);return n.end&&(i="("+i+")"),t+=":"+i},s.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},s.fromJSON=function(e){return new s(e.start,e.end,e.step)},s.prototype.toHTML=function(e){var t,n=u(this,e&&e.parenthesis?e.parenthesis:"keep"),r=this.start.toHTML(e);if(n.start&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=r,this.step){var o=this.step.toHTML(e);n.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o}var i=this.end.toHTML(e);return n.end&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+i},s.prototype._toTex=function(e){var t=u(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toTex(e);if(t.start&&(n="\\left(".concat(n,"\\right)")),this.step){var r=this.step.toTex(e);t.step&&(r="\\left(".concat(r,"\\right)")),n+=":"+r}var o=this.end.toTex(e);return t.end&&(o="\\left(".concat(o,"\\right)")),n+=":"+o},s}},uUDd:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.name="typeof",t.factory=function(e,t,n,o){var i=o("_typeof",{any:function(t){var n=r(t);return"object"===n?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":e.isBigNumber(t)?"BigNumber":e.isComplex(t)?"Complex":e.isFraction(t)?"Fraction":e.isMatrix(t)?"Matrix":e.isUnit(t)?"Unit":e.isIndex(t)?"Index":e.isRange(t)?"Range":e.isResultSet(t)?"ResultSet":e.isNode(t)?t.type:e.isChain(t)?"Chain":e.isHelp(t)?"Help":"Object":"function"===n?"Function":n}});return i.toTex=void 0,i}},ulyj:function(e,t,n){},"ut+i":function(e,t,n){"use strict";var r=n("bFQJ"),o=n("sTyi").map,i=n("PXUV").escape,a=n("4bae").isSafeMethod,s=n("4bae").getSafeProperty,u=n("Tb0o");t.name="OperatorNode",t.path="expression.node",t.factory=function(e,t,c,l){var p=c(n("K6lB"));function f(t,n,r,o){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof n)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(e.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===o,this.op=t,this.fn=n,this.args=r||[]}function h(e,t,n,r,o){var i,a=u.getPrecedence(e,t),s=u.getAssociativity(e,t);if("all"===t||r.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return r.map(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(r.length){case 0:i=[];break;case 1:var c=u.getPrecedence(r[0],t);if(o&&null!==c){var l,p;if("keep"===t?(l=r[0].getIdentifier(),p=e.getIdentifier()):(l=r[0].getContent().getIdentifier(),p=e.getContent().getIdentifier()),!1===u.properties[a][p].latexLeftParens){i=[!1];break}if(!1===u.properties[c][l].latexParens){i=[!1];break}}if(null===c){i=[!1];break}if(c<=a){i=[!0];break}i=[!1];break;case 2:var f,h,d=u.getPrecedence(r[0],t),m=u.isAssociativeWith(e,r[0],t);f=null!==d&&(d===a&&"right"===s&&!m||d<a);var y,v,g,b=u.getPrecedence(r[1],t),w=u.isAssociativeWith(e,r[1],t);h=null!==b&&(b===a&&"left"===s&&!w||b<a),o&&("keep"===t?(y=e.getIdentifier(),v=e.args[0].getIdentifier(),g=e.args[1].getIdentifier()):(y=e.getContent().getIdentifier(),v=e.args[0].getContent().getIdentifier(),g=e.args[1].getContent().getIdentifier()),null!==d&&(!1===u.properties[a][y].latexLeftParens&&(f=!1),!1===u.properties[d][v].latexParens&&(f=!1)),null!==b&&(!1===u.properties[a][y].latexRightParens&&(h=!1),!1===u.properties[b][g].latexParens&&(h=!1))),i=[f,h];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(i=r.map(function(n){var r=u.getPrecedence(n,t),o=u.isAssociativeWith(e,n,t),i=u.getAssociativity(n,t);return null!==r&&(a===r&&s===i&&!o||r<a)}))}return r.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===n&&(i=r.map(function(e,t){var n="ParenthesisNode"===e.getIdentifier();return!(!i[t]&&!n)})),i}return f.prototype=new p,f.prototype.type="OperatorNode",f.prototype.isOperatorNode=!0,f.prototype._compile=function(e,t){if("string"!=typeof this.fn||!a(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=s(e,this.fn),r=o(this.args,function(n){return n._compile(e,t)});if(1===r.length){var i=r[0];return function(e,t,r){return n(i(e,t,r))}}if(2===r.length){var u=r[0],c=r[1];return function(e,t,r){return n(u(e,t,r),c(e,t,r))}}return function(e,t,i){return n.apply(null,o(r,function(n){return n(e,t,i)}))}},f.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},f.prototype.map=function(e){for(var t=[],n=0;n<this.args.length;n++)t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new f(this.op,this.fn,t,this.implicit)},f.prototype.clone=function(){return new f(this.op,this.fn,this.args.slice(0),this.implicit)},f.prototype.isUnary=function(){return 1===this.args.length},f.prototype.isBinary=function(){return 2===this.args.length},f.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",r=this.args,o=h(this,t,n,r,!1);if(1===r.length){var i=u.getAssociativity(this,t),a=r[0].toString(e);o[0]&&(a="("+a+")");var s=/[a-zA-Z]+/.test(this.op);return"right"===i?this.op+(s?" ":"")+a:"left"===i?a+(s?" ":"")+this.op:a+this.op}if(2===r.length){var c=r[0].toString(e),l=r[1].toString(e);return o[0]&&(c="("+c+")"),o[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c+" "+l:c+" "+this.op+" "+l}if(r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=r.map(function(t,n){return t=t.toString(e),o[n]&&(t="("+t+")"),t});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?p.join(" "):p.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},f.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},f.fromJSON=function(e){return new f(e.op,e.fn,e.args,e.implicit)},f.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",r=this.args,o=h(this,t,n,r,!1);if(1===r.length){var a=u.getAssociativity(this,t),s=r[0].toHTML(e);return o[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+i(this.op)+"</span>"+s:'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+i(this.op)+"</span>"+s}if(2===r.length){var c=r[0].toHTML(e),l=r[1].toHTML(e);return o[0]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o[1]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+l:c+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(this.op)+"</span>"+l}var p=r.map(function(t,n){return t=t.toHTML(e),o[n]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t});return r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?p.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):p.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+i(this.op)+"</span>"):'<span class="math-function">'+i(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},f.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",o=this.args,i=h(this,t,n,o,!0),a=r.operators[this.fn];if(a=void 0===a?this.op:a,1===o.length){var s=u.getAssociativity(this,t),c=o[0].toTex(e);return i[0]&&(c="\\left(".concat(c,"\\right)")),"right"===s?a+c:c+a}if(2===o.length){var l=o[0],p=l.toTex(e);i[0]&&(p="\\left(".concat(p,"\\right)"));var f,d=o[1].toTex(e);switch(i[1]&&(d="\\left(".concat(d,"\\right)")),f="keep"===t?l.getIdentifier():l.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+p+"}{"+d+"}";case"OperatorNode:pow":switch(p="{"+p+"}",d="{"+d+"}",f){case"ConditionalNode":case"OperatorNode:divide":p="\\left(".concat(p,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return p+"~"+d}return p+a+d}if(o.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var m=o.map(function(t,n){return t=t.toTex(e),i[n]&&(t="\\left(".concat(t,"\\right)")),t});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?m.join("~"):m.join(a)}return"\\mathrm{"+this.fn+"}\\left("+o.map(function(t){return t.toTex(e)}).join(",")+"\\right)"},f.prototype.getIdentifier=function(){return this.type+":"+this.fn},f}},uxtw:function(e,t,n){"use strict";var r=n("4bae").getSafeProperty,o=n("4bae").setSafeProperty;t.name="AssignmentNode",t.path="expression.node",t.factory=function(e,t,i,a){var s=i(n("K6lB")),u=i(n("XZ/J")),c=i(n("2g85")),l=n("Tb0o");function p(t,n,r){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=r?n:null,this.value=r||n,!e.isSymbolNode(t)&&!e.isAccessorNode(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(e.isSymbolNode(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!e.isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!e.isNode(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function f(e,t){t||(t="keep");var n=l.getPrecedence(e,t),r=l.getPrecedence(e.value,t);return"all"===t||null!==r&&r<=n}return p.prototype=new s,p.prototype.type="AssignmentNode",p.prototype.isAssignmentNode=!0,p.prototype._compile=function(t,n){var i=this.object._compile(t,n),a=this.index?this.index._compile(t,n):null,s=this.value._compile(t,n),l=this.object.name;if(this.index){if(this.index.isObjectProperty()){var p=this.index.getObjectProperty();return function(e,t,n){var r=i(e,t,n),a=s(e,t,n);return o(r,p,a)}}if(e.isSymbolNode(this.object))return function(e,t,n){var r=i(e,t,n),c=s(e,t,n),p=a(e,t,r);return o(e,l,u(r,p,c)),c};var f=this.object.object._compile(t,n);if(this.object.index.isObjectProperty()){var h=this.object.index.getObjectProperty();return function(e,t,n){var i=f(e,t,n),c=r(i,h),l=a(e,t,c),p=s(e,t,n);return o(i,h,u(c,l,p)),p}}var d=this.object.index._compile(t,n);return function(e,t,n){var r=f(e,t,n),o=d(e,t,r),i=c(r,o),l=a(e,t,i),p=s(e,t,n);return u(r,o,u(i,l,p)),p}}if(!e.isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,n){return o(e,l,s(e,t,n))}},p.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},p.prototype.map=function(e){return new p(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},p.prototype.clone=function(){return new p(this.object,this.index,this.value)},p.prototype._toString=function(e){var t=this.object.toString(e),n=this.index?this.index.toString(e):"",r=this.value.toString(e);return f(this,e&&e.parenthesis)&&(r="("+r+")"),t+n+" = "+r},p.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},p.fromJSON=function(e){return new p(e.object,e.index,e.value)},p.prototype.toHTML=function(e){var t=this.object.toHTML(e),n=this.index?this.index.toHTML(e):"",r=this.value.toHTML(e);return f(this,e&&e.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},p.prototype._toTex=function(e){var t=this.object.toTex(e),n=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return f(this,e&&e.parenthesis)&&(r="\\left(".concat(r,"\\right)")),t+n+":="+r},p}},"v+4T":function(e,t,n){"use strict";t.name="algorithm10",t.factory=function(e,t,n,r){var o=e.DenseMatrix;return function(e,t,n,i){var a=e._values,s=e._index,u=e._ptr,c=e._size,l=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,f=c[0],h=c[1],d=n;"string"==typeof l&&(p=l,t=r.convert(t,p),d=r.find(n,[p,p]));for(var m=[],y=new o({data:m,size:[f,h],datatype:p}),v=[],g=[],b=0;b<h;b++){for(var w=b+1,x=u[b],S=u[b+1],E=x;E<S;E++){var O=s[E];v[O]=a[E],g[O]=w}for(var N=0;N<f;N++)0===b&&(m[N]=[]),g[N]===w?m[N][b]=i?d(t,v[N]):d(v[N],t):m[N][b]=t}return y}}},v0wB:function(e,t,n){"use strict";var r=n("sTyi").map;t.name="ArrayNode",t.path="expression.node",t.factory=function(e,t,o,i){var a=o(n("K6lB"));function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(e.isNode))throw new TypeError("Array containing Nodes expected");var n=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:n,set:n})}return s.prototype=new a,s.prototype.type="ArrayNode",s.prototype.isArrayNode=!0,s.prototype._compile=function(e,t){var n=r(this.items,function(n){return n._compile(e,t)});if("Array"!==e.config().matrix){var o=e.matrix;return function(e,t,i){return o(r(n,function(n){return n(e,t,i)}))}}return function(e,t,o){return r(n,function(n){return n(e,t,o)})}},s.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++)e(this.items[t],"items["+t+"]",this)},s.prototype.map=function(e){for(var t=[],n=0;n<this.items.length;n++)t[n]=this._ifNode(e(this.items[n],"items["+n+"]",this));return new s(t)},s.prototype.clone=function(){return new s(this.items.slice(0))},s.prototype._toString=function(e){return"["+this.items.map(function(t){return t.toString(e)}).join(", ")+"]"},s.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},s.fromJSON=function(e){return new s(e.items)},s.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(t){return t.toHTML(e)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},s.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach(function(n){n.items?t+=n.items.map(function(t){return t.toTex(e)}).join("&"):t+=n.toTex(e),t+="\\\\"}),t+="\\end{bmatrix}"},s}},"wJ/n":function(e,t,n){"use strict";var r=n("1stm");t.name="fraction",t.factory=function(e,t,n,o){var i=o("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new e.Fraction(t)},string:function(t){return new e.Fraction(t)},"number, number":function(t,n){return new e.Fraction(t,n)},null:function(t){return new e.Fraction(0)},BigNumber:function(t){return new e.Fraction(t.toString())},Fraction:function(e){return e},Object:function(t){return new e.Fraction(t)},"Array | Matrix":function(e){return r(e,i)}});return i}},wOJ8:function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},xFnQ:function(e,t,n){"use strict";t.factory=function(e,t,r,o){var i=r(n("uUDd"));return function e(t){for(var n,r=0,o=0;o<t.length;o++){var a=t[o],s=Array.isArray(a);if(0===o&&s&&(r=a.length),s&&a.length!==r)return;var u=s?e(a):i(a);if(void 0===n)n=u;else if(n!==u)return"mixed"}return n}}},"y+pi":function(e,t,n){},yZWr:function(e,t,n){e.exports=n("b5sn")},zbDx:function(e,t,n){"use strict";var r=n("X8kj");t.name="algorithm13",t.factory=function(e,t,n,o){var i=e.DenseMatrix;return function(e,t,n){var a,s=e._data,u=e._size,c=e._datatype,l=t._data,p=t._size,f=t._datatype,h=[];if(u.length!==p.length)throw new r(u.length,p.length);for(var d=0;d<u.length;d++){if(u[d]!==p[d])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");h[d]=u[d]}var m=n;"string"==typeof c&&c===f&&(a=c,m=o.find(n,[a,a]));var y=h.length>0?function e(t,n,r,o,i,a){var s=[];if(n===r.length-1)for(var u=0;u<o;u++)s[u]=t(i[u],a[u]);else for(var c=0;c<o;c++)s[c]=e(t,n+1,r,r[n+1],i[c],a[c]);return s}(m,0,h,h[0],s,l):[];return new i({data:y,size:h,datatype:a})}}}}))}).call(this,n("dm4u"))},"8cf0":function(e,t,n){var r=n("/6KZ"),o=n("Xj5l"),i=n("/Vl9"),a=n("M5cM"),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e,t,n){var o={},s=i(function(){return!!a[e]()||"​"!="​"[e]()}),u=o[e]=s?t(p):a[e];n&&(o[n]=u),r(r.P+r.F*s,"String",o)},p=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},AT0B:function(e,t,n){n("QTEN"),e.exports=n("TaGV").parseFloat},AtKN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}},BOV2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,o=n.paddingRight;return t-parseFloat(r)-parseFloat(o)}},CjJp:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("UrUy"),o=n.n(r),i=n("ZOIa"),a=n.n(i),s=n("R3/3"),u=n("mXGw"),c=n.n(u),l=n("xARA"),p=n.n(l),f=n("y4cp");function h(){return d.apply(this,arguments)}function d(){return(d=Object(s.default)(o.a.mark(function e(){var t,n,r,i=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",n=i.length>1&&void 0!==i[1]?i[1]:"Prompt",r=document.createElement("div"),document.body.appendChild(r),e.abrupt("return",new a.a(function(e){var o=function(){return e(!1)},i=function(){return e(!0)};p.a.render(c.a.createElement(f.a,{buttons:c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:i},"Yes"),c.a.createElement("button",{onClick:o},"No")),modal:!0,okButtonText:"Yes",onCancel:o,onOk:i,title:n},c.a.createElement("div",{className:"text"},t)),r)}).finally(function(){document.body.removeChild(r)}));case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},CkPy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var r,o=n("KsCW"),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,t.Scrollbars=i.default},DNsF:function(e,t,n){!function(e,t,n,r){"use strict";var o="default"in n?n.default:n;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e,t){return e(t={exports:{}},t.exports),t.exports}var m,y=d(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case p:case i:case s:case a:return e;default:switch(e=e&&e.$$typeof){case c:case f:case u:return e;default:return t}}case o:return t}}}function v(e){return y(e)===p}t.typeOf=y,t.AsyncMode=l,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=i,t.Profiler=s,t.Portal=o,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===s||e===a||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===d||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f)},t.isAsyncMode=function(e){return v(e)||y(e)===l},t.isConcurrentMode=v,t.isContextConsumer=function(e){return y(e)===c},t.isContextProvider=function(e){return y(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return y(e)===f},t.isFragment=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===s},t.isPortal=function(e){return y(e)===o},t.isStrictMode=function(e){return y(e)===a}});(m=y)&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")&&m.default,y.typeOf,y.AsyncMode,y.ConcurrentMode,y.ContextConsumer,y.ContextProvider,y.Element,y.ForwardRef,y.Fragment,y.Profiler,y.Portal,y.StrictMode,y.isValidElementType,y.isAsyncMode,y.isConcurrentMode,y.isContextConsumer,y.isContextProvider,y.isElement,y.isForwardRef,y.isFragment,y.isProfiler,y.isPortal,y.isStrictMode;var v=d(function(e){e.exports=y}),g={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},b={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},w={};w[v.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var x=Object.defineProperty,S=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols,O=Object.getOwnPropertyDescriptor,N=Object.getPrototypeOf,T=Object.prototype,A=function e(t,n,r){if("string"!=typeof n){if(T){var o=N(n);o&&o!==T&&e(t,o,r)}var i=S(n);E&&(i=i.concat(E(n)));for(var a=w[t.$$typeof]||g,s=w[n.$$typeof]||g,u=0;u<i.length;++u){var c=i[u];if(!(b[c]||r&&r[c]||s&&s[c]||a&&a[c])){var l=O(n,c);try{x(t,c,l)}catch(p){}}}return t}return t},_=function(){function e(){a(this,e),this.listeners=[]}return u(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(t){return t(e)})}}]),e}();function C(e){function n(n,r,o,i,a,s){for(var u=arguments.length,c=new Array(u>6?u-6:0),l=6;l<u;l++)c[l-6]=arguments[l];return t.untracked(function(){if(i=i||"<<anonymous>>",s=s||o,null==r[o]){if(n){var t=null===r[o]?"null":"undefined";return new Error("The "+a+" `"+s+"` is marked as required in `"+i+"`, but its value is `"+t+"`.")}return null}return e.apply(void 0,[r,o,i,a,s].concat(c))})}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function j(e){var t=i(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function M(e,n){return C(function(r,o,i,a,s){return t.untracked(function(){if(e&&j(r[o])===n.toLowerCase())return null;var a;switch(n){case"Array":a=t.isObservableArray;break;case"Object":a=t.isObservableObject;break;case"Map":a=t.isObservableMap;break;default:throw new Error("Unexpected mobxType: ".concat(n))}var u=r[o];if(!a(u)){var c=function(e){var t=j(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(u),l=e?" or javascript `"+n.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+c+"` supplied to `"+i+"`, expected `mobx.Observable"+n+"`"+l+".")}return null})})}function k(e,n){return C(function(r,o,i,a,s){for(var u=arguments.length,c=new Array(u>5?u-5:0),l=5;l<u;l++)c[l-5]=arguments[l];return t.untracked(function(){if("function"!=typeof n)return new Error("Property `"+s+"` of component `"+i+"` has invalid PropType notation.");var t=M(e,"Array")(r,o,i);if(t instanceof Error)return t;for(var u=r[o],l=0;l<u.length;l++)if((t=n.apply(void 0,[u,l,i,a,s+"["+l+"]"].concat(c)))instanceof Error)return t;return null})})}var D=M(!1,"Array"),P=k.bind(null,!1),I=M(!1,"Map"),R=M(!1,"Object"),z=M(!0,"Array"),V=k.bind(null,!0),B=M(!0,"Object"),F=Object.freeze({observableArray:D,observableArrayOf:P,observableMap:I,observableObject:R,arrayOrObservableArray:z,arrayOrObservableArrayOf:V,objectOrObservableObject:B}),L=0;function H(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(L,")");return L++,t}var U=H("patchMixins"),W=H("patchedDefinition");function K(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach(function(e){e.apply(n,o)})}}function X(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];K.call.apply(K,[this,e,t].concat(r))}}function J(e,t){for(var n=function(e,t){var n=e[U]=e[U]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}(e,t),r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];for(var a=0;a<o.length;a++){var s=o[a];n.methods.indexOf(s)<0&&n.methods.push(s)}var u=Object.getOwnPropertyDescriptor(e,t);if(!u||!u[W]){var l=e[t],p=function e(t,n,r,o,i){var a,s=X(i,o);return c(a={},W,!0),c(a,"get",function(){return s}),c(a,"set",function(i){if(this===t)s=X(i,o);else{var a=e(this,n,r,o,i);Object.defineProperty(this,n,a)}}),c(a,"configurable",!0),c(a,"enumerable",r),a}(e,t,u?u.enumerable:void 0,n,l);Object.defineProperty(e,t,p)}}var q={mobxStores:B};Object.seal(q);var $={contextTypes:{get:function(){return q},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function Y(e,t,r){var o="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");r&&(o+="-with-"+r);var i=function(r){function o(){var e,t;a(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=h(this,(e=p(o)).call.apply(e,[this].concat(r)))).storeRef=function(e){t.wrappedInstance=e},t}return l(o,r),u(o,[{key:"render",value:function(){var r={};for(var o in this.props)this.props.hasOwnProperty(o)&&(r[o]=this.props[o]);var i=e(this.context.mobxStores||{},r,this.context)||{};for(var a in i)r[a]=i[a];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(r.ref=this.storeRef),n.createElement(t,r)}}]),o}(n.Component);return i.displayName=o,A(i,t),i.wrappedComponent=t,Object.defineProperties(i,$),i}function G(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=Y(e,t);return n.isMobxInjector=!1,(n=ve(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=function(e){return function(t,n){return e.forEach(function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}}),n}}(t),function(n){return Y(e,n,t.join("-"))}}var Z=t.$mobx||"$mobx",Q=H("isUnmounted"),ee=!1,te=!1,ne=!1,re="undefined"!=typeof WeakMap?new WeakMap:void 0,oe=new _,ie=H("skipRender"),ae=H("isForcingUpdate"),se="function"==typeof n.forwardRef&&n.forwardRef(function(e,t){}).$$typeof;function ue(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function ce(e){if(r.findDOMNode)try{return r.findDOMNode(e)}catch(t){return null}return null}function le(e){var t=ce(e);t&&re&&re.set(t,e),oe.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function pe(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");ee||(ee=!0)}var fe=new _;function he(e,t){if(de(e,t))return!0;if("object"!==i(e)||null===e||"object"!==i(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!hasOwnProperty.call(t,n[o])||!de(e[n[o]],t[n[o]]))return!1;return!0}function de(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var me={componentWillUnmount:function(){if(!0!==te&&(this.render[Z]&&this.render[Z].dispose(),this[Q]=!0,ee)){var e=ce(this);e&&re&&re.delete(e),oe.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){ee&&le(this)},componentDidUpdate:function(){ee&&le(this)},shouldComponentUpdate:function(e,t){return te&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!he(this.props,e)}};function ye(e,n){var r=H("reactProp_".concat(n,"_valueHolder")),o=H("reactProp_".concat(n,"_atomHolder"));function i(){return this[o]||ue(this,o,t.createAtom("reactive "+n)),this[o]}Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){return i.call(this).reportObserved(),this[r]},set:function(e){this[ae]||he(this[r],e)?ue(this,r,e):(ue(this,r,e),ue(this,ie,!0),i.call(this).reportChanged(),ue(this,ie,!1))}})}function ve(e,r){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return ne||(ne=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),r?G.apply(null,e)(ve(r)):function(t){return ve(e,t)};var i=e;if(!0===i.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),i.__proto__===n.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),se&&i.$$typeof===se){var s=i.render;if("function"!=typeof s)throw new Error("render property of ForwardRef was not a function");return n.forwardRef(function(){var e=arguments;return o.createElement(ge,null,function(){return s.apply(void 0,e)})})}if(!("function"!=typeof i||i.prototype&&i.prototype.render||i.isReactClass||n.Component.isPrototypeOf(i))){var c,f,d=ve((f=c=function(e){function t(){return a(this,t),h(this,p(t).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){return i.call(this,this.props,this.context)}}]),t}(n.Component),c.displayName=i.displayName||i.name,c.contextTypes=i.contextTypes,c.propTypes=i.propTypes,c.defaultProps=i.defaultProps,f));return A(d,i),d}if(!i)throw new Error("Please pass a valid component to 'observer'");var m=i.prototype||i;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(t){!function(e,t){J(e,t,me[t])}(e,t)}),e.shouldComponentUpdate?e.shouldComponentUpdate!==me.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=me.shouldComponentUpdate}(m),i.isMobXReactObserver=!0,ye(m,"props"),ye(m,"state");var y=m.render;return m.render=function(){return function(e){var r=this;if(!0===te)return e.call(this);function o(){var e=this;u=!1;var n=void 0,r=void 0;if(c.track(function(){ee&&(e.__$mobRenderStart=Date.now());try{r=t._allowStateChanges(!1,s)}catch(o){n=o}ee&&(e.__$mobRenderEnd=Date.now())}),n)throw fe.emit(n),n;return r}var i=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",a=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;ue(this,ie,!1),ue(this,ae,!1);var s=e.bind(this),u=!1,c=new t.Reaction("".concat(i,"#").concat(a,".render()"),function(){if(!u&&(u=!0,"function"==typeof r.componentWillReact&&r.componentWillReact(),!0!==r[Q])){var e=!0;try{ue(r,ae,!0),r[ie]||n.Component.prototype.forceUpdate.call(r),e=!1}finally{ue(r,ae,!1),e&&c.dispose()}}});return c.reactComponent=this,o[Z]=c,this.render=o,o.call(this)}.call(this,y)},i}var ge=ve(function(e){var t=e.children,n=e.inject,r=e.render,i=t||r;if(void 0===i)return null;if(!n)return i();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var a=G(n)(i);return o.createElement(a,null)});ge.displayName="Observer";var be=function(e,t,n,r,o){var a="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[a]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[a]?new Error("Invalid prop `"+o+"` of type `"+i(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function we(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function xe(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function Se(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ge.propTypes={render:be,children:be},we.__suppressDeprecationWarning=!0,xe.__suppressDeprecationWarning=!0,Se.__suppressDeprecationWarning=!0;var Ee={children:!0,key:!0,ref:!0},Oe=function(e){function t(e,n){var r;return a(this,t),(r=h(this,p(t).call(this,e,n))).state={},Ne(e,r.state),r}return l(t,e),u(t,[{key:"render",value:function(){return n.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return Ne(this.context.mobxStores,e),Ne(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(Te).length!==Object.keys(t).filter(Te).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)Te(n)&&t[n]!==e[n]&&console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}(n.Component);function Ne(e,t){if(e)for(var n in e)Te(n)&&(t[n]=e[n])}function Te(e){return!Ee[e]&&"suppressChangedStoreWarning"!==e}Oe.contextTypes={mobxStores:B},Oe.childContextTypes={mobxStores:B.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=we,t.componentWillReceiveProps=xe),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Se;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}}(Oe);var Ae=H("disposeOnUnmount");function _e(){var e=this;this[Ae]&&(this[Ae].forEach(function(t){var n="string"==typeof t?e[t]:t;if(null!=n){if("function"!=typeof n)throw new Error("[mobx-react] disposeOnUnmount only works on functions such as disposers returned by reactions, autorun, etc.");n()}}),this[Ae]=[])}if(!n.Component)throw new Error("mobx-react requires React to be available");if(!t.spy)throw new Error("mobx-react requires mobx to be available");if("function"==typeof r.unstable_batchedUpdates&&t.configure({reactionScheduler:r.unstable_batchedUpdates}),"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":i(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var Ce={spy:t.spy,extras:{getDebugName:t.getDebugName}},je={renderReporter:oe,componentByNodeRegistry:re,componentByNodeRegistery:re,trackComponents:pe};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(je,Ce)}e.propTypes=F,e.PropTypes=F,e.onError=function(e){return fe.on(e)},e.observer=ve,e.Observer=ge,e.renderReporter=oe,e.componentByNodeRegistery=re,e.componentByNodeRegistry=re,e.trackComponents=pe,e.useStaticRendering=function(e){te=e},e.Provider=Oe,e.inject=G,e.disposeOnUnmount=function e(t,r){if(Array.isArray(r))return r.map(function(n){return e(t,n)});if(!t instanceof n.Component)throw new Error("[mobx-react] disposeOnUnmount only works on class based React components.");if("string"!=typeof r&&"function"!=typeof r)throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var o=!!t[Ae],i=t[Ae]||(t[Ae]=[]);return i.push(r),o||J(t,"componentWillUnmount",_e),"string"!=typeof r?r:void 0},Object.defineProperty(e,"__esModule",{value:!0})}(t,n("ooxR"),n("mXGw"),n("xARA"))},DWtB:function(e,t,n){var r=n("qKnW"),o=n("S1Ov"),i={float:"cssFloat"},a=n("mfIm");function s(e,t,n){var s=i[t];if(void 0===s&&(s=function(e){var t=o(e),n=r(t);return i[t]=i[e]=i[n]=n,n}(t)),s){if(void 0===n)return e.style[s];e.style[s]=a(s,n)}}function u(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:function(e,t){for(var n in t)t.hasOwnProperty(n)&&s(e,n,t[n])}(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=u,e.exports.set=u,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce(function(t,n){return t[n]=s(e,n||""),t},{}):s(e,t||"")}},IXLv:function(e,t,n){"use strict";var r=n("z3IF"),o=n("bVN1"),i=n.n(o),a=n("yLsn"),s=n.n(a),u=n("gDVU"),c=n("LkAs"),l=n("Moms"),p=n("bMj6"),f=n("hZod"),h=n("tEuJ"),d=n("YKN3"),m=n("azxR"),y=n("mXGw"),v=n.n(y),g=function(e,t){var n=t.min,r=t.max;return void 0!==n&&e<n?n:void 0!==r&&e>r?r:e},b=n("E/TB");n("VVQE");n.d(t,"a",function(){return x});var w=["text","multiline","boolean","number","slider"],x=function(e){function t(){var e,n;Object(c.default)(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=Object(p.default)(this,(e=Object(f.default)(t)).call.apply(e,[this].concat(a))),Object(m.a)(Object(d.default)(Object(d.default)(n)),"state",{editing:!1,resetValue:n.props.value}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"getEditorType",function(){var e=n.props.value,t=n.props.type;return void 0!==t&&w.includes(t)?t:"string"===(t=Object(u.default)(e))?e.includes("\n")?"multiline":"text":["boolean","number"].includes(t)?t:"text"}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"resetChanges",function(){n.props.onChange(n.state.resetValue,n.props.value),n.handleToggleEditing()}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"createRefWithAutoFocus",function(e){e&&(n.editor=e,"boolean"!==n.getEditorType()&&"function"==typeof e.focus&&e.focus(),["boolean","number"].includes(n.getEditorType())||n.props.forceEditMode&&"function"==typeof e.setSelectionRange&&e.setSelectionRange(e.value.length,e.value.length))}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"handleChange",function(e){var t=e.target,r=n.props,o=r.min,a=r.max,u=t.value;switch(n.getEditorType()){case"slider":case"number":u=s()(u||0),i()(u)&&(u=n.props.value),u=g(u,{max:a,min:o})}n.props.onChange(u,n.state.resetValue)}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"handleKeys",function(e){var t=e.target,r=e.key,o=e.ctrlKey,i=e.metaKey;n.props.onKeyDown!==b.a&&(n.props.onKeyDown(e),e.isDefaultPrevented())||("Escape"===r&&n.resetChanges(),"Enter"===r&&("TEXTAREA"!==t.nodeName||o||i)&&n.handleToggleEditing())}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"handleReceivingFocus",function(){n.props.readOnly||n.state.editing||n.handleToggleEditing()}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"handleToggleEditing",function(){if(!n.props.readOnly){var e=!n.editing;n.setState({editing:e,resetValue:n.props.value},function(){n.state.editing?n.props.onEditStart():n.props.onEditEnd()})}}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"selectOnFocus",function(e){return e.target.select()}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"toggleBoolean",function(){n.props.onEditStart(),n.props.onChange(!n.props.value,n.props.value),n.props.onEditEnd()}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"renderBoolean",function(){return v.a.createElement("input",{type:"checkbox",checked:Boolean(n.props.value),disabled:n.props.readOnly,onChange:n.toggleBoolean,ref:n.createRefWithAutoFocus})}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"renderMultiline",function(){if(!n.editing){var e=(n.props.value||n.props.placeholder).split("\n").map(function(e,t){return v.a.createElement("p",{key:t},e)}),t=["multiline",n.props.value?"":"placeholder"].join(" ").trim();return v.a.createElement("div",{className:t,onClick:n.handleToggleEditing},e)}return v.a.createElement("textarea",{disabled:n.props.readOnly,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,rows:n.props.value.split("\n").length,value:n.props.value})}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"renderNumber",function(){return n.editing?v.a.createElement("input",{type:"number",disabled:n.props.readOnly,max:n.props.max,min:n.props.min,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,step:n.props.step,value:n.props.value}):n.renderStatic()}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"renderSlider",function(){return v.a.createElement("input",{type:"range",disabled:n.props.readOnly,max:n.props.max,min:n.props.min,onBlur:n.handleToggleEditing,onChange:n.handleChange,onKeyDown:n.props.onKeyDown,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,ref:n.createRefWithAutoFocus,step:n.props.step,value:n.props.value})}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"renderText",function(){return n.editing?v.a.createElement("input",{type:"text",disabled:n.props.readOnly,onBlur:n.handleToggleEditing,onChange:n.handleChange,onFocus:n.selectOnFocus,onKeyDown:n.handleKeys,onKeyPress:n.props.onKeyPress,onKeyUp:n.props.onKeyUp,placeholder:n.props.placeholder,ref:n.createRefWithAutoFocus,value:n.props.value}):n.renderStatic()}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"renderStatic",function(){var e=n.props,t=e.placeholder,o=e.readOnlyValue,i=e.requireDoubleClick,a=e.value,s=t&&!a,u=void 0!==o?o:a,c=s?"placeholder":"",l={};return i||(l.onClick=n.handleToggleEditing),v.a.createElement("span",Object(r.a)({className:c},l),s?t:u)}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"renderEditor",function(){switch(n.getEditorType()){case"boolean":return n.renderBoolean();case"slider":return n.renderSlider();case"multiline":return n.renderMultiline();case"number":return n.renderNumber();default:return n.renderText()}}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"render",function(){var e=n.props,t=e.className,o=e.readOnly,i=e.requireDoubleClick,a=["editable",n.editing?"editing":"",t||"",o?"readonly":""].filter(Boolean),s={};return o||n.editing||(i?s.onDoubleClick=n.handleToggleEditing:(s.tabIndex="0",s.onFocus=n.handleReceivingFocus)),v.a.createElement("div",Object(r.a)({className:a.join(" ")},s),n.renderEditor())}),n}return Object(h.default)(t,e),Object(l.default)(t,[{key:"editing",get:function(){return this.props.forceEditMode||this.state.editing}}]),t}(y.Component);Object(m.a)(x,"displayName","Editable"),Object(m.a)(x,"defaultProps",{className:"",forceEditMode:!1,max:void 0,min:void 0,onChange:b.a,onEditEnd:b.a,onEditStart:b.a,onKeyDown:b.a,onKeyPress:b.a,onKeyUp:b.a,placeholder:"",readOnly:!1,readOnlyValue:void 0,requireDoubleClick:!1,step:1,type:void 0,value:""})},KayU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.renderViewDefault=function(e){return a.default.createElement("div",e)},t.renderTrackHorizontalDefault=function(e){var t=e.style,n=s(e,["style"]),o=r({},t,{right:2,bottom:2,left:2,borderRadius:3});return a.default.createElement("div",r({style:o},n))},t.renderTrackVerticalDefault=function(e){var t=e.style,n=s(e,["style"]),o=r({},t,{right:2,bottom:2,top:2,borderRadius:3});return a.default.createElement("div",r({style:o},n))},t.renderThumbHorizontalDefault=function(e){var t=e.style,n=s(e,["style"]),o=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return a.default.createElement("div",r({style:o},n))},t.renderThumbVerticalDefault=function(e){var t=e.style,n=s(e,["style"]),o=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return a.default.createElement("div",r({style:o},n))};var o,i=n("mXGw"),a=(o=i)&&o.__esModule?o:{default:o};function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},KsCW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("rQBY"),a=v(i),s=v(n("DWtB")),u=n("mXGw"),c=v(n("aFow")),l=v(n("AtKN")),p=v(n("+jVS")),f=v(n("jnwu")),h=v(n("BOV2")),d=v(n("kkHL")),m=n("rHeA"),y=n("KayU");function v(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(o)));return a.getScrollLeft=a.getScrollLeft.bind(a),a.getScrollTop=a.getScrollTop.bind(a),a.getScrollWidth=a.getScrollWidth.bind(a),a.getScrollHeight=a.getScrollHeight.bind(a),a.getClientWidth=a.getClientWidth.bind(a),a.getClientHeight=a.getClientHeight.bind(a),a.getValues=a.getValues.bind(a),a.getThumbHorizontalWidth=a.getThumbHorizontalWidth.bind(a),a.getThumbVerticalHeight=a.getThumbVerticalHeight.bind(a),a.getScrollLeftForOffset=a.getScrollLeftForOffset.bind(a),a.getScrollTopForOffset=a.getScrollTopForOffset.bind(a),a.scrollLeft=a.scrollLeft.bind(a),a.scrollTop=a.scrollTop.bind(a),a.scrollToLeft=a.scrollToLeft.bind(a),a.scrollToTop=a.scrollToTop.bind(a),a.scrollToRight=a.scrollToRight.bind(a),a.scrollToBottom=a.scrollToBottom.bind(a),a.handleTrackMouseEnter=a.handleTrackMouseEnter.bind(a),a.handleTrackMouseLeave=a.handleTrackMouseLeave.bind(a),a.handleHorizontalTrackMouseDown=a.handleHorizontalTrackMouseDown.bind(a),a.handleVerticalTrackMouseDown=a.handleVerticalTrackMouseDown.bind(a),a.handleHorizontalThumbMouseDown=a.handleHorizontalThumbMouseDown.bind(a),a.handleVerticalThumbMouseDown=a.handleVerticalThumbMouseDown.bind(a),a.handleWindowResize=a.handleWindowResize.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleDrag=a.handleDrag.bind(a),a.handleDragEnd=a.handleDragEnd.bind(a),a.state={didMountUniversal:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),o(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,i.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,o=void 0===r?0:r,i=e.scrollWidth,a=void 0===i?0:i,s=e.scrollHeight,u=void 0===s?0:s,c=e.clientWidth,l=void 0===c?0:c,p=e.clientHeight,f=void 0===p?0:p;return{left:n/(a-l)||0,top:o/(u-f)||0,scrollLeft:n,scrollTop:o,scrollWidth:a,scrollHeight:u,clientWidth:l,clientHeight:f}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,o=r.scrollWidth,i=r.clientWidth,a=(0,h.default)(this.trackHorizontal),s=Math.ceil(i/o*a);return a===s?0:t||Math.max(s,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,o=r.scrollHeight,i=r.clientHeight,a=(0,d.default)(this.trackVertical),s=Math.ceil(i/o*a);return a===s?0:t||Math.max(s,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,r=t.clientWidth;return e/((0,h.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-r)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,r=t.clientHeight;return e/((0,d.default)(this.trackVertical)-this.getThumbVerticalHeight())*(n-r)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,o=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,p.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),r.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),o.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,o=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,p.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),r.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),o.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,r=n.onScroll,o=n.onScrollFrame;r&&r(e),this.update(function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,o&&o(e)}),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,r=t.getBoundingClientRect().left,o=this.getThumbHorizontalWidth(),i=Math.abs(r-n)-o/2;this.view.scrollLeft=this.getScrollLeftForOffset(i)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,r=t.getBoundingClientRect().top,o=this.getThumbVerticalHeight(),i=Math.abs(r-n)-o/2;this.view.scrollTop=this.getScrollTopForOffset(i)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,o=t.getBoundingClientRect().left;this.prevPageX=r-(n-o)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,o=t.getBoundingClientRect().top;this.prevPageY=r-(n-o)}},{key:"setupDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=f.default}},{key:"teardownDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var r=e.clientY,o=-this.trackVertical.getBoundingClientRect().top+r-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(o)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout(function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})},t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval(function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop},100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&a.default.cancel(this.requestFrame),this.requestFrame=(0,a.default)(function(){t.requestFrame=void 0,e()})}},{key:"update",value:function(e){var t=this;this.raf(function(){return t._update(e)})}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,r=t.hideTracksWhenNotNeeded,o=this.getValues();if((0,p.default)()){var i=o.scrollLeft,a=o.clientWidth,u=o.scrollWidth,c=(0,h.default)(this.trackHorizontal),l=this.getThumbHorizontalWidth(),f={width:l,transform:"translateX("+i/(u-a)*(c-l)+"px)"},m=o.scrollTop,y=o.clientHeight,v=o.scrollHeight,g=(0,d.default)(this.trackVertical),b=this.getThumbVerticalHeight(),w={height:b,transform:"translateY("+m/(v-y)*(g-b)+"px)"};if(r){var x={visibility:u>a?"visible":"hidden"},S={visibility:v>y?"visible":"hidden"};(0,s.default)(this.trackHorizontal,x),(0,s.default)(this.trackVertical,S)}(0,s.default)(this.thumbHorizontal,f),(0,s.default)(this.thumbVertical,w)}n&&n(o),"function"==typeof e&&e(o)}},{key:"render",value:function(){var e=this,t=(0,p.default)(),n=this.props,o=(n.onScroll,n.onScrollFrame,n.onScrollStart,n.onScrollStop,n.onUpdate,n.renderView),i=n.renderTrackHorizontal,a=n.renderTrackVertical,s=n.renderThumbHorizontal,c=n.renderThumbVertical,f=n.tagName,h=(n.hideTracksWhenNotNeeded,n.autoHide),d=(n.autoHideTimeout,n.autoHideDuration),y=(n.thumbSize,n.thumbMinSize,n.universal),v=n.autoHeight,g=n.autoHeightMin,b=n.autoHeightMax,w=n.style,x=n.children,S=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),E=this.state.didMountUniversal,O=r({},m.containerStyleDefault,v&&r({},m.containerStyleAutoHeight,{minHeight:g,maxHeight:b}),w),N=r({},m.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},v&&r({},m.viewStyleAutoHeight,{minHeight:(0,l.default)(g)?"calc("+g+" + "+t+"px)":g+t,maxHeight:(0,l.default)(b)?"calc("+b+" + "+t+"px)":b+t}),v&&y&&!E&&{minHeight:g,maxHeight:b},y&&!E&&m.viewStyleUniversalInitial),T={transition:"opacity "+d+"ms",opacity:0},A=r({},m.trackHorizontalStyleDefault,h&&T,(!t||y&&!E)&&{display:"none"}),_=r({},m.trackVerticalStyleDefault,h&&T,(!t||y&&!E)&&{display:"none"});return(0,u.createElement)(f,r({},S,{style:O,ref:function(t){e.container=t}}),[(0,u.cloneElement)(o({style:N}),{key:"view",ref:function(t){e.view=t}},x),(0,u.cloneElement)(i({style:A}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,u.cloneElement)(s({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,u.cloneElement)(a({style:_}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,u.cloneElement)(c({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}();t.default=g,g.propTypes={onScroll:c.default.func,onScrollFrame:c.default.func,onScrollStart:c.default.func,onScrollStop:c.default.func,onUpdate:c.default.func,renderView:c.default.func,renderTrackHorizontal:c.default.func,renderTrackVertical:c.default.func,renderThumbHorizontal:c.default.func,renderThumbVertical:c.default.func,tagName:c.default.string,thumbSize:c.default.number,thumbMinSize:c.default.number,hideTracksWhenNotNeeded:c.default.bool,autoHide:c.default.bool,autoHideTimeout:c.default.number,autoHideDuration:c.default.number,autoHeight:c.default.bool,autoHeightMin:c.default.oneOfType([c.default.number,c.default.string]),autoHeightMax:c.default.oneOfType([c.default.number,c.default.string]),universal:c.default.bool,style:c.default.object,children:c.default.node},g.defaultProps={renderView:y.renderViewDefault,renderTrackHorizontal:y.renderTrackHorizontalDefault,renderTrackVertical:y.renderTrackVerticalDefault,renderThumbHorizontal:y.renderThumbHorizontalDefault,renderThumbVertical:y.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},M5cM:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},NBqq:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n("ooxR"),i="warn";function a(e){i=e}function s(){return i}!function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"}(r||(r={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function c(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function p(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function f(e){return Q(e).type}function h(e,t){return Q(e).onPatch(t)}function d(e,t){Q(e).applyPatches(de(t))}function m(e,t){return Q(e).applySnapshot(t)}function y(e){return Q(e).root.storedValue}function v(e){return Q(e).identifier}function g(e,t){var n=re(Q(e),t,!1);if(void 0!==n)try{return n.value}catch(r){return}}function b(e){return Q(e).observableIsAlive}function w(e){var t;return{name:(t=Z(e)?f(e):e).name,properties:l({},t.properties)}}var x,S=function(){function e(e,t,n,r){this._state=q.INITIALIZING,this.hookSubscribers=new xe,this.environment=void 0,this.environment=r,this.type=e,this.baseSetParent(t,n)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var n=this.isAlive;this.aliveAtom&&t!==n&&this.aliveAtom.reportChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),e.prototype.baseSetParent=function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()},Object.defineProperty(e.prototype,"path",{get:function(){return this.pathAtom||(this.pathAtom=o.createAtom("path")),this.pathAtom.reportObserved(),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?Ce(this._subpath):""),this.parent.path+"/"+this._escapedSubpath):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!0,configurable:!0}),e.prototype.fireInternalHook=function(e){this.hookSubscribers.emit(e,this,e)},Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==q.DEAD},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=o.createAtom("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!0,configurable:!0}),e.prototype.baseFinalizeCreation=function(e){if(this.state===q.CREATED){if(this.parent){if(this.parent.state!==q.FINALIZED)return;this.fireHook(r.afterAttach)}this.state=q.FINALIZED,e&&e()}},e.prototype.baseFinalizeDeath=function(){this.hookSubscribers.clearAll(),this.baseSetParent(null,""),this.state=q.DEAD},e.prototype.baseAboutToDie=function(){this.fireHook(r.beforeDestroy)},e}(),E=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;try{a.storedValue=t.createNewInstance(a,{},i)}catch(s){throw a.state=q.DEAD,s}return a.state=q.CREATED,a.finalizeCreation(),a}return c(t,e),Object.defineProperty(t.prototype,"root",{get:function(){return this.parent?this.parent.root:le("This scalar node is not part of a tree")},enumerable:!0,configurable:!0}),t.prototype.setParent=function(e,t){if(void 0===t&&(t=null),this.parent!==e||this.subpath!==t)if(this.parent&&!e)this.die();else{var n=null===t?"":t;e&&e!==this.parent?le("assertion failed: scalar nodes cannot change their parent"):this.subpath!==n&&this.baseSetParent(this.parent,n)}},Object.defineProperty(t.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return ge(this.getSnapshot())},enumerable:!0,configurable:!0}),t.prototype.getSnapshot=function(){return this.type.getSnapshot(this)},t.prototype.toString=function(){return this.type.name+"@"+(this.path||"<root>")+(this.isAlive?"":"[dead]")},t.prototype.die=function(){this.state!==q.DETACHING&&(this.aboutToDie(),this.finalizeDeath())},t.prototype.finalizeCreation=function(){this.baseFinalizeCreation()},t.prototype.aboutToDie=function(){this.baseAboutToDie()},t.prototype.finalizeDeath=function(){this.baseFinalizeDeath()},t.prototype.fireHook=function(e){this.fireInternalHook(e)},p([o.action],t.prototype,"die",null),t}(S),O=1,N={onError:function(e){throw e}},T=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;if(a.nodeId=++O,a.isProtectionEnabled=!0,a.middlewares=null,a._autoUnbox=!0,a._isRunningAction=!1,a._hasSnapshotReaction=!1,a._internalEvents=new xe,a._observableInstanceState=0,a._cachedInitialSnapshot=null,a.unbox=function(e){return e&&a.assertAlive(),e&&a._autoUnbox?e.value:e},a._initialSnapshot=ge(i),a.identifierAttribute=t.identifierAttribute,n||(a.identifierCache=new Y),a._childNodes=t.initializeChildNodes(a,a._initialSnapshot),a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var s=a._initialSnapshot[a.identifierAttribute];if(void 0===s){var u=a._childNodes[a.identifierAttribute];u&&(s=u.value)}"string"!=typeof s&&"number"!=typeof s&&le("Instance identifier '"+a.identifierAttribute+"' for type '"+a.type.name+"' must be a string or a number"),a.identifier=Nt(s),a.unnormalizedIdentifier=s}return n?n.root.identifierCache.addNodeToCache(a):a.identifierCache.addNodeToCache(a),a}return c(t,e),t.prototype.applyPatches=function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)},t.prototype.applySnapshot=function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)},t.prototype.createObservableInstanceIfNeeded=function(){if(0===this._observableInstanceState){this._observableInstanceState=1;for(var e=[],t=this.parent;t&&0===t._observableInstanceState;)e.unshift(t),t=t.parent;for(var n=0,i=e;n<i.length;n++){i[n].createObservableInstanceIfNeeded()}var a,s,u=this.type;try{this.storedValue=u.createNewInstance(this,this._childNodes,this._initialSnapshot),this.preboot(),this._isRunningAction=!0,u.finalizeNewInstance(this,this.storedValue)}catch(c){throw this.state=q.DEAD,c}finally{this._isRunningAction=!1}this._observableInstanceState=2,a=this,s="snapshot",o.getAtom(a,s).trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=ue,this.state=q.CREATED,this.fireHook(r.afterCreate),this.finalizeCreation()}},Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!0,configurable:!0}),t.prototype.setParent=function(e,t){if(void 0===t&&(t=null),this.parent!==e||this.subpath!==t)if(this.parent&&!e)this.die();else{var n=null===t?"":t;e&&e!==this.parent?(e.root.identifierCache.mergeCache(this),this.baseSetParent(e,n),this.fireHook(r.afterAttach)):this.subpath!==n&&this.baseSetParent(this.parent,n)}},t.prototype.fireHook=function(e){var t=this;this.fireInternalHook(e);var n=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof n&&(o._allowStateChangesInsideComputed?o._allowStateChangesInsideComputed(function(){n.apply(t.storedValue)}):n.apply(this.storedValue))},Object.defineProperty(t.prototype,"value",{get:function(){if(this.createObservableInstanceIfNeeded(),this.isAlive)return this.type.getValue(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return ge(this.getSnapshot())},enumerable:!0,configurable:!0}),t.prototype.getSnapshot=function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getInitialSnapshot():this._snapshotUponDeath},t.prototype._getActualSnapshot=function(){return this.type.getSnapshot(this)},t.prototype._getInitialSnapshot=function(){if(!this._initialSnapshot)return this._initialSnapshot;if(this._cachedInitialSnapshot)return this._cachedInitialSnapshot;var e=this.type,t=this._childNodes,n=this._initialSnapshot;return this._cachedInitialSnapshot=e.processInitialSnapshot(t,n),this._cachedInitialSnapshot},t.prototype.isRunningAction=function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()},t.prototype.assertAlive=function(){if(!this.isAlive){var e="You are trying to read or write to an object that is no longer part of a state tree. (Object type was '"+this.type.name+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree.";switch(s()){case"error":return le(e);case"warn":Ne(e)}}},t.prototype.getChildNode=function(e){this.assertAlive(),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}},t.prototype.getChildren=function(){this.assertAlive(),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):ie(this._childNodes)}finally{this._autoUnbox=!0}},t.prototype.getChildType=function(e){return this.type.getChildType(e)},Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!0,configurable:!0}),t.prototype.assertWritable=function(){this.assertAlive(),!this.isRunningAction()&&this.isProtected&&le("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")},t.prototype.removeChild=function(e){this.type.removeChild(this,e)},t.prototype.toString=function(){var e=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+(this.path||"<root>")+e+(this.isAlive?"":"[dead]")},t.prototype.finalizeCreation=function(){var e=this;this.baseFinalizeCreation(function(){for(var t=0,n=e.getChildren();t<n.length;t++){n[t].finalizeCreation()}e.fireInternalHook(r.afterCreationFinalization)})},t.prototype.detach=function(){this.isAlive||le("Error while detaching, node is not alive."),this.isRoot||(this.fireHook(r.beforeDetach),this.state=q.DETACHING,this.environment=this.root.environment,this.identifierCache=this.root.identifierCache.splitCache(this),this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.state=q.FINALIZED)},t.prototype.preboot=function(){var e=this;this._applyPatches=V(this.storedValue,"@APPLY_PATCHES",function(t){t.forEach(function(t){var n=ke(t.path);oe(e,n.slice(0,-1)).applyPatchLocally(n[n.length-1],t)})}),this._applySnapshot=V(this.storedValue,"@APPLY_SNAPSHOT",function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)}),be(this.storedValue,"$treenode",this),be(this.storedValue,"toJSON",ee)},t.prototype.die=function(){this.state!==q.DETACHING&&(2===this._observableInstanceState?(this.aboutToDie(),this.finalizeDeath()):this.unregisterIdentifiers())},t.prototype.aboutToDie=function(){this.getChildren().forEach(function(e){e.aboutToDie()}),this.baseAboutToDie(),this._internalEvents.emit("dispose"),this._internalEvents.clear("dispose")},t.prototype.unregisterIdentifiers=function(){var e=this;Object.keys(this._childNodes).forEach(function(n){var r=e._childNodes[n];r instanceof t&&r.unregisterIdentifiers()}),this.root.identifierCache.notifyDied(this)},t.prototype.finalizeDeath=function(){this.getChildren().forEach(function(e){e.finalizeDeath()}),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEvents.clearAll(),this.baseFinalizeDeath()},t.prototype.onSnapshot=function(e){return this._addSnapshotReaction(),this._internalEvents.register("snapshot",e)},t.prototype.emitSnapshot=function(e){this._internalEvents.emit("snapshot",e)},t.prototype.onPatch=function(e){return this._internalEvents.register("patch",e)},t.prototype.emitPatch=function(e,t){var n=this._internalEvents;if(n.hasSubscribers("patch")){var r=function(e){"oldValue"in e||le("Patches without `oldValue` field cannot be inversed");return[Ae(e),_e(e)]}(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var i in o)e[i]=o[i]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path})),o=r[0],i=r[1];n.emit("patch",o,i)}this.parent&&this.parent.emitPatch(e,t)},t.prototype.hasDisposer=function(e){return this._internalEvents.has("dispose",e)},t.prototype.addDisposer=function(e){this.hasDisposer(e)?le("cannot add a disposer when it is already registered for execution"):this._internalEvents.register("dispose",e,!0)},t.prototype.removeDisposer=function(e){if(!this._internalEvents.has("dispose",e))return le("cannot remove a disposer which was never registered for execution");this._internalEvents.unregister("dispose",e)},t.prototype.removeMiddleware=function(e){this.middlewares&&(this.middlewares=this.middlewares.filter(function(t){return t.handler!==e}))},t.prototype.addMiddleWare=function(e,t){var n=this;return void 0===t&&(t=!0),this.middlewares?this.middlewares.push({handler:e,includeHooks:t}):this.middlewares=[{handler:e,includeHooks:t}],function(){n.removeMiddleware(e)}},t.prototype.applyPatchLocally=function(e,t){this.assertWritable(),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)},t.prototype._addSnapshotReaction=function(){var e=this;if(!this._hasSnapshotReaction){var t=o.reaction(function(){return e.snapshot},function(t){return e.emitSnapshot(t)},N);this.addDisposer(t),this._hasSnapshotReaction=!0}},p([o.action],t.prototype,"createObservableInstanceIfNeeded",null),p([o.computed],t.prototype,"snapshot",null),p([o.action],t.prototype,"detach",null),p([o.action],t.prototype,"die",null),t}(S);!function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer"}(x||(x={}));var A=function(){function e(e){this.isType=!0,this.name=e}return e.prototype.create=function(e,t){return void 0===e&&(e=this.getDefaultSnapshot()),X(this,e),this.instantiate(null,"",t,e).value},e.prototype.initializeChildNodes=function(e,t){return ue},e.prototype.createNewInstance=function(e,t,n){return n},e.prototype.finalizeNewInstance=function(e,t){},e.prototype.processInitialSnapshot=function(e,t){return t},e.prototype.isAssignableFrom=function(e){return e===this},e.prototype.validate=function(e,t){return Z(e)?f(e)===this||this.isAssignableFrom(f(e))?U():W(t,e):this.isValidSnapshot(e,t)},e.prototype.is=function(e){return 0===this.validate(e,[{path:"",type:this}]).length},e.prototype.reconcile=function(e,t){if(e.snapshot===t)return e;if(Z(t)&&Q(t)===e)return e;if(e.type===this&&ye(t)&&!Z(t)&&(!e.identifierAttribute||e.identifier===Nt(t[e.identifierAttribute])))return e.applySnapshot(t),e;var n=e.parent,r=e.subpath;if(e.die(),Z(t)&&this.isAssignableFrom(f(t))){var o=Q(t);return o.setParent(n,r),o}return this.instantiate(n,r,e.environment,t)},Object.defineProperty(e.prototype,"Type",{get:function(){return le("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){return le("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){return le("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!0,configurable:!0}),p([o.action],e.prototype,"create",null),e}(),_=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.getValue=function(e){return e.storedValue},t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.getDefaultSnapshot=function(){},t.prototype.applySnapshot=function(e,t){le("Immutable types do not support applying snapshots")},t.prototype.applyPatchLocally=function(e,t,n){le("Immutable types do not support applying patches")},t.prototype.getChildren=function(e){return se},t.prototype.getChildNode=function(e,t){return le("No child '"+t+"' available in type: "+this.name)},t.prototype.getChildType=function(e){return le("No child '"+e+"' available in type: "+this.name)},t.prototype.reconcile=function(e,t){if(e.type===this&&e.storedValue===t)return e;var n=this.instantiate(e.parent,e.subpath,e.environment,t);return e.die(),n},t.prototype.removeChild=function(e,t){return le("No child '"+t+"' available in type: "+this.name)},t}(A);function C(e){return"object"==typeof e&&e&&!0===e.isType}var j=new Map;function M(e){return{$MST_UNSERIALIZABLE:!0,type:e}}function k(e,t){o.runInAction(function(){de(t).forEach(function(t){return function(e,t){var n=g(e,t.path||"");if(!n)return le("Invalid action path: "+(t.path||""));var r=Q(n);if("@APPLY_PATCHES"===t.name)return d.call(null,n,t.args[0]);if("@APPLY_SNAPSHOT"===t.name)return m.call(null,n,t.args[0]);"function"!=typeof n[t.name]&&le("Action '"+t.name+"' does not exist in '"+r.path+"'");return n[t.name].apply(n,t.args?t.args.map(function(e){return(t=e)&&"object"==typeof t&&"$MST_DATE"in t?new Date(t.$MST_DATE):t;var t}):[])}(e,t)})})}function D(e,t,n){return void 0===n&&(n=!1),B(e,function(r,o){if("action"===r.type&&r.id===r.rootId){var i=Q(r.context),a={name:r.name,path:ne(Q(e),i),args:r.args.map(function(e,t){return function(e,t,n,r){if(r instanceof Date)return{$MST_DATE:r.getTime()};if(ve(r))return r;if(Z(r))return M("[MSTNode: "+f(r).name+"]");if("function"==typeof r)return M("[function]");if("object"==typeof r&&!me(r)&&!he(r))return M("[object "+(r&&r.constructor&&r.constructor.name||"Complex Object")+"]");try{return JSON.stringify(r),r}catch(o){return M(""+o)}}(0,r.name,0,e)})};if(n){var s=o(r);return t(a),s}return t(a),o(r)}return o(r)})}var P=1,I=null;function R(){return P++}function z(e,t){var n=Q(e.context),i=n._isRunningAction,a=I;"action"===e.type&&n.assertAlive(),n._isRunningAction=!0,I=e;try{return function(e,t,n){var i=function(e,t,n){var r=n.$mst_middleware||se,o=e;for(;o;)o.middlewares&&(r=r.concat(o.middlewares)),o=o.parent;return r}(e,0,n);if(!i.length)return o.action(n).apply(null,t.args);var a=0,s=null;return function e(t){var u=i[a++];var c=u&&u.handler;function l(t,n){!0,s=n?n(e(t)||s):e(t)}function p(e){!0,s=e}var f=function(){return c(t,l,p),s};return c&&u.includeHooks?f():c&&!u.includeHooks?r[t.name]?e(t):f():o.action(n).apply(null,t.args)}(t)}(n,e,t)}finally{I=a,n._isRunningAction=i}}function V(e,t,n){var r=function(){var r=R();return z({type:"action",name:t,id:r,args:Se(arguments),context:e,tree:y(e),rootId:I?I.rootId:r,parentId:I?I.id:0,allParentIds:I?I.allParentIds.concat([I.id]):[]},n)};return r._isMSTAction=!0,r}function B(e,t,n){return void 0===n&&(n=!0),Q(e).addMiddleWare(t,n)}function F(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":Z(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(t){return"<Unserializable: "+t+">"}}(e)+"`"}function L(e){var t=e.value,n=e.context[e.context.length-1].type,r=e.context.map(function(e){return e.path}).filter(function(e){return e.length>0}).join("/"),o=r.length>0?'at path "/'+r+'" ':"",i=Z(t)?"value of type "+Q(t).type.name+":":ve(t)?"value":"snapshot",a=n&&Z(t)&&n.is(Q(t).snapshot);return""+o+i+" "+F(t)+" is not assignable "+(n?"to type: `"+n.name+"`":"")+(e.message?" ("+e.message+")":"")+(n?tt(n)||ve(t)?".":", expected an instance of `"+n.name+"` or a snapshot like `"+n.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function H(e,t,n){return e.concat([{path:t,type:n}])}function U(){return se}function W(e,t,n){return[{context:e,value:t,message:n}]}function K(e){return e.reduce(function(e,t){return e.concat(t)},[])}function X(e,t){}function J(e,t){var n,r=e.validate(t,[{path:"",type:e}]);r.length>0&&le("Error while converting "+((n=F(t)).length<280?n:n.substring(0,272)+"......"+n.substring(n.length-8))+" to `"+e.name+"`:\n\n    "+r.map(L).join("\n    "))}var q,$=0,Y=function(){function e(){this.cacheId=$++,this.cache=o.observable.map(),this.lastCacheModificationPerId=o.observable.map()}return e.prototype.updateLastCacheModificationPerId=function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)},e.prototype.getLastCacheModificationPerId=function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t},e.prototype.addNodeToCache=function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var n=e.identifier;this.cache.has(n)||this.cache.set(n,o.observable.array([],ce));var r=this.cache.get(n);-1!==r.indexOf(e)&&le("Already registered"),r.push(e),t&&this.updateLastCacheModificationPerId(n)}},e.prototype.mergeCache=function(e){var t=this;o.values(e.identifierCache.cache).forEach(function(e){return e.forEach(function(e){t.addNodeToCache(e)})})},e.prototype.notifyDied=function(e){if(e.identifierAttribute){var t=e.identifier,n=this.cache.get(t);n&&(n.remove(e),n.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}},e.prototype.splitCache=function(t){var n=this,r=new e,i=t.path;return o.entries(this.cache).forEach(function(e){for(var t=e[0],o=e[1],a=!1,s=o.length-1;s>=0;s--)0===o[s].path.indexOf(i)&&(r.addNodeToCache(o[s],!1),o.splice(s,1),a=!0);a&&n.updateLastCacheModificationPerId(t)}),r},e.prototype.has=function(e,t){var n=this.cache.get(t);return!!n&&n.some(function(t){return e.isAssignableFrom(t.type)})},e.prototype.resolve=function(e,t){var n=this.cache.get(t);if(!n)return null;var r=n.filter(function(t){return e.isAssignableFrom(t.type)});switch(r.length){case 0:return null;case 1:return r[0];default:return le("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+r.map(function(e){return e.path}).join(", "))}},e}();function G(e,t,n,r,o){var i,a=(i=o)&&i.$treenode||null;if(a){if(a.isRoot)return a.setParent(t,n),a;le("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+n+"', but it lives already at '"+a.path+"'")}return new(e.shouldAttachNode?T:E)(e,t,n,r,o)}function Z(e){return!(!e||!e.$treenode)}function Q(e){return Z(e)?e.$treenode:le("Value "+e+" is no MST Node")}function ee(){return Q(this).snapshot}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"}(q||(q={}));var te=function(e){return".."};function ne(e,t){if(e.root!==t.root)return le("Cannot calculate relative path: objects '"+e+"' and '"+t+"' are not part of the same object tree");for(var n=ke(e.path),r=ke(t.path),o=0;o<n.length&&n[o]===r[o];o++);return n.slice(o).map(te).join("/")+Me(r.slice(o))}function re(e,t,n){return void 0===n&&(n=!0),oe(e,ke(t),n)}function oe(e,t,n){void 0===n&&(n=!0);for(var r=e,o=0;o<t.length;o++){var i=t[o];if(".."===i){if(r=r.parent)continue}else{if("."===i)continue;if(r){if(r instanceof E)try{var a=r.value;Z(a)&&(r=Q(a))}catch(s){if(!n)return;throw s}if(r instanceof T)if(r.getChildType(i)&&(r=r.getChildNode(i)))continue}}return n?le("Could not resolve '"+i+"' in path '"+(Me(t.slice(0,o))||"/")+"' while resolving '"+Me(t)+"'"):void 0}return r}function ie(e){if(!e)return se;var t=Object.keys(e);if(!t.length)return se;var n=new Array(t.length);return t.forEach(function(t,r){n[r]=e[t]}),n}var ae="See https://github.com/mobxjs/mobx-state-tree/issues/399 for more information. Note that the middleware event types starting with `process` now start with `flow`.";var se=Object.freeze([]),ue=Object.freeze({}),ce="string"==typeof o.$mobx?{deep:!1}:{deep:!1,proxy:!1};function le(e){throw void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function pe(e){return e}Object.freeze(ce);var fe=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function he(e){return!(!Array.isArray(e)&&!o.isObservableArray(e))}function de(e){return e?he(e)?e:[e]:se}function me(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function ye(e){return!(null===e||"object"!=typeof e||e instanceof Date||e instanceof RegExp)}function ve(e){return null==e||("string"==typeof e||"number"==typeof e||"boolean"==typeof e||e instanceof Date)}function ge(e){return e}function be(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}var we=function(){function e(){this.handlers=[]}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){n.unregister(e)}},e.prototype.has=function(e){return this.handlers.indexOf(e)>=0},e.prototype.unregister=function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)},e.prototype.clear=function(){this.handlers.length=0},e.prototype.emit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.slice().forEach(function(t){return t.apply(void 0,e)})},e}(),xe=function(){function e(){}return e.prototype.hasSubscribers=function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers},e.prototype.register=function(e,t,n){void 0===n&&(n=!1),this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[e];return r||(r=this.eventHandlers[e]=new we),r.register(t,n)},e.prototype.has=function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];return!!n&&n.has(t)},e.prototype.unregister=function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];n&&n.unregister(t)},e.prototype.clear=function(e){this.eventHandlers&&delete this.eventHandlers[e]},e.prototype.clearAll=function(){this.eventHandlers=void 0},e.prototype.emit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.eventHandlers&&this.eventHandlers[e];o&&(t=o).emit.apply(t,n)},e}();function Se(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function Ee(e,t){return 0===e.indexOf(t)}var Oe=function(e,t){};function Ne(e){console.warn(new Error("[mobx-state-tree] "+e))}function Te(t){return function(t,n){var r=function(){var o=R(),i=I||le("Not running an action!"),a=arguments;function s(e,n,a){e.$mst_middleware=r.$mst_middleware,z({name:t,type:n,id:o,args:[a],tree:i.tree,context:i.context,parentId:i.id,allParentIds:i.allParentIds.concat([i.id]),rootId:i.rootId},e)}return new Promise(function(u,c){var l,p=function(){l=n.apply(null,arguments),f(void 0)};function f(t){var n;try{s(function(e){n=l.next(e)},"flow_resume",t)}catch(r){return void e(function(){s(function(e){c(r)},"flow_throw",r)})}d(n)}function h(t){var n;try{s(function(e){n=l.throw(e)},"flow_resume_error",t)}catch(r){return void e(function(){s(function(e){c(r)},"flow_throw",r)})}d(n)}function d(t){if(!t.done)return t.value&&"function"==typeof t.value.then||le("Only promises can be yielded to `async`, got: "+t),t.value.then(f,h);e(function(){s(function(e){u(e)},"flow_return",t.value)})}p.$mst_middleware=r.$mst_middleware,z({name:t,type:"flow_spawn",id:o,args:Se(a),tree:i.tree,context:i.context,parentId:i.id,allParentIds:i.allParentIds.concat([i.id]),rootId:i.rootId},p)})};return r}(t.name,t)}function Ae(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function _e(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function Ce(e){return!0==("number"==typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function je(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Me(e){if(0===e.length)return"";var t=function(e){return e.map(Ce).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}function ke(e){var t=e.split("/").map(je);return""===e||"."===e||".."===e||Ee(e,"/")||Ee(e,"./")||Ee(e,"../")?(""===t[0]&&t.shift(),t):le("a json path must be either rooted, empty or relative, but got '"+e+"'")}Oe.ids={};var De,Pe="Map.put can only be used to store complex values that have an identifier type attribute";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}(De||(De={}));var Ie=function(e){function t(t){return e.call(this,t,o.observable.ref.enhancer)||this}return c(t,e),t.prototype.get=function(t){return e.prototype.get.call(this,""+t)},t.prototype.has=function(t){return e.prototype.has.call(this,""+t)},t.prototype.delete=function(t){return e.prototype.delete.call(this,""+t)},t.prototype.set=function(t,n){return e.prototype.set.call(this,""+t,n)},t.prototype.put=function(e){if(e||le("Map.put cannot be used to set empty values"),Z(e)){var t=Q(e);0;var n=t.identifier;return this.set(n,t.value),t.value}if(ye(e)){n=void 0;var r=Q(this).type;return r.identifierMode===De.NO?le(Pe):r.identifierMode===De.YES?(n=Nt(e[r.mapIdentifierAttribute]),this.set(n,e),this.get(n)):le(Pe)}return le("Map.put can only be used to store complex values")},t}(o.ObservableMap),Re=function(e){function t(t,n){var r=e.call(this,t)||this;return r.shouldAttachNode=!0,r.identifierMode=De.UNKNOWN,r.mapIdentifierAttribute=void 0,r.flags=x.Map,r.subType=n,r._determineIdentifierMode(),r}return c(t,e),t.prototype.instantiate=function(e,t,n,r){return this.identifierMode===De.UNKNOWN&&this._determineIdentifierMode(),G(this,e,t,n,r)},t.prototype._determineIdentifierMode=function(){var e=[];if(function e(t,n){if(t instanceof We)n.push(t);else if(t instanceof st){if(!e(t.type,n))return!1}else if(t instanceof it){for(var r=0;r<t.types.length;r++)if(!e(t.types[r],n))return!1}else if(t instanceof ft){var o=t.getSubType(!1);if(!o)return!1;e(o,n)}return!0}(this.subType,e)){var t=void 0;e.forEach(function(e){e.identifierAttribute&&(t&&t!==e.identifierAttribute&&le("The objects in a map should all have the same identifier attribute, expected '"+t+"', but child of type '"+e.name+"' declared attribute '"+e.identifierAttribute+"' as identifier"),t=e.identifierAttribute)}),t?(this.identifierMode=De.YES,this.mapIdentifierAttribute=t):this.identifierMode=De.NO}},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t={});var n=e.type.subType,r=e.environment,o={};return Object.keys(t).forEach(function(i){o[i]=n.instantiate(e,i,r,t[i])}),o},t.prototype.createNewInstance=function(e,t,n){return new Ie(t)},t.prototype.finalizeNewInstance=function(e,t){o._interceptReads(t,e.unbox),o.intercept(t,this.willChange),o.observe(t,this.didChange)},t.prototype.describe=function(){return"Map<string, "+this.subType.describe()+">"},t.prototype.getChildren=function(e){return o.values(e.storedValue)},t.prototype.getChildNode=function(e,t){var n=e.storedValue.get(""+t);return n||le("Not a child "+t),n},t.prototype.willChange=function(e){var t=Q(e.object),n=e.name;t.assertWritable();var r=t.type,o=r.subType;switch(e.type){case"update":var i=e.newValue;if(i===e.object.get(n))return null;e.newValue=o.reconcile(t.getChildNode(n),e.newValue),r.processIdentifier(n,e.newValue);break;case"add":e.newValue,e.newValue=o.instantiate(t,n,void 0,e.newValue),r.processIdentifier(n,e.newValue)}return e},t.prototype.processIdentifier=function(e,t){if(this.identifierMode===De.YES&&t instanceof T){var n=t.identifier;n!==e&&le("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+n+"', but expected: '"+e+"'")}},t.prototype.getValue=function(e){return e.storedValue},t.prototype.getSnapshot=function(e){var t={};return e.getChildren().forEach(function(e){t[e.subpath]=e.snapshot}),t},t.prototype.processInitialSnapshot=function(e,t){var n={};return Object.keys(e).forEach(function(t){n[t]=e[t].getSnapshot()}),n},t.prototype.didChange=function(e){var t=Q(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:Ce(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:Ce(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var n=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:Ce(e.name),oldValue:n},t)}},t.prototype.applyPatchLocally=function(e,t,n){var r=e.storedValue;switch(n.op){case"add":case"replace":r.set(t,n.value);break;case"remove":r.delete(t)}},t.prototype.applySnapshot=function(e,t){var n=e.storedValue,r={};for(var o in Array.from(n.keys()).forEach(function(e){r[e]=!1}),t)n.set(o,t[o]),r[""+o]=!0;Object.keys(r).forEach(function(e){!1===r[e]&&n.delete(e)})},t.prototype.getChildType=function(e){return this.subType},t.prototype.isValidSnapshot=function(e,t){var n=this;return me(e)?K(Object.keys(e).map(function(r){return n.subType.validate(e[r],H(t,r,n.subType))})):W(t,e,"Value is not a plain object")},t.prototype.getDefaultSnapshot=function(){return ue},t.prototype.removeChild=function(e,t){e.storedValue.delete(t)},p([o.action],t.prototype,"applySnapshot",null),t}(A);var ze=function(e){function t(t,n){var r=e.call(this,t)||this;return r.shouldAttachNode=!0,r.flags=x.Array,r.subType=n,r}return c(t,e),t.prototype.instantiate=function(e,t,n,r){return G(this,e,t,n,r)},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t=[]);var n=e.type.subType,r=e.environment,o={};return t.forEach(function(t,i){var a=""+i;o[a]=n.instantiate(e,a,r,t)}),o},t.prototype.createNewInstance=function(e,t,n){return o.observable.array(ie(t),ce)},t.prototype.finalizeNewInstance=function(e,t){o._getAdministration(t).dehancer=e.unbox,o.intercept(t,this.willChange),o.observe(t,this.didChange)},t.prototype.describe=function(){return this.subType.describe()+"[]"},t.prototype.getChildren=function(e){return e.storedValue.slice()},t.prototype.getChildNode=function(e,t){var n=parseInt(t,10);return n<e.storedValue.length?e.storedValue[n]:le("Not a child: "+t)},t.prototype.willChange=function(e){var t=Q(e.object);t.assertWritable();var n=t.type.subType,r=t.getChildren(),o=null;switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;if(!(o=Ve(t,n,[r[e.index]],[e.newValue],[e.index])))return null;e.newValue=o[0];break;case"splice":var i=e.index,a=e.removedCount,s=e.added;if(!(o=Ve(t,n,r.slice(i,i+a),s,s.map(function(e,t){return i+t}))))return null;e.added=o;for(var u=i+a;u<r.length;u++)r[u].setParent(t,""+(u+s.length-a))}return e},t.prototype.getValue=function(e){return e.storedValue},t.prototype.getSnapshot=function(e){return e.getChildren().map(function(e){return e.snapshot})},t.prototype.processInitialSnapshot=function(e,t){var n=[];return Object.keys(e).forEach(function(t){n.push(e[t].getSnapshot())}),n},t.prototype.didChange=function(e){var t=Q(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var n=e.removedCount-1;n>=0;n--)t.emitPatch({op:"remove",path:""+(e.index+n),oldValue:e.removed[n].snapshot},t);for(n=0;n<e.addedCount;n++)t.emitPatch({op:"add",path:""+(e.index+n),value:t.getChildNode(""+(e.index+n)).snapshot,oldValue:void 0},t);return}},t.prototype.applyPatchLocally=function(e,t,n){var r=e.storedValue,o="-"===t?r.length:parseInt(t);switch(n.op){case"replace":r[o]=n.value;break;case"add":r.splice(o,0,n.value);break;case"remove":r.splice(o,1)}},t.prototype.applySnapshot=function(e,t){e.storedValue.replace(t)},t.prototype.getChildType=function(e){return this.subType},t.prototype.isValidSnapshot=function(e,t){var n=this;return he(e)?K(e.map(function(e,r){return n.subType.validate(e,H(t,""+r,n.subType))})):W(t,e,"Value is not an array")},t.prototype.getDefaultSnapshot=function(){return se},t.prototype.removeChild=function(e,t){e.storedValue.splice(parseInt(t,10),1)},p([o.action],t.prototype,"applySnapshot",null),t}(A);function Ve(e,t,n,r,o){for(var i,a,s,u=!1,c=void 0,l=!0,p=0;u=p<=r.length-1,i=n[p],a=u?r[p]:void 0,((s=a)instanceof E||s instanceof T)&&(a=a.storedValue),i||u;p++)if(u)if(i)if(Fe(i,a))n[p]=Be(t,e,""+o[p],a,i);else{c=void 0;for(var f=p;f<n.length;f++)if(Fe(n[f],a)){c=n.splice(f,1)[0];break}n.splice(p,0,Be(t,e,""+o[p],a,c)),l=!1}else Z(a)&&Q(a).parent===e&&le("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+o[p]+"', but it lives already at '"+Q(a).path+"'"),n.splice(p,0,Be(t,e,""+o[p],a)),l=!1;else i.die(),n.splice(p,1),p--,l=!1;return l?null:n}function Be(e,t,n,r,o){var i;if(Z(r)&&((i=Q(r)).assertAlive(),null!==i.parent&&i.parent===t))return i.setParent(t,n),o&&o!==i&&o.die(),i;return o?((i=e.reconcile(o,r)).setParent(t,n),i):e.instantiate(t,n,t.environment,r)}function Fe(e,t){return Z(t)?Q(t)===e:e.snapshot===t||!!(e instanceof T&&null!==e.identifier&&e.identifierAttribute&&me(t)&&e.identifier===Nt(t[e.identifierAttribute])&&e.type.is(t))}function Le(){return Q(this).toString()}var He={name:"AnonymousModel",properties:{},initializers:se};function Ue(e){return Object.keys(e).reduce(function(e,t){var n,o,i;if(t in r)return le("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var a=Object.getOwnPropertyDescriptor(e,t);"get"in a&&le("Getters are not supported as properties. Please use views instead");var s=a.value;if(null==s)le("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");else{if(ve(s))return Object.assign({},e,((n={})[t]=ut(function(e){switch(typeof e){case"string":return qe;case"number":return $e;case"boolean":return Ge;case"object":if(e instanceof Date)return et}return le("Cannot determine primitive type from value "+e)}(s),s),n));if(s instanceof Re)return Object.assign({},e,((o={})[t]=ut(s,{}),o));if(s instanceof ze)return Object.assign({},e,((i={})[t]=ut(s,[]),i));if(C(s))return e;le("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+s+"' ("+typeof s+")")}},e)}var We=function(e){function t(t){var n=e.call(this,t.name||He.name)||this;n.flags=x.Object,n.shouldAttachNode=!0;var r=t.name||He.name;return/^\w[\w\d_]*$/.test(r)||le("Typename should be a valid identifier: "+r),Object.assign(n,He,t),n.properties=Ue(n.properties),ge(n.properties),n.propertyNames=Object.keys(n.properties),n.identifierAttribute=n._getIdentifierAttribute(),n}return c(t,e),t.prototype._getIdentifierAttribute=function(){var e=void 0;return this.forAllProps(function(t,n){n.flags&x.Identifier&&(e&&le("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property"),e=t)}),e},t.prototype.cloneAndEnhance=function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})},t.prototype.actions=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateActions(n,e(n)),n}]})},t.prototype.instantiateActions=function(e,t){me(t)||le("actions initializer should return a plain object containing actions"),Object.keys(t).forEach(function(n){"preProcessSnapshot"===n&&le("Cannot define action 'preProcessSnapshot', it should be defined using 'type.preProcessSnapshot(fn)' instead"),"postProcessSnapshot"===n&&le("Cannot define action 'postProcessSnapshot', it should be defined using 'type.postProcessSnapshot(fn)' instead");var o=t[n],i=e[n];if(n in r&&i){var a=o;o=function(){i.apply(null,arguments),a.apply(null,arguments)}}var s=o.$mst_middleware,u=o.bind(t);u.$mst_middleware=s;var c=V(e,n,u);t[n]=c,be(e,n,c)})},t.prototype.named=function(e){return this.cloneAndEnhance({name:e})},t.prototype.props=function(e){return this.cloneAndEnhance({properties:e})},t.prototype.volatile=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateVolatileState(n,e(n)),n}]})},t.prototype.instantiateVolatileState=function(e,t){me(t)||le("volatile state initializer should return a plain object containing state"),o.set(e,t)},t.prototype.extend=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){var r=e(n),o=r.actions,i=r.views,a=r.state,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}(r,["actions","views","state"]);for(var u in s)le("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+u+"'");return a&&t.instantiateVolatileState(n,a),i&&t.instantiateViews(n,i),o&&t.instantiateActions(n,o),n}]})},t.prototype.views=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateViews(n,e(n)),n}]})},t.prototype.instantiateViews=function(e,t){me(t)||le("views initializer should return a plain object containing views"),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n),i=r.value;if("get"in r)if(o.isComputedProp(e,n)){var a=o._getAdministration(e,n);a.derivation=r.get,a.scope=e,r.set&&(a.setter=o.action(a.name+"-setter",r.set))}else o.computed(e,n,r,!0);else"function"==typeof i?be(e,n,i):le("A view member should either be a function or getter based property")})},t.prototype.preProcessSnapshot=function(e){var t=this.preProcessor;return t?this.cloneAndEnhance({preProcessor:function(n){return t(e(n))}}):this.cloneAndEnhance({preProcessor:e})},t.prototype.postProcessSnapshot=function(e){var t=this.postProcessor;return t?this.cloneAndEnhance({postProcessor:function(n){return e(t(n))}}):this.cloneAndEnhance({postProcessor:e})},t.prototype.instantiate=function(e,t,n,r){return G(this,e,t,n,Z(r)?r:this.applySnapshotPreProcessor(r))},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t={});var n=e.type,r={};return n.forAllProps(function(n,o){r[n]=o.instantiate(e,n,e.environment,t[n])}),r},t.prototype.createNewInstance=function(e,t,n){return o.observable.object(t,ue,ce)},t.prototype.finalizeNewInstance=function(e,t){be(t,"toString",Le),this.forAllProps(function(n){o._interceptReads(t,n,e.unbox)}),this.initializers.reduce(function(e,t){return t(e)},t),o.intercept(t,this.willChange),o.observe(t,this.didChange)},t.prototype.willChange=function(e){var t=Q(e.object);t.assertWritable();var n=t.type.properties[e.name];return n&&(e.newValue,e.newValue=n.reconcile(t.getChildNode(e.name),e.newValue)),e},t.prototype.didChange=function(e){var t=Q(e.object);if(t.type.properties[e.name]){var n=e.oldValue?e.oldValue.snapshot:void 0;t.emitPatch({op:"replace",path:Ce(e.name),value:e.newValue.snapshot,oldValue:n},t)}},t.prototype.getChildren=function(e){var t=this,n=[];return this.forAllProps(function(r,o){n.push(t.getChildNode(e,r))}),n},t.prototype.getChildNode=function(e,t){if(!(t in this.properties))return le("Not a value property: "+t);var n=o._getAdministration(e.storedValue,t).value;return n||le("Node not available for property "+t)},t.prototype.getValue=function(e){return e.storedValue},t.prototype.getSnapshot=function(e,t){var n=this;void 0===t&&(t=!0);var r={};return this.forAllProps(function(t,i){o.getAtom(e.storedValue,t).reportObserved(),r[t]=n.getChildNode(e,t).snapshot}),t?this.applySnapshotPostProcessor(r):r},t.prototype.processInitialSnapshot=function(e,t){var n={};return Object.keys(e).forEach(function(t){n[t]=e[t].getSnapshot()}),this.applySnapshotPostProcessor(this.applyOptionalValuesToSnapshot(n))},t.prototype.applyPatchLocally=function(e,t,n){"replace"!==n.op&&"add"!==n.op&&le("object does not support operation "+n.op),e.storedValue[t]=n.value},t.prototype.applySnapshot=function(e,t){var n=this.applySnapshotPreProcessor(t);this.forAllProps(function(t,r){e.storedValue[t]=n[t]})},t.prototype.applySnapshotPreProcessor=function(e){var t=this.preProcessor;return t?t.call(null,e):e},t.prototype.applyOptionalValuesToSnapshot=function(e){return e&&(e=Object.assign({},e),this.forAllProps(function(t,n){if(!(t in e)){var r=Xe(n);r&&(e[t]=r.getDefaultValueSnapshot())}})),e},t.prototype.applySnapshotPostProcessor=function(e){var t=this.postProcessor;return t?t.call(null,e):e},t.prototype.getChildType=function(e){return this.properties[e]},t.prototype.isValidSnapshot=function(e,t){var n=this,r=this.applySnapshotPreProcessor(e);return me(r)?K(this.propertyNames.map(function(e){return n.properties[e].validate(r[e],H(t,e,n.properties[e]))})):W(t,r,"Value is not a plain object")},t.prototype.forAllProps=function(e){var t=this;this.propertyNames.forEach(function(n){return e(n,t.properties[n])})},t.prototype.describe=function(){var e=this;return"{ "+this.propertyNames.map(function(t){return t+": "+e.properties[t].describe()}).join("; ")+" }"},t.prototype.getDefaultSnapshot=function(){return ue},t.prototype.removeChild=function(e,t){e.storedValue[t]=void 0},p([o.action],t.prototype,"applySnapshot",null),t}(A);function Ke(e){return C(e)&&(e.flags&x.Object)>0}function Xe(e){if(e)return e.flags&x.Union&&e.types?e.types.find(Xe):e.flags&x.Late&&e.getSubType&&e.getSubType(!1)?Xe(e.subType):e.flags&x.Optional?e:void 0}var Je=function(e){function t(t,n,r,o){void 0===o&&(o=pe);var i=e.call(this,t)||this;return i.shouldAttachNode=!1,i.flags=n,i.checker=r,i.initializer=o,i}return c(t,e),t.prototype.describe=function(){return this.name},t.prototype.instantiate=function(e,t,n,r){return G(this,e,t,n,r)},t.prototype.createNewInstance=function(e,t,n){return this.initializer(n)},t.prototype.isValidSnapshot=function(e,t){return ve(e)&&this.checker(e)?U():W(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))},t}(_),qe=new Je("string",x.String,function(e){return"string"==typeof e}),$e=new Je("number",x.Number,function(e){return"number"==typeof e}),Ye=new Je("integer",x.Integer,function(e){return fe(e)}),Ge=new Je("boolean",x.Boolean,function(e){return"boolean"==typeof e}),Ze=new Je("null",x.Null,function(e){return null===e}),Qe=new Je("undefined",x.Undefined,function(e){return void 0===e}),et=new Je("Date",x.Date,function(e){return"number"==typeof e||e instanceof Date},function(e){return e instanceof Date?e:new Date(e)});function tt(e){return C(e)&&(e.flags&(x.String|x.Number|x.Integer|x.Boolean|x.Date))>0}et.getSnapshot=function(e){return e.storedValue.getTime()};var nt=function(e){function t(t){var n=e.call(this,JSON.stringify(t))||this;return n.shouldAttachNode=!1,n.flags=x.Literal,n.value=t,n}return c(t,e),t.prototype.instantiate=function(e,t,n,r){return G(this,e,t,n,r)},t.prototype.describe=function(){return JSON.stringify(this.value)},t.prototype.isValidSnapshot=function(e,t){return ve(e)&&e===this.value?U():W(t,e,"Value is not a literal "+JSON.stringify(this.value))},t}(_);function rt(e){return new nt(e)}var ot=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i.type=n,i.predicate=r,i.message=o,i}return c(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this.type.flags|x.Refinement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldAttachNode",{get:function(){return this.type.shouldAttachNode},enumerable:!0,configurable:!0}),t.prototype.describe=function(){return this.name},t.prototype.instantiate=function(e,t,n,r){return this.type.instantiate(e,t,n,r)},t.prototype.isAssignableFrom=function(e){return this.type.isAssignableFrom(e)},t.prototype.isValidSnapshot=function(e,t){var n=this.type.validate(e,t);if(n.length>0)return n;var r=Z(e)?Q(e).snapshot:e;return this.predicate(r)?U():W(t,e,this.message(e))},t}(_);var it=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.eager=!0,r=l({eager:!0,dispatcher:void 0},r),o.dispatcher=r.dispatcher,r.eager||(o.eager=!1),o.types=n,o}return c(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=x.Union;return this.types.forEach(function(t){e|=t.flags}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldAttachNode",{get:function(){return this.types.some(function(e){return e.shouldAttachNode})},enumerable:!0,configurable:!0}),t.prototype.isAssignableFrom=function(e){return this.types.some(function(t){return t.isAssignableFrom(e)})},t.prototype.describe=function(){return"("+this.types.map(function(e){return e.describe()}).join(" | ")+")"},t.prototype.instantiate=function(e,t,n,r){var o=this.determineType(r,void 0);return o?o.instantiate(e,t,n,r):le("No matching type for union "+this.describe())},t.prototype.reconcile=function(e,t){var n=this.determineType(t,e.type);return n?n.reconcile(e,t):le("No matching type for union "+this.describe())},t.prototype.determineType=function(e,t){return this.dispatcher?this.dispatcher(e):t?t.is(e)?t:this.types.filter(function(e){return e!==t}).find(function(t){return t.is(e)}):this.types.find(function(t){return t.is(e)})},t.prototype.isValidSnapshot=function(e,t){if(this.dispatcher)return this.dispatcher(e).validate(e,t);for(var n=[],r=0,o=0;o<this.types.length;o++){var i=this.types[o].validate(e,t);if(0===i.length){if(this.eager)return U();r++}else n.push(i)}return 1===r?U():W(t,e,"No type is applicable for the union").concat(K(n))},t}(_);function at(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=C(e)?void 0:e,o=C(e)?[e].concat(t):t,i="("+o.map(function(e){return e.name}).join(" | ")+")";return new it(i,o,r)}var st=function(e){function t(t,n){var r=e.call(this,t.name)||this;return r.type=t,r.defaultValue=n,r}return c(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this.type.flags|x.Optional},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldAttachNode",{get:function(){return this.type.shouldAttachNode},enumerable:!0,configurable:!0}),t.prototype.describe=function(){return this.type.describe()+"?"},t.prototype.instantiate=function(e,t,n,r){if(void 0===r){var o=this.getDefaultInstanceOrSnapshot();return this.type.instantiate(e,t,n,o)}return this.type.instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t){return this.type.reconcile(e,this.type.is(t)&&void 0!==t?t:this.getDefaultInstanceOrSnapshot())},t.prototype.getDefaultInstanceOrSnapshot=function(){var e="function"==typeof this.defaultValue?this.defaultValue():this.defaultValue;return this.defaultValue,e},t.prototype.getDefaultValueSnapshot=function(){var e=this.getDefaultInstanceOrSnapshot();return Z(e)?Q(e).snapshot:e},t.prototype.isValidSnapshot=function(e,t){return void 0===e?U():this.type.validate(e,t)},t.prototype.isAssignableFrom=function(e){return this.type.isAssignableFrom(e)},t}(_);function ut(e,t){return"function"!=typeof t&&Z(t)&&le("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead"),new st(e,t)}var ct=ut(Qe,void 0),lt=ut(Ze,null);function pt(e){return at(e,ct)}var ft=function(e){function t(t,n){var r=e.call(this,t)||this;return r._subType=null,r.definition=n,r}return c(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|x.Late},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldAttachNode",{get:function(){return this.getSubType(!0).shouldAttachNode},enumerable:!0,configurable:!0}),t.prototype.getSubType=function(e){if(null===this._subType){var t=void 0;try{t=this.definition()}catch(n){if(!(n instanceof ReferenceError))throw n;t=void 0}if(e&&void 0===t&&le("Late type seems to be used too early, the definition (still) returns undefined"),t)return this._subType=t,t}return this._subType},t.prototype.instantiate=function(e,t,n,r){return this.getSubType(!0).instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t){return this.getSubType(!0).reconcile(e,t)},t.prototype.describe=function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"},t.prototype.isValidSnapshot=function(e,t){var n=this.getSubType(!1);return n?n.validate(e,t):U()},t.prototype.isAssignableFrom=function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)},t}(_);var ht=function(e){function t(t){var n=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return n.subType=t,n.shouldAttachNode=!1,n.flags=x.Frozen,n}return c(t,e),t.prototype.describe=function(){return"<any immutable value>"},t.prototype.instantiate=function(e,t,n,r){return G(this,e,t,n,function(e){return e}(r))},t.prototype.isValidSnapshot=function(e,t){return function(e){return"function"!=typeof e}(e)?this.subType?this.subType.validate(e,t):U():W(t,e,"Value is not serializable and cannot be frozen")},t}(_),dt=new ht;var mt=function(){function e(e,t){if(this.targetType=t,"string"==typeof e||"number"==typeof e)this.identifier=e;else{if(!Z(e))return le("Can only store references to tree nodes or identifiers, got: '"+e+"'");var n=Q(e);if(!n.identifierAttribute)return le("Can only store references with a defined identifier attribute.");var r=n.unnormalizedIdentifier;if(null==r)return le("Can only store references to tree nodes with a defined identifier.");this.identifier=r}}return e.prototype.updateResolvedReference=function(e){var t=Nt(this.identifier),n=e.root.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==n){var r=this.targetType,o=e.root.identifierCache.resolve(r,t);if(!o)throw new yt("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:o,lastCacheModification:n}}},Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!0,configurable:!0}),e}(),yt=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return c(t,e),t}(Error),vt=function(e){function t(t,n){var r=e.call(this,"reference("+t.name+")")||this;return r.targetType=t,r.onInvalidated=n,r.shouldAttachNode=!1,r.flags=x.Reference,r}return c(t,e),t.prototype.describe=function(){return this.name},t.prototype.isAssignableFrom=function(e){return this.targetType.isAssignableFrom(e)},t.prototype.isValidSnapshot=function(e,t){return"string"==typeof e||"number"==typeof e?U():W(t,e,"Value is not a valid identifier, which is a string or a number")},t.prototype.fireInvalidated=function(e,t,n,r){var o=t.parent;if(o&&o.isAlive){var i=o.storedValue;i&&this.onInvalidated({cause:e,parent:i,invalidTarget:r?r.storedValue:void 0,invalidId:n,replaceRef:function(e){d(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){Ke(o.type)?this.replaceRef(void 0):d(t.root.storedValue,{op:"remove",path:t.path})}})}},t.prototype.addTargetNodeWatcher=function(e,t){var n=this,o=this.getValue(e);if(o){var i=Q(o),a=function(o,a){var s=function(e){switch(e){case r.beforeDestroy:return"destroy";case r.beforeDetach:return"detach";default:return}}(a);s&&n.fireInvalidated(s,e,t,i)},s=i.hookSubscribers.register(r.beforeDetach,a),u=i.hookSubscribers.register(r.beforeDestroy,a);return function(){s(),u()}}},t.prototype.watchTargetNodeForInvalidations=function(e,t,n){var o=this;if(this.onInvalidated){var i;e.hookSubscribers.register(r.beforeDestroy,function(){i&&i()});var a=function(r){i&&i();var a=e.parent,s=a&&a.storedValue;if(a&&a.isAlive&&s){(n?!!n.get(t,s):e.root.identifierCache.has(o.targetType,Nt(t)))?i=o.addTargetNodeWatcher(e,t):r||o.fireInvalidated("invalidSnapshotReference",e,t,null)}};e.state===q.FINALIZED?a(!0):(e.isRoot||e.root.hookSubscribers.register(r.afterCreationFinalization,function(){e.parent&&e.parent.createObservableInstanceIfNeeded()}),e.hookSubscribers.register(r.afterAttach,function(){a(!1)}))}},t}(_),gt=function(e){function t(t,n){return e.call(this,t,n)||this}return c(t,e),t.prototype.getValue=function(e){if(e.isAlive)return e.storedValue.resolvedValue},t.prototype.getSnapshot=function(e){return e.storedValue.identifier},t.prototype.instantiate=function(e,t,n,r){var o=Z(r)?v(r):r,i=new mt(r,this.targetType),a=G(this,e,t,n,i);return i.node=a,this.watchTargetNodeForInvalidations(a,o,void 0),a},t.prototype.reconcile=function(e,t){if(e.type===this){var n=Z(t),r=e.storedValue;if(!n&&r.identifier===t)return e;if(n&&r.resolvedValue===t)return e}var o=this.instantiate(e.parent,e.subpath,e.environment,t);return e.die(),o},t}(vt),bt=function(e){function t(t,n,r){var o=e.call(this,t,r)||this;return o.options=n,o}return c(t,e),t.prototype.getValue=function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)},t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.instantiate=function(e,t,n,r){var o=Z(r)?this.options.set(r,e?e.storedValue:null):r,i=G(this,e,t,n,o);return this.watchTargetNodeForInvalidations(i,o,this.options),i},t.prototype.reconcile=function(e,t){var n=Z(t)?this.options.set(t,e?e.storedValue:null):t;if(e.type===this&&e.storedValue===n)return e;var r=this.instantiate(e.parent,e.subpath,e.environment,n);return e.die(),r},t}(vt);function wt(e,t){var n=t||void 0,r=t?t.onInvalidated:void 0;return n&&(n.get||n.set)?new bt(e,{get:n.get,set:n.set},r):new gt(e,r)}var xt=function(e){function t(){var t=e.call(this,"identifier")||this;return t.shouldAttachNode=!1,t.flags=x.Identifier,t}return c(t,e),t.prototype.instantiate=function(e,t,n,r){return e&&e.type instanceof We||le("Identifier types can only be instantiated as direct child of a model type"),G(this,e,t,n,r)},t.prototype.reconcile=function(e,t){return e.storedValue!==t?le("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed."):e},t.prototype.describe=function(){return"identifier"},t.prototype.isValidSnapshot=function(e,t){return"string"!=typeof e?W(t,e,"Value is not a valid identifier, expected a string"):U()},t}(_),St=function(e){function t(){var t=e.call(this)||this;return t.name="identifierNumber",t}return c(t,e),t.prototype.instantiate=function(t,n,r,o){return e.prototype.instantiate.call(this,t,n,r,o)},t.prototype.isValidSnapshot=function(e,t){return"number"==typeof e?U():W(t,e,"Value is not a valid identifierNumber, expected a number")},t.prototype.reconcile=function(t,n){return e.prototype.reconcile.call(this,t,n)},t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.describe=function(){return"identifierNumber"},t}(xt),Et=new xt,Ot=new St;function Nt(e){return""+e}var Tt=function(e){function t(t){var n=e.call(this,t.name)||this;return n.options=t,n.flags=x.Reference,n.shouldAttachNode=!1,n}return c(t,e),t.prototype.describe=function(){return this.name},t.prototype.isAssignableFrom=function(e){return e===this},t.prototype.isValidSnapshot=function(e,t){if(this.options.isTargetType(e))return U();var n=this.options.getValidationMessage(e);return n?W(t,e,"Invalid value for type '"+this.name+"': "+n):U()},t.prototype.getValue=function(e){if(e.isAlive)return e.storedValue},t.prototype.getSnapshot=function(e){return this.options.toSnapshot(e.storedValue)},t.prototype.instantiate=function(e,t,n,r){return G(this,e,t,n,this.options.isTargetType(r)?r:this.options.fromSnapshot(r))},t.prototype.reconcile=function(e,t){var n=!this.options.isTargetType(t);if(e.type===this&&(n?t===e.snapshot:t===e.storedValue))return e;var r=n?this.options.fromSnapshot(t):t,o=this.instantiate(e.parent,e.subpath,e.environment,r);return e.die(),o},t}(_),At={enumeration:function(e,t){var n="string"==typeof e?t:e,r=at.apply(void 0,n.map(function(e){return rt(""+e)}));return"string"==typeof e&&(r.name=e),r},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():"AnonymousModel",r=e.shift()||{};return new We({name:n,properties:r})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():"AnonymousModel";return e.reduce(function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(n){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(n))},postProcessor:function(n){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(n))}})}).named(n)},custom:function(e){return new Tt(e)},reference:wt,safeReference:function(e,t){return pt(wt(e,l({},t,{onInvalidated:function(e){e.removeRef()}})))},union:at,optional:ut,literal:rt,maybe:pt,maybeNull:function(e){return at(e,lt)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():C(e[0])?e[0].name:null,r=e[0],o=e[1],i=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return new ot(n,r,o,i)},string:qe,boolean:Ge,number:$e,integer:Ye,Date:et,map:function(e){return new Re("map<string, "+e.name+">",e)},array:function(e){return new ze(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?dt:C(e)?new ht(e):ut(dt,e)},identifier:Et,identifierNumber:Ot,late:function(e,t){var n="string"==typeof e?e:"late("+e.toString()+")";return new ft(n,"string"==typeof e?t:e)},undefined:Qe,null:Ze};t.typecheck=J,t.escapeJsonPath=Ce,t.unescapeJsonPath=je,t.joinJsonPath=Me,t.splitJsonPath=ke,t.decorate=function(e,t){var n={handler:e,includeHooks:!0};return t.$mst_middleware&&t.$mst_middleware.push(n),t.$mst_middleware=[n],t},t.addMiddleware=B,t.process=function(e){return Oe("process","`process()` has been renamed to `flow()`. "+ae),Te(e)},t.isStateTreeNode=Z,t.flow=Te,t.castFlowReturn=function(e){return e},t.applyAction=k,t.onAction=D,t.recordActions=function(e){var t={actions:[],stop:function(){return n()},replay:function(e){k(e,t.actions)}},n=D(e,t.actions.push.bind(t.actions));return t},t.createActionTrackingMiddleware=function(e){return function(t,n,r){switch(t.type){case"action":if(e.filter&&!0!==e.filter(t))return n(t);var o=e.onStart(t);e.onResume(t,o),j.set(t.id,{call:t,context:o,async:!1});try{var i=n(t);return e.onSuspend(t,o),!1===j.get(t.id).async&&(j.delete(t.id),e.onSuccess(t,o,i)),i}catch(s){throw j.delete(t.id),e.onFail(t,o,s),s}case"flow_spawn":return(a=j.get(t.rootId)).async=!0,n(t);case"flow_resume":case"flow_resume_error":var a=j.get(t.rootId);e.onResume(t,a.context);try{return n(t)}finally{e.onSuspend(t,a.context)}case"flow_throw":return a=j.get(t.rootId),j.delete(t.rootId),e.onFail(t,a.context,t.args[0]),n(t);case"flow_return":return a=j.get(t.rootId),j.delete(t.rootId),e.onSuccess(t,a.context,t.args[0]),n(t)}}},t.setLivelinessChecking=a,t.getLivelinessChecking=s,t.setLivelynessChecking=function(e){a(e)},t.getType=f,t.getChildType=function(e,t){return Q(e).getChildType(t)},t.onPatch=h,t.onSnapshot=function(e,t){return Q(e).onSnapshot(t)},t.applyPatch=d,t.recordPatches=function(e){var t=null;function n(){t||(t=h(e,function(e,t){r.rawPatches.push([e,t])}))}var r={rawPatches:[],get patches(){return this.rawPatches.map(function(e){return e[0]})},get inversePatches(){return this.rawPatches.map(function(e){return e[0],e[1]})},stop:function(){t&&t(),t=null},resume:n,replay:function(t){d(t||e,r.patches)},undo:function(t){d(t||e,r.inversePatches.slice().reverse())}};return n(),r},t.protect=function(e){var t=Q(e);t.isRoot||le("`protect` can only be invoked on root nodes"),t.isProtectionEnabled=!0},t.unprotect=function(e){var t=Q(e);t.isRoot||le("`unprotect` can only be invoked on root nodes"),t.isProtectionEnabled=!1},t.isProtected=function(e){return Q(e).isProtected},t.applySnapshot=m,t.getSnapshot=function(e,t){void 0===t&&(t=!0);var n=Q(e);return t?n.snapshot:ge(n.type.getSnapshot(n,!1))},t.hasParent=function(e,t){void 0===t&&(t=1);for(var n=Q(e).parent;n;){if(0==--t)return!0;n=n.parent}return!1},t.getParent=function(e,t){void 0===t&&(t=1);for(var n=t,r=Q(e).parent;r;){if(0==--n)return r.storedValue;r=r.parent}return le("Failed to find the parent of "+Q(e)+" at depth "+t)},t.hasParentOfType=function(e,t){for(var n=Q(e).parent;n;){if(t.is(n.storedValue))return!0;n=n.parent}return!1},t.getParentOfType=function(e,t){for(var n=Q(e).parent;n;){if(t.is(n.storedValue))return n.storedValue;n=n.parent}return le("Failed to find the parent of "+Q(e)+" of a given type")},t.getRoot=y,t.getPath=function(e){return Q(e).path},t.getPathParts=function(e){return ke(Q(e).path)},t.isRoot=function(e){return Q(e).isRoot},t.resolvePath=function(e,t){var n=re(Q(e),t);return n?n.value:void 0},t.resolveIdentifier=function(e,t,n){var r=Q(t).root.identifierCache.resolve(e,Nt(n));return r?r.value:void 0},t.getIdentifier=v,t.tryResolve=g,t.getRelativePath=function(e,t){return ne(Q(e),Q(t))},t.clone=function(e,t){void 0===t&&(t=!0);var n=Q(e);return n.type.create(n.snapshot,!0===t?n.root.environment:!1===t?void 0:t)},t.detach=function(e){return Q(e).detach(),e},t.destroy=function(e){var t=Q(e);t.isRoot?t.die():t.parent.removeChild(t.subpath)},t.isAlive=b,t.addDisposer=function(e,t){return Q(e).addDisposer(t),t},t.getEnv=function(e){var t=Q(e).root.environment;return t||ue},t.walk=function e(t,n){var r=Q(t);r.getChildren().forEach(function(t){Z(t.storedValue)&&e(t.storedValue,n)}),n(r.storedValue)},t.getMembers=function(e){var t=Q(e).type,n=l({},w(t),{actions:[],volatile:[],views:[]});return Object.getOwnPropertyNames(e).forEach(function(t){if(!(t in n.properties)){var r=Object.getOwnPropertyDescriptor(e,t);r.get?o.isComputedProp(e,t)?n.views.push(t):n.volatile.push(t):!0===r.value._isMSTAction?n.actions.push(t):o.isObservableProp(e,t)?n.volatile.push(t):n.views.push(t)}}),n},t.getPropertyMembers=w,t.cast=function(e){return e},t.castToSnapshot=function(e){return e},t.castToReferenceSnapshot=function(e){return e},t.isType=C,t.isArrayType=function(e){return C(e)&&(e.flags&x.Array)>0},t.isFrozenType=function(e){return C(e)&&(e.flags&x.Frozen)>0},t.isIdentifierType=function(e){return C(e)&&(e.flags&x.Identifier)>0},t.isLateType=function(e){return C(e)&&(e.flags&x.Late)>0},t.isLiteralType=function(e){return C(e)&&(e.flags&x.Literal)>0},t.isMapType=function(e){return C(e)&&(e.flags&x.Map)>0},t.isModelType=Ke,t.isOptionalType=function(e){return C(e)&&(e.flags&x.Optional)>0},t.isPrimitiveType=tt,t.isReferenceType=function(e){return(e.flags&x.Reference)>0},t.isRefinementType=function(e){return(e.flags&x.Refinement)>0},t.isUnionType=function(e){return(e.flags&x.Union)>0},t.tryReference=function(e,t){void 0===t&&(t=!0);try{var n=e();return null==n?void 0:Z(n)?t?b(n)?n:void 0:n:le("The reference to be checked is not one of node, null or undefined")}catch(r){if(r instanceof yt)return;throw r}},t.isValidReference=function(e,t){void 0===t&&(t=!0);try{var n=e();return null!=n&&(Z(n)?!t||b(n):le("The reference to be checked is not one of node, null or undefined"))}catch(r){if(r instanceof yt)return!1;throw r}},t.types=At}).call(this,n("oPUo").setImmediate)},QTEN:function(e,t,n){var r=n("/6KZ"),o=n("ZqaM");r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},S1Ov:function(e,t,n){var r=n("XvXf");e.exports=function(e){return r(e).replace(/\s(\w)/g,function(e,t){return t.toUpperCase()})}},TGEZ:function(e,t,n){(function(t){(function(){var n,r,o,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,i=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),a=i-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n("5IsQ"))},X0zA:function(e,t,n){var r=n("/6KZ");r(r.S,"Number",{isNaN:function(e){return e!=e}})},XXdF:function(e,t){e.exports=function(e){return n.test(e)?e.toLowerCase():r.test(e)?(function(e){return e.replace(i,function(e,t){return t?" "+t:""})}(e)||e).toLowerCase():o.test(e)?function(e){return e.replace(a,function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")})}(e).toLowerCase():e.toLowerCase()};var n=/\s/,r=/(_|-|\.|:)/,o=/([a-z][A-Z]|[A-Z][a-z])/;var i=/[\W_]+(.|$)/g;var a=/(.)([A-Z]+)/g},XvXf:function(e,t,n){var r=n("XXdF");e.exports=function(e){return r(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""}).trim()}},ZqaM:function(e,t,n){var r=n("41F1").parseFloat,o=n("8cf0").trim;e.exports=1/r(n("M5cM")+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},aFow:function(e,t,n){e.exports=n("0Qvh")()},bVN1:function(e,t,n){e.exports=n("tLiR")},c5D9:function(e,t,n){"use strict";n.r(t);var r=n("JYC+"),o=n.n(r),i=n("UrUy"),a=n.n(i),s=n("R3/3"),u=n("Rbzu"),c=n("LkAs"),l=n("Moms"),p=n("bMj6"),f=n("hZod"),h=n("tEuJ"),d=n("YKN3"),m=n("azxR"),y=n("sPpl"),v=n.n(y),g=n("mXGw"),b=n.n(g),w=n("CkPy"),x=n("7/nG"),S=n("IXLv"),E=n("lTgw"),O=n("CjJp"),N=n("VTEe"),T=n("TTmL");n("s2Sc"),n("eORY");n.d(t,"default",function(){return _});var A=["data","layout","title"],_=function(e){function t(){var e,n;Object(c.default)(this,t);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=Object(p.default)(this,(e=Object(f.default)(t)).call.apply(e,[this].concat(i))),Object(m.a)(Object(d.default)(Object(d.default)(n)),"state",Object(u.a)({},Object(N.a)(n.props,"_id","data","layout","isEditable","isOwner"),{saved:Object(N.a)(n.props,"data","layout","title"),title:n.props.title||n.context.router.query.title||"Unnamed Character"})),Object(m.a)(Object(d.default)(Object(d.default)(n)),"handleChange",function(e,t){n.setState({data:e,layout:t})}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"handleDelete",Object(s.default)(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)("Are you sure you want to permanently delete this sheet?");case 2:if(!e.sent){e.next=8;break}return t=n.context.router.query.slug,e.next=6,v()("/api/sheet/".concat(t),{method:"DELETE"});case 6:204===e.sent.status&&n.context.router.back();case 8:case"end":return e.stop()}},e,this)}))),Object(m.a)(Object(d.default)(Object(d.default)(n)),"handleSave",Object(s.default)(a.a.mark(function e(){var t,r,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.context.router.query.slug,e.next=3,v()("/api/sheet/".concat(t),{body:o()(Object(N.a)(n.state,A)),headers:{"Content-Type":"application/json"},method:"POST"});case 3:return r=e.sent,e.next=6,r.json();case 6:if(i=e.sent,200!==r.status){e.next=9;break}return e.abrupt("return",n.setState(Object(u.a)({},i,{saved:Object(u.a)({},n.state.saved,Object(N.a)(i,A))})));case 9:return e.abrupt("return",n.setState(i));case 10:case"end":return e.stop()}},e,this)}))),Object(m.a)(Object(d.default)(Object(d.default)(n)),"handleTitleChange",function(e){return n.setState({title:e})}),Object(m.a)(Object(d.default)(Object(d.default)(n)),"render",function(){var e=n.state,t=e.data,r=e.isEditable,o=e.isOwner,i=e.layout,a=e.title;return b.a.createElement("div",{className:"sheet page"},b.a.createElement("div",{className:"title-bar"},b.a.createElement(S.a,{className:"title",onChange:n.handleTitleChange,readOnly:!r,value:a}),r&&n.isDirty&&b.a.createElement("button",{className:"save safe",onClick:n.handleSave},"Save"),o&&b.a.createElement("button",{className:"delete danger",onClick:n.handleDelete},"Delete")),b.a.createElement(w.Scrollbars,{className:"sheet-container",autoHide:!0,universal:!0},b.a.createElement(x.Sheet,{character:x.CharacterModel.create(t),layout:x.LayoutModel.create(i),onChange:n.handleChange,readOnly:!r})))}),n}return Object(h.default)(t,e),Object(l.default)(t,[{key:"isDirty",get:function(){return o()(Object(N.a)(this.state,A))!==o()(Object(N.a)(this.state.saved,A))}}]),t}(g.Component);Object(m.a)(_,"contextType",E.a),Object(m.a)(_,"defaultProps",{children:[],data:{},layout:{children:[{title:"Descriptors",children:[{columns:3,type:"Descriptor"}]},{title:"Attributes",children:[{columns:4,type:"Attribute"}]},{columns:3,children:[{colSpan:1,children:[{title:"Traits",children:[{type:"Trait"}]},{title:"Resources",children:[{type:"Resource"}]}]},{colSpan:2,children:[{title:"Skills",children:[{columns:2,type:"Skill"}]},{title:"Items",children:[{columns:1,type:"Item"}]},{title:"Spells",children:[{columns:1,type:"Spell"}]}]}]}]},title:""}),Object(m.a)(_,"getInitialProps",function(){var e=Object(s.default)(a.a.mark(function e(t){var n,r,o,i,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=t.req,o=Object(N.a)(r&&r.headers,"cookie"),e.next=4,v()(Object(T.a)(r,"/api/sheet/".concat(n.slug)),{headers:o});case 4:return i=e.sent,e.next=7,i.json();case 7:return s=e.sent,e.abrupt("return",Object(u.a)({statusCode:i.status},s));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},gHrF:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sheet",function(){var e=n("c5D9");return{page:e.default||e}}])},heVN:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,s,u=1,c={},l=!1,p=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){d(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){d(e.data)},r=function(e){i.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,r=function(e){var t=p.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(d,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&d(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[u]=o,r(u),u++},f.clearImmediate=h}function h(e){delete c[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("dm4u"),n("5IsQ"))},jnwu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}},kkHL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,o=n.paddingBottom;return t-parseFloat(r)-parseFloat(o)}},mfIm:function(e,t){var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return"number"!=typeof t||n[e]?t:t+"px"}},oPUo:function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("heVN"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("dm4u"))},ooxR:function(e,t,n){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};var o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function i(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var s="An invariant failed, however the error is obfuscated because this is an production build.",u=[];Object.freeze(u);var c={};function l(){return++we.mobxGuid}function p(e){throw f(!1,e),"X"}function f(e,t){if(!e)throw new Error("[mobx] "+(t||s))}Object.freeze(c);function h(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var d=function(){};function m(e){return null!==e&&"object"==typeof e}function y(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function v(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function g(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return m(e)&&!0===e[n]}}function b(e){return e instanceof Map}function w(e){return e instanceof Set}function x(e){return null===e?null:"object"==typeof e?""+e:e}var S=Symbol("mobx administration"),E=function(){function e(e){void 0===e&&(e="Atom@"+l()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=t.IDerivationState.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},e.prototype.reportObserved=function(){return Ae(this)},e.prototype.reportChanged=function(){Ne(),function(e){if(e.lowestObserverState===t.IDerivationState.STALE)return;e.lowestObserverState=t.IDerivationState.STALE,e.observers.forEach(function(n){n.dependenciesState===t.IDerivationState.UP_TO_DATE&&(n.isTracing!==te.NONE&&_e(n,e),n.onBecomeStale()),n.dependenciesState=t.IDerivationState.STALE})}(this),Te()},e.prototype.toString=function(){return this.name},e}(),O=g("Atom",E);function N(e,t,n){void 0===t&&(t=d),void 0===n&&(n=d);var r=new E(e);return t!==d&&We(r,t),n!==d&&Ke(r,n),r}var T={identity:function(e,t){return e===t},structural:function(e,t){return Wt(e,t)},default:function(e,t){return Object.is(e,t)}},A=Symbol("mobx did run lazy initializers"),_=Symbol("mobx pending decorators"),C={},j={};function M(e){if(!0!==e[A]){var t=e[_];if(t)for(var n in v(e,A,!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function k(e,t){return function(){var n,r,i=function(r,i,a,s){if(!0===s)return t(r,i,a,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,_)){var u=r[_];v(r,_,o({},u))}return r[_][i]={prop:i,propertyCreator:t,descriptor:a,decoratorTarget:r,decoratorArguments:n},function(e,t){var n=t?C:j;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return M(this),this[e]},set:function(t){M(this),this[e]=t}})}(i,e)};return(2===(r=arguments).length||3===r.length)&&"string"==typeof r[1]||4===r.length&&!0===r[3]?(n=u,i.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),i)}}function D(e,t,n){return rt(e)?e:Array.isArray(e)?W.array(e,{name:n}):y(e)?W.object(e,void 0,{name:n}):b(e)?W.map(e,{name:n}):w(e)?W.set(e,{name:n}):e}function P(e){return e}function I(t){f(t);var n=k(!0,function(e,n,r,o,i){var a=r?r.initializer?r.initializer.call(e):r.value:void 0;Pt(e).addObservableProp(n,a,t)}),r=(void 0!==e&&e.env,n);return r.enhancer=t,r}var R={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function z(e){return null==e?R:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(R);var V=I(D),B=I(function(e,t,n){return null==e?e:Bt(e)||Nt(e)||Ct(e)||kt(e)?e:Array.isArray(e)?W.array(e,{name:n,deep:!1}):y(e)?W.object(e,void 0,{name:n,deep:!1}):b(e)?W.map(e,{name:n,deep:!1}):w(e)?W.set(e,{name:n,deep:!1}):p(!1)}),F=I(P),L=I(function(e,t,n){return Wt(e,t)?t:e});function H(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?P:D}var U={box:function(e,t){arguments.length>2&&K("box");var n=z(t);return new ne(e,H(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&K("array");var n=z(t);return function(e,t,n,r){void 0===n&&(n="ObservableArray@"+l());void 0===r&&(r=!1);var o=new xt(n,t,r);i=o.values,a=S,s=o,Object.defineProperty(i,a,{enumerable:!1,writable:!1,configurable:!0,value:s});var i,a,s;var u=new Proxy(o.values,wt);if(o.proxy=u,e&&e.length){var c=Z(!0);o.spliceWithArray(0,0,e),Q(c)}return u}(e,H(n),n.name)},map:function(e,t){arguments.length>2&&K("map");var n=z(t);return new _t(e,H(n),n.name)},set:function(e,t){arguments.length>2&&K("set");var n=z(t);return new Mt(e,H(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&K("object");var r=z(n);if(!1===r.proxy)return Je({},e,t,r);var o=qe(r),i=function(e){var t=new Proxy(e,ht);return e[S].proxy=t,t}(Je({},void 0,void 0,r));return $e(i,e,t,o),i},ref:F,shallow:B,deep:V,struct:L},W=function(e,t,n){if("string"==typeof arguments[1])return V.apply(null,arguments);if(rt(e))return e;var r=y(e)?W.object(e,t,n):Array.isArray(e)?W.array(e,t):b(e)?W.map(e,t):w(e)?W.set(e,t):e;if(r!==e)return r;p(!1)};function K(e){p("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(U).forEach(function(e){return W[e]=U[e]});var X=k(!1,function(e,t,n,r,i){var a=n.get,s=n.set,u=i[0]||{};Pt(e).addComputedProp(e,t,o({get:a,set:s,context:e},u))}),J=X({equals:T.structural}),q=function(e,t,n){if("string"==typeof t)return X.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return X.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new oe(r)};function $(e,t){var n=function(){return Y(e,t,this,arguments)};return n.isMobxAction=!0,n}function Y(e,t,n,r){var o=function(e,t,n,r){var o=!1,i=0;var a=he();Ne();var s=Z(!0);return{prevDerivation:a,prevAllowStateChanges:s,notifySpy:o,startTime:i}}(),i=!0;try{var a=t.apply(n,r);return i=!1,a}finally{i?(we.suppressReactionErrors=i,G(o),we.suppressReactionErrors=!1):G(o)}}function G(e){Q(e.prevAllowStateChanges),Te(),de(e.prevDerivation),e.notifySpy}function Z(e){var t=we.allowStateChanges;return we.allowStateChanges=e,t}function Q(e){we.allowStateChanges=e}q.struct=J;var ee,te,ne=function(e){function t(t,n,r,o,i){void 0===r&&(r="ObservableValue@"+l()),void 0===o&&(o=!0),void 0===i&&(i=T.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=i,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),a}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){this.value;if((e=this.prepareNewValue(e))!==we.UNCHANGED){0,this.setNewValue(e)}},t.prototype.prepareNewValue=function(e){if(ce(this),dt(this)){var t=yt(this,{object:this,type:"update",newValue:e});if(!t)return we.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?we.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),vt(this)&&bt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return mt(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),gt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return x(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(E),re=g("ObservableValue",ne),oe=function(){function e(e){this.dependenciesState=t.IDerivationState.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=t.IDerivationState.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+l(),this.value=new ae(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=te.NONE,this.derivation=e.get,this.name=e.name||"ComputedValue@"+l(),e.set&&(this.setter=$(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?T.structural:T.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==t.IDerivationState.UP_TO_DATE)return;e.lowestObserverState=t.IDerivationState.POSSIBLY_STALE,e.observers.forEach(function(n){n.dependenciesState===t.IDerivationState.UP_TO_DATE&&(n.dependenciesState=t.IDerivationState.POSSIBLY_STALE,n.isTracing!==te.NONE&&_e(n,e),n.onBecomeStale())})}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},e.prototype.get=function(){this.isComputing&&p("Cycle detected in computation "+this.name+": "+this.derivation),0!==we.inBatch||0!==this.observers.size||this.keepAlive?(Ae(this),ue(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===t.IDerivationState.STALE)return;e.lowestObserverState=t.IDerivationState.STALE,e.observers.forEach(function(n){n.dependenciesState===t.IDerivationState.POSSIBLY_STALE?n.dependenciesState=t.IDerivationState.STALE:n.dependenciesState===t.IDerivationState.UP_TO_DATE&&(e.lowestObserverState=t.IDerivationState.UP_TO_DATE)})}(this)):ue(this)&&(this.warnAboutUntrackedRead(),Ne(),this.value=this.computeValue(!1),Te());var e=this.value;if(se(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(se(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){f(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else f(!1,!1)},e.prototype.trackAndCompute=function(){var e=this.value,n=this.dependenciesState===t.IDerivationState.NOT_TRACKING,r=this.computeValue(!0),o=n||se(e)||se(r)||!this.equals(e,r);return o&&(this.value=r),o},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,we.computationDepth++,e)t=le(this,this.derivation,this.scope);else if(!0===we.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(n){t=new ae(n)}return we.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(pe(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return Le(function(){var i=n.get();if(!r||t){var a=he();e({type:"update",object:n,newValue:i,oldValue:o}),de(a)}r=!1,o=i})},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return x(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),ie=g("ComputedValue",oe);(ee=t.IDerivationState||(t.IDerivationState={}))[ee.NOT_TRACKING=-1]="NOT_TRACKING",ee[ee.UP_TO_DATE=0]="UP_TO_DATE",ee[ee.POSSIBLY_STALE=1]="POSSIBLY_STALE",ee[ee.STALE=2]="STALE",function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(te||(te={}));var ae=function(){return function(e){this.cause=e}}();function se(e){return e instanceof ae}function ue(e){switch(e.dependenciesState){case t.IDerivationState.UP_TO_DATE:return!1;case t.IDerivationState.NOT_TRACKING:case t.IDerivationState.STALE:return!0;case t.IDerivationState.POSSIBLY_STALE:for(var n=he(),r=e.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(ie(a)){if(we.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return de(n),!0}if(e.dependenciesState===t.IDerivationState.STALE)return de(n),!0}}return me(e),de(n),!1}}function ce(e){var t=e.observers.size>0;we.computationDepth>0&&t&&p(!1),we.allowStateChanges||!t&&"strict"!==we.enforceActions||p(!1)}function le(e,n,r){me(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++we.runId;var o,i=we.trackingDerivation;if(we.trackingDerivation=e,!0===we.disableErrorBoundaries)o=n.call(r);else try{o=n.call(r)}catch(a){o=new ae(a)}return we.trackingDerivation=i,function(e){for(var n=e.observing,r=e.observing=e.newObserving,o=t.IDerivationState.UP_TO_DATE,i=0,a=e.unboundDepsCount,s=0;s<a;s++){var u=r[s];0===u.diffValue&&(u.diffValue=1,i!==s&&(r[i]=u),i++),u.dependenciesState>o&&(o=u.dependenciesState)}r.length=i,e.newObserving=null,a=n.length;for(;a--;){var u=n[a];0===u.diffValue&&Ee(u,e),u.diffValue=0}for(;i--;){var u=r[i];1===u.diffValue&&(u.diffValue=0,Se(u,e))}o!==t.IDerivationState.UP_TO_DATE&&(e.dependenciesState=o,e.onBecomeStale())}(e),o}function pe(e){var n=e.observing;e.observing=[];for(var r=n.length;r--;)Ee(n[r],e);e.dependenciesState=t.IDerivationState.NOT_TRACKING}function fe(e){var t=he();try{return e()}finally{de(t)}}function he(){var e=we.trackingDerivation;return we.trackingDerivation=null,e}function de(e){we.trackingDerivation=e}function me(e){if(e.dependenciesState!==t.IDerivationState.UP_TO_DATE){e.dependenciesState=t.IDerivationState.UP_TO_DATE;for(var n=e.observing,r=n.length;r--;)n[r].lowestObserverState=t.IDerivationState.UP_TO_DATE}}var ye=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","disableErrorBoundaries","runId","UNCHANGED"],ve=function(){return function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}}(),ge=!0,be=!1,we=function(){var e=xe();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ge=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new ve).version&&(ge=!1),ge?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ve):(setTimeout(function(){be||p("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ve)}();function xe(){return"undefined"!=typeof window?window:n}function Se(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Ee(e,t){e.observers.delete(t),0===e.observers.size&&Oe(e)}function Oe(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,we.pendingUnobservations.push(e))}function Ne(){we.inBatch++}function Te(){if(0==--we.inBatch){ke();for(var e=we.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof oe&&n.suspend())}we.pendingUnobservations=[]}}function Ae(e){var t=we.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&we.inBatch>0&&Oe(e),!1)}function _e(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===te.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name);t.dependencies&&t.dependencies.forEach(function(t){return e(t,n,r+1)})}(Ye(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof oe?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var Ce=function(){function e(e,n,r){void 0===e&&(e="Reaction@"+l()),this.name=e,this.onInvalidate=n,this.errorHandler=r,this.observing=[],this.newObserving=[],this.dependenciesState=t.IDerivationState.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+l(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=te.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,we.pendingReactions.push(this),ke())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Ne(),this._isScheduled=!1,ue(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}Te()}},e.prototype.track=function(e){Ne();this._isRunning=!0;var t=le(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&pe(this),se(t)&&this.reportExceptionInDerivation(t.cause),Te()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(we.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";we.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),we.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ne(),pe(this),Te()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[S]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),ct(this,e)},e}();var je=100,Me=function(e){return e()};function ke(){we.inBatch>0||we.isRunningReactions||Me(De)}function De(){we.isRunningReactions=!0;for(var e=we.pendingReactions,t=0;e.length>0;){++t===je&&(console.error("Reaction doesn't converge to a stable state after "+je+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}we.isRunningReactions=!1}var Pe=g("Reaction",Ce);function Ie(e){var t=Me;Me=function(n){return e(function(){return t(n)})}}function Re(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function ze(){p(!1)}function Ve(e){return function(t,n,r){if(r){if(r.value)return{value:$(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return $(e,o.call(this))}}}return function(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){v(this,n,Be(e,t))}})}}(e).apply(this,arguments)}}var Be=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?$(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?$(e,t):1===arguments.length&&"string"==typeof e?Ve(e):!0!==r?Ve(t).apply(null,arguments):void v(e,t,$(e.name||t,n.value))};function Fe(e,t,n){v(e,t,$(t,n.bind(e)))}function Le(e,t){void 0===t&&(t=c);var n,r=t&&t.name||e.name||"Autorun@"+l();if(!t.scheduler&&!t.delay)n=new Ce(r,function(){this.track(a)},t.onError);else{var o=Ue(t),i=!1;n=new Ce(r,function(){i||(i=!0,o(function(){i=!1,n.isDisposed||n.track(a)}))},t.onError)}function a(){e(n)}return n.schedule(),n.getDisposer()}Be.bound=function(e,t,n,r){return!0===r?(Fe(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Fe(this,t,n.value||n.initializer.call(this)),this[t]},set:ze}:{enumerable:!1,configurable:!0,set:function(e){Fe(this,t,e)},get:function(){}}};var He=function(e){return e()};function Ue(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:He}function We(e,t,n){return Xe("onBecomeObserved",e,t,n)}function Ke(e,t,n){return Xe("onBecomeUnobserved",e,t,n)}function Xe(e,t,n,r){var o="string"==typeof n?Ft(t,n):Ft(t),i="string"==typeof n?r:n,a=e+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[e]?p(!1):function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}function Je(e,t,n,r){var o=qe(r=z(r));return M(e),Pt(e,r.name,o.enhancer),t&&$e(e,t,n,o),e}function qe(e){return e.defaultDecorator||(!1===e.deep?F:V)}function $e(e,t,n,r){Ne();try{for(var o in t){var i=Object.getOwnPropertyDescriptor(t,o);0;var a=(n&&o in n?n[o]:i.get?X:r)(e,o,i,!0);a&&Object.defineProperty(e,o,a)}}finally{Te()}}function Ye(e,t){return Ge(Ft(e,t))}function Ge(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n).map(Ge)),r}function Ze(e){var t,n={name:e.name};return(t=e).observers&&t.observers.size>0&&(n.observers=Array.from(function(e){return e.observers}(e)).map(Ze)),n}var Qe=0;function et(e){"function"==typeof e.cancel&&e.cancel()}function tt(e,t){if(null==e)return!1;if(void 0!==t){if(!1===Bt(e))return!1;if(!e[S].values.has(t))return!1;var n=Ft(e,t);return ie(n)}return ie(e)}function nt(e,t){return null!=e&&(void 0!==t?!!Bt(e)&&e[S].values.has(t):Bt(e)||!!e[S]||O(e)||Pe(e)||ie(e))}function rt(e){return 1!==arguments.length&&p(!1),nt(e)}function ot(e){return Bt(e)?e[S].getKeys():Ct(e)?Array.from(e.keys()):kt(e)?Array.from(e.keys()):Nt(e)?e.map(function(e,t){return t}):p(!1)}function it(e,t,n){if(2!==arguments.length)if(Bt(e)){var r=e[S];r.values.get(t)?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(Ct(e))e.set(t,n);else{if(!Nt(e))return p(!1);"number"!=typeof t&&(t=parseInt(t,10)),f(t>=0,"Not a valid index: '"+t+"'"),Ne(),t>=e.length&&(e.length=t+1),e[t]=n,Te()}else{Ne();var o=t;try{for(var i in o)it(e,i,o[i])}finally{Te()}}}function at(e,t){return Bt(e)?Lt(e).has(t):Ct(e)?e.has(t):kt(e)?e.has(t):Nt(e)?t>=0&&t<e.length:p(!1)}var st={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function ut(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=function(e){switch(e.length){case 0:return we.trackingDerivation;case 1:return Ft(e[0]);case 2:return Ft(e[0],e[1])}}(e);if(!r)return p(!1);r.isTracing===te.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?te.BREAK:te.LOG}function lt(e,t){void 0===t&&(t=void 0),Ne();try{return e.apply(t)}finally{Te()}}function pt(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout(function(){if(!i[S].isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}},n.timeout)),n.name=n.name||"When@"+l();var o=$(n.name+"-effect",t),i=Le(function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())},n);return i}function ft(e){return e[S]}var ht={has:function(e,t){if(t===S||"constructor"===t||t===A)return!0;var n=ft(e);return"string"==typeof t?n.has(t):t in e},get:function(e,t){if(t===S||"constructor"===t||t===A)return e[t];var n=ft(e),r=n.values.get(t);if(r instanceof E){var o=r.get();return void 0===o&&n.has(t),o}return"string"==typeof t&&n.has(t),e[t]},set:function(e,t,n){return"string"==typeof t&&(it(e,t,n),!0)},deleteProperty:function(e,t){return"string"==typeof t&&(ft(e).remove(t),!0)},ownKeys:function(e){return ft(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return p("Dynamic observable objects cannot be frozen"),!1}};function dt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function mt(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),h(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function yt(e,t){var n=he();try{var r=e.interceptors;if(r)for(var o=0,i=r.length;o<i&&(f(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{de(n)}}function vt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function gt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),h(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function bt(e,t){var n=he(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);de(n)}}var wt={get:function(e,t){return t===S?e[S]:"length"===t?e[S].getArrayLength():"number"==typeof t?St.get.call(e,t):"string"!=typeof t||isNaN(t)?St.hasOwnProperty(t)?St[t]:e[t]:St.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t?(e[S].setArrayLength(n),!0):"number"==typeof t?(St.set.call(e,t,n),!0):!isNaN(t)&&(St.set.call(e,parseInt(t),n),!0)},preventExtensions:function(e){return p("Observable arrays cannot be frozen"),!1}};var xt=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new E(e||"ObservableArray@"+l()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return mt(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),gt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;ce(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=u),dt(this)){var i=yt(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!i)return u;t=i.removedCount,n=i.added}n=0===n.length?n:n.map(function(e){return r.enhancer(e,void 0)});var a=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,a),this.dehanceValues(a)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&!1,o=vt(this),i=o||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;this.atom.reportChanged(),o&&bt(this,i)},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&!1,o=vt(this),i=o||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom.reportChanged(),o&&bt(this,i)},e}(),St={intercept:function(e){return this[S].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[S].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[S];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[S];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[S].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[S];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[S].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[S];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[S],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[S];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[S],r=n.values;if(e<r.length){ce(n.atom);var o=r[e];if(dt(n)){var i=yt(n,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){St[e]=function(){var t=this[S];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)}});var Et,Ot=g("ObservableArrayAdministration",xt);function Nt(e){return m(e)&&Ot(e[S])}var Tt,At={},_t=function(){function e(e,t,n){if(void 0===t&&(t=D),void 0===n&&(n="ObservableMap@"+l()),this.enhancer=t,this.name=n,this[Et]=At,this._keysAtom=N(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){return this._hasMap.has(e)?this._hasMap.get(e).get():this._updateHasMapEntry(e,!1).get()},e.prototype.set=function(e,t){var n=this._has(e);if(dt(this)){var r=yt(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(dt(this)&&!(r=yt(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=vt(this),r=n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return lt(function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),n&&bt(this,r),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);return n?n.setNewValue(t):(n=new ne(t,P,this.name+"."+e+"?",!1),this._hasMap.set(e,n)),n},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==we.UNCHANGED){var r=vt(this),o=r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;0,n.setNewValue(t),r&&bt(this,o)}},e.prototype._addValue=function(e,t){var n=this;ce(this._keysAtom),lt(function(){var r=new ne(t,n.enhancer,n.name+"."+e,!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()});var r=vt(this),o=r?{type:"add",object:this,name:e,newValue:t}:null;r&&bt(this,o)},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=0,n=Array.from(this.keys());return qt({next:function(){return t<n.length?{value:e.get(n[t++]),done:!1}:{done:!0}}})},e.prototype.entries=function(){var e=this,t=0,n=Array.from(this.keys());return qt({next:function(){if(t<n.length){var r=n[t++];return{value:[r,e.get(r)],done:!1}}return{done:!0}}})},e.prototype[(Et=S,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var o=i(this),s=o.next();!s.done;s=o.next()){var u=a(s.value,2),c=u[0],l=u[1];e.call(t,l,c,this)}}catch(p){n={error:p}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return Ct(e)&&(e=e.toJS()),lt(function(){if(y(e))Object.keys(e).forEach(function(n){return t.set(n,e[n])});else if(Array.isArray(e))e.forEach(function(e){var n=a(e,2),r=n[0],o=n[1];return t.set(r,o)});else if(b(e)){if(e.constructor!==Map)return p("Cannot initialize from classes that inherit from Map: "+e.constructor.name);e.forEach(function(e,n){return t.set(n,e)})}else null!=e&&p("Cannot initialize map from "+e)}),this},e.prototype.clear=function(){var e=this;lt(function(){fe(function(){var t,n;try{for(var r=i(e.keys()),o=r.next();!o.done;o=r.next()){var a=o.value;e.delete(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})})},e.prototype.replace=function(e){var t=this;return lt(function(){var n,r=y(n=e)?Object.keys(n):Array.isArray(n)?n.map(function(e){return a(e,1)[0]}):b(n)||Ct(n)?Array.from(n.keys()):p("Cannot get keys from '"+n+"'");Array.from(t.keys()).filter(function(e){return-1===r.indexOf(e)}).forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=i(this),o=r.next();!o.done;o=r.next()){var s=a(o.value,2),u=s[0],c=s[1];n[""+u]=c}}catch(l){e={error:l}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map(function(t){return t+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return gt(this,e)},e.prototype.intercept=function(e){return mt(this,e)},e}(),Ct=g("ObservableMap",_t),jt={},Mt=function(){function e(e,t,n){if(void 0===t&&(t=D),void 0===n&&(n="ObservableSet@"+l()),this.name=n,this[Tt]=jt,this._data=new Set,this._atom=N(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;lt(function(){fe(function(){var t,n;try{for(var r=i(e._data.values()),o=r.next();!o.done;o=r.next()){var a=o.value;e.delete(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}})})},e.prototype.forEach=function(e,t){var n,r;try{for(var o=i(this),a=o.next();!a.done;a=o.next()){var s=a.value;e.call(t,s,s,this)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((ce(this._atom),dt(this))&&!(r=yt(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){lt(function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()});var n=vt(this),r=n?{type:"add",object:this,newValue:e}:null;0,n&&bt(this,r)}return this},e.prototype.delete=function(e){var t=this;if(dt(this)&&!(r=yt(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=vt(this),r=n?{type:"delete",object:this,oldValue:e}:null;return lt(function(){t._atom.reportChanged(),t._data.delete(e)}),n&&bt(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return qt({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return qt({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return kt(e)&&(e=e.toJS()),lt(function(){Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):w(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&p("Cannot initialize set from "+e)}),this},e.prototype.observe=function(e,t){return gt(this,e)},e.prototype.intercept=function(e){return mt(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(Tt=S,Symbol.iterator)]=function(){return this.values()},e}(),kt=g("ObservableSet",Mt),Dt=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new E(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof oe)r.set(t);else{if(dt(this)){if(!(i=yt(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=i.newValue}if((t=r.prepareNewValue(t))!==we.UNCHANGED){var o=vt(this),i=o?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;0,r.setNewValue(t),o&&bt(this,i)}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new ne(r,P,this.name+"."+e.toString()+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(dt(this)){var o=yt(this,{object:this.proxy||r,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var i=new ne(t,n,this.name+"."+e,!1);this.values.set(e,i),t=i.value,Object.defineProperty(r,e,function(e){return It[e]||(It[e]={configurable:!0,enumerable:!0,get:function(){return this[S].read(e)},set:function(t){this[S].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r,o,i,a=this.target;n.name=n.name||this.name+"."+t,this.values.set(t,new oe(n)),(e===a||(r=e,o=t,!(i=Object.getOwnPropertyDescriptor(r,o))||!1!==i.configurable&&!1!==i.writable))&&Object.defineProperty(e,t,function(e){return Rt[e]||(Rt[e]={configurable:!1,enumerable:!1,get:function(){return zt(this).read(e)},set:function(t){zt(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(dt(this))if(!(a=yt(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Ne();var n=vt(this),r=this.values.get(e),o=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!1)}delete this.target[e];var a=n?{type:"remove",object:this.proxy||t,oldValue:o,name:e}:null;0,n&&bt(this,a)}finally{Te()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return gt(this,e)},e.prototype.intercept=function(e){return mt(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=vt(this),r=n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&bt(this,r),this.pendingKeys){var o=this.pendingKeys.get(e);o&&o.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=i(this.values),o=r.next();!o.done;o=r.next()){var s=a(o.value,2),u=s[0];s[1]instanceof ne&&n.push(u)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function Pt(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=D),Object.prototype.hasOwnProperty.call(e,S))return e[S];y(e)||(t=(e.constructor.name||"ObservableObject")+"@"+l()),t||(t="ObservableObject@"+l());var r=new Dt(e,new Map,t,n);return v(e,S,r),r}var It=Object.create(null),Rt=Object.create(null);function zt(e){var t=e[S];return t||(M(e),e[S])}var Vt=g("ObservableObjectAdministration",Dt);function Bt(e){return!!m(e)&&(M(e),Vt(e[S]))}function Ft(e,t){if("object"==typeof e&&null!==e){if(Nt(e))return void 0!==t&&p(!1),e[S].atom;if(kt(e))return e[S];if(Ct(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||p(!1),r)}var r;if(M(e),t&&!e[S]&&e[t],Bt(e))return t?((r=e[S].values.get(t))||p(!1),r):p(!1);if(O(e)||ie(e)||Pe(e))return e}else if("function"==typeof e&&Pe(e[S]))return e[S];return p(!1)}function Lt(e,t){return e||p("Expecting some object"),void 0!==t?Lt(Ft(e,t)):O(e)||ie(e)||Pe(e)?e:Ct(e)||kt(e)?e:(M(e),e[S]?e[S]:void p(!1))}function Ht(e,t){return(void 0!==t?Ft(e,t):Bt(e)||Ct(e)||kt(e)?Lt(e):Ft(e)).name}var Ut=Object.prototype.toString;function Wt(e,t){return Kt(e,t)}function Kt(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&function(e,t,n,r){e=Xt(e),t=Xt(t);var o=Ut.call(e);if(o!==Ut.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!("function"==typeof a&&a instanceof a&&"function"==typeof s&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];var u=(n=n||[]).length;for(;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),i){if((u=e.length)!==t.length)return!1;for(;u--;)if(!Kt(e[u],t[u],n,r))return!1}else{var c,l=Object.keys(e);if(u=l.length,Object.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!Jt(t,c)||!Kt(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0}(e,t,n,r)}function Xt(e){return Nt(e)?e.slice():b(e)||Ct(e)?Array.from(e.entries()):w(e)||kt(e)?Array.from(e.entries()):e}function Jt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qt(e){return e[Symbol.iterator]=$t,e}function $t(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Re,extras:{getDebugName:Ht},$mobx:S}),t.Reaction=Ce,t.untracked=fe,t.createAtom=N,t.spy=Re,t.comparer=T,t.isObservableObject=Bt,t.isBoxedObservable=re,t.isObservableArray=Nt,t.ObservableMap=_t,t.isObservableMap=Ct,t.ObservableSet=Mt,t.isObservableSet=kt,t.transaction=lt,t.observable=W,t.computed=q,t.isObservable=rt,t.isObservableProp=function(e,t){return"string"!=typeof t?p(!1):nt(e,t)},t.isComputed=function(e){return arguments.length>1?p(!1):tt(e)},t.isComputedProp=function(e,t){return"string"!=typeof t?p(!1):tt(e,t)},t.extendObservable=Je,t.observe=function(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return Lt(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return Lt(e).observe(t,n)}(e,t,n)},t.intercept=function(e,t,n){return"function"==typeof n?function(e,t,n){return Lt(e,t).intercept(n)}(e,t,n):function(e,t){return Lt(e).intercept(t)}(e,t)},t.autorun=Le,t.reaction=function(e,t,n){void 0===n&&(n=c);var r,o,i,a=n.name||"Reaction@"+l(),s=Be(a,n.onError?(r=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e)}}):t),u=!n.scheduler&&!n.delay,p=Ue(n),f=!0,h=!1,d=n.compareStructural?T.structural:n.equals||T.default,m=new Ce(a,function(){f||u?y():h||(h=!0,p(y))},n.onError);function y(){if(h=!1,!m.isDisposed){var t=!1;m.track(function(){var n=e(m);t=f||!d(i,n),i=n}),f&&n.fireImmediately&&s(i,m),f||!0!==t||s(i,m),f&&(f=!1)}}return m.schedule(),m.getDisposer()},t.when=function(e,t,n){return 1===arguments.length||t&&"object"==typeof t?function(e,t){var n,r=new Promise(function(r,i){var a=pt(e,r,o({},t,{onError:i}));n=function(){a(),i("WHEN_CANCELLED")}});return r.cancel=n,r}(e,t):pt(e,t,n||{})},t.action=Be,t.isAction=function(e){return"function"==typeof e&&!0===e.isMobxAction},t.runInAction=function(e,t){return"string"==typeof e||e.name,Y(0,"function"==typeof e?e:t,this,void 0)},t.keys=ot,t.values=function(e){return Bt(e)?ot(e).map(function(t){return e[t]}):Ct(e)?ot(e).map(function(t){return e.get(t)}):kt(e)?Array.from(e.values()):Nt(e)?e.slice():p(!1)},t.entries=function(e){return Bt(e)?ot(e).map(function(t){return[t,e[t]]}):Ct(e)?ot(e).map(function(t){return[t,e.get(t)]}):kt(e)?Array.from(e.entries()):Nt(e)?e.map(function(e,t){return[t,e]}):p(!1)},t.set=it,t.remove=function(e,t){if(Bt(e))e[S].remove(t);else if(Ct(e))e.delete(t);else if(kt(e))e.delete(t);else{if(!Nt(e))return p(!1);"number"!=typeof t&&(t=parseInt(t,10)),f(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}},t.has=at,t.get=function(e,t){if(at(e,t))return Bt(e)?e[t]:Ct(e)?e.get(t):Nt(e)?e[t]:p(!1)},t.decorate=function(e,t){var n="function"==typeof e?e.prototype:e,r=function(e){var r=t[e];Array.isArray(r)||(r=[r]);var o=Object.getOwnPropertyDescriptor(n,e),i=r.reduce(function(t,r){return r(n,e,t)},o);i&&Object.defineProperty(n,e,i)};for(var o in t)r(o);return e},t.configure=function(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.disableErrorBoundaries,o=e.reactionScheduler;if(!0===e.isolateGlobalState&&((we.pendingReactions.length||we.inBatch||we.isRunningReactions)&&p("isolateGlobalState should be called before MobX is running any reactions"),be=!0,ge&&(0==--xe().__mobxInstanceCount&&(xe().__mobxGlobals=void 0),we=new ve)),void 0!==t){var i=void 0;switch(t){case!0:case"observed":i=!0;break;case!1:case"never":i=!1;break;case"strict":case"always":i="strict";break;default:p("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}we.enforceActions=i,we.allowStateChanges=!0!==i&&"strict"!==i}void 0!==n&&(we.computedRequiresReaction=!!n),void 0!==r&&(!0===r&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),we.disableErrorBoundaries=!!r),o&&Ie(o)},t.onBecomeObserved=We,t.onBecomeUnobserved=Ke,t.flow=function(e){1!==arguments.length&&p("Flow expects one 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=arguments,o=++Qe,i=Be(t+" - runid: "+o+" - init",e).apply(this,r),a=void 0,s=new Promise(function(e,r){var s=0;function u(e){var n;a=void 0;try{n=Be(t+" - runid: "+o+" - yield "+s++,i.next).call(i,e)}catch(u){return r(u)}l(n)}function c(e){var n;a=void 0;try{n=Be(t+" - runid: "+o+" - yield "+s++,i.throw).call(i,e)}catch(u){return r(u)}l(n)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(a=Promise.resolve(t.value)).then(u,c);t.then(l,r)}n=r,u(void 0)});return s.cancel=Be(t+" - runid: "+o+" - cancel",function(){try{a&&et(a);var e=i.return(),t=Promise.resolve(e.value);t.then(d,d),et(t),n(new Error("FLOW_CANCELLED"))}catch(r){n(r)}}),s}},t.toJS=function(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=st),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!rt(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(re(t))return e(t.get(),n,r);if(rt(t)&&ot(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(Nt(t)||Array.isArray(t)){var o=ut(r,t,[],n),i=t.map(function(t){return e(t,n,r)});o.length=i.length;for(var a=0,s=i.length;a<s;a++)o[a]=i[a];return o}if(kt(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){var u=ut(r,t,new Set,n);return t.forEach(function(t){u.add(e(t,n,r))}),u}var c=ut(r,t,[],n);return t.forEach(function(t){c.push(e(t,n,r))}),c}if(Ct(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=ut(r,t,new Map,n);return t.forEach(function(t,o){l.set(o,e(t,n,r))}),l}var p=ut(r,t,{},n);return t.forEach(function(t,o){p[o]=e(t,n,r)}),p}var f=ut(r,t,{},n);for(var h in t)f[h]=e(t[h],n,r);return f}(e,t,n)},t.trace=ct,t.getDependencyTree=Ye,t.getObserverTree=function(e,t){return Ze(Ft(e,t))},t._resetGlobalState=function(){var e=new ve;for(var t in e)-1===ye.indexOf(t)&&(we[t]=e[t]);we.allowStateChanges=!we.enforceActions},t._getGlobalState=function(){return we},t.getDebugName=Ht,t.getAtom=Ft,t._getAdministration=Lt,t._allowStateChanges=function(e,t){var n,r=Z(e);try{n=t()}finally{Q(r)}return n},t._allowStateChangesInsideComputed=function(e){var t,n=we.computationDepth;we.computationDepth=0;try{t=e()}finally{we.computationDepth=n}return t},t.isArrayLike=function(e){return Array.isArray(e)||Nt(e)},t.$mobx=S,t._isComputingDerivation=function(){return null!==we.trackingDerivation},t.onReactionError=function(e){return we.globalReactionErrorHandlers.push(e),function(){var t=we.globalReactionErrorHandlers.indexOf(e);t>=0&&we.globalReactionErrorHandlers.splice(t,1)}},t._interceptReads=function(e,t,n){var r;if(Ct(e)||Nt(e)||re(e))r=Lt(e);else{if(!Bt(e))return p(!1);if("string"!=typeof t)return p(!1);r=Lt(e,t)}return void 0!==r.dehancer?p(!1):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})}}).call(this,n("5IsQ"),n("dm4u"))},qKnW:function(e,t){var n=null,r=["Webkit","Moz","O","ms"];e.exports=function(e){n||(n=document.createElement("div"));var t=n.style;if(e in t)return e;for(var o=e.charAt(0).toUpperCase()+e.slice(1),i=r.length;i>=0;i--){var a=r[i]+o;if(a in t)return a}return!1}},qOno:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},rHeA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},rQBY:function(e,t,n){(function(t){for(var r=n("TGEZ"),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],u=o["cancel"+a]||o["cancelRequest"+a],c=0;!s&&c<i.length;c++)s=o[i[c]+"Request"+a],u=o[i[c]+"Cancel"+a]||o[i[c]+"CancelRequest"+a];if(!s||!u){var l=0,p=0,f=[];s=function(e){if(0===f.length){var t=r(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return f.push({handle:++p,callback:e,cancelled:!1}),p},u=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){u.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}}).call(this,n("dm4u"))},tLiR:function(e,t,n){n("X0zA"),e.exports=n("TaGV").Number.isNaN},yLsn:function(e,t,n){e.exports=n("AT0B")}},[["gHrF",1,0,2]]]);
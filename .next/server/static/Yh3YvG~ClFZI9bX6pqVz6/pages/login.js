module.exports=function(e){var t=require("../../../ssr-module-cache.js");function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}},a=!0;try{e[r].call(o.exports,o,o.exports,n),a=!1}finally{a&&delete t[r]}return o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}({"/+oN":function(e,t){e.exports=require("core-js/library/fn/object/get-prototype-of")},"0bYB":function(e,t){e.exports=require("isomorphic-unfetch")},"1qCV":function(e,t,n){e.exports=n("qJj/")},5:function(e,t,n){e.exports=n("O2ls")},"6Ndq":function(e,t,n){e.exports=n("o5io")},"JYC+":function(e,t,n){e.exports=n("fozc")},LkAs:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},O2ls:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return h});var r=n("UrUy"),o=n.n(r),a=n("Rbzu"),c=n("JYC+"),u=n.n(c),i=n("R3/3"),s=n("LkAs"),f=n("bMj6"),l=n("hZod"),p=n("tEuJ"),b=n("YKN3"),d=n("azxR"),y=n("0bYB"),m=n.n(y),j=n("cDcd"),O=n.n(j),x=n("lTgw"),h=(n("ukGE"),function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,c=new Array(r),p=0;p<r;p++)c[p]=arguments[p];return n=Object(f.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c))),Object(d.a)(Object(b.a)(Object(b.a)(n)),"username",O.a.createRef()),Object(d.a)(Object(b.a)(Object(b.a)(n)),"password",O.a.createRef()),Object(d.a)(Object(b.a)(Object(b.a)(n)),"state",{message:""}),Object(d.a)(Object(b.a)(Object(b.a)(n)),"componentDidMount",function(){n.context.user.anonymous?n.username.current.focus():n.handleRedirect()}),Object(d.a)(Object(b.a)(Object(b.a)(n)),"handleKeyPress",function(e){"Enter"===e.key&&n.handleSubmit()}),Object(d.a)(Object(b.a)(Object(b.a)(n)),"handleUsername",function(e){var t=e.target;t.value=t.value.toLowerCase()}),Object(d.a)(Object(b.a)(Object(b.a)(n)),"handleRedirect",function(){var e=n.context.router,t=e.query.redirectTo;t&&e.push(t)}),Object(d.a)(Object(b.a)(Object(b.a)(n)),"handleSubmit",Object(i.a)(o.a.mark(function e(){var t,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.username.current.value,r=n.password.current.value,e.next=4,m()("/api/user/auth/login",{body:u()({password:r,username:t}),headers:{"Content-Type":"application/json"},method:"POST"});case 4:return c=e.sent,e.next=7,c.json();case 7:i=e.sent,200===c.status?(n.context.setUser(i),n.context.updateCampaign(),n.handleRedirect()):n.setState(Object(a.a)({message:""},i));case 9:case"end":return e.stop()}},e,this)}))),Object(d.a)(Object(b.a)(Object(b.a)(n)),"renderLoggedIn",function(){return O.a.createElement(O.a.Fragment,null,O.a.createElement("p",null,"You are currently logged in as user ",O.a.createElement("b",null,n.context.user.username),"."),O.a.createElement("div",{className:"buttons"},O.a.createElement("button",{className:"link",onClick:n.context.logOff},"Log Off")))}),Object(d.a)(Object(b.a)(Object(b.a)(n)),"renderLogIn",function(){return O.a.createElement(O.a.Fragment,null,O.a.createElement("h3",null,"Log In"),O.a.createElement("input",{type:"text",placeholder:"Username or Email",ref:n.username,onChange:n.handleUsername,onKeyPress:n.handleKeyPress}),O.a.createElement("input",{type:"password",placeholder:"Password",ref:n.password,onKeyPress:n.handleKeyPress}),O.a.createElement("div",{className:"buttons"},O.a.createElement("button",{className:"safe",onClick:n.handleSubmit},"Submit")),O.a.createElement("center",{className:"message-field"},n.state.message))}),Object(d.a)(Object(b.a)(Object(b.a)(n)),"render",function(){var e=n.context.user.anonymous;return O.a.createElement("div",{className:"login page"},O.a.createElement("div",{className:"container"},e?n.renderLogIn():n.renderLoggedIn()))}),n}return Object(p.a)(t,e),t}(j.Component));Object(d.a)(h,"contextType",x.a)},OKNm:function(e,t,n){e.exports=n("Wk4r")},"R3/3":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("ZOIa"),o=n.n(r);function a(e,t,n,r,a,c,u){try{var i=e[c](u),s=i.value}catch(e){return void n(e)}i.done?t(s):o.a.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new o.a(function(r,o){var c=e.apply(t,n);function u(e){a(c,r,o,u,i,"next",e)}function i(e){a(c,r,o,u,i,"throw",e)}u(void 0)})}}},Rbzu:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("tvLF"),o=n.n(r),a=n("s4hn"),c=n.n(a),u=n("1qCV"),i=n.n(u),s=n("azxR");function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=i()(n);"function"==typeof c.a&&(r=r.concat(c()(n).filter(function(e){return o()(n,e).enumerable}))),r.forEach(function(t){Object(s.a)(e,t,n[t])})}return e}},TUA0:function(e,t){e.exports=require("core-js/library/fn/object/define-property")},UrUy:function(e,t,n){e.exports=n("cu1A")},Wk4r:function(e,t){e.exports=require("core-js/library/fn/object/set-prototype-of")},XzKa:function(e,t,n){e.exports=n("vqFK")},YKN3:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},Z6Kq:function(e,t){e.exports=require("core-js/library/fn/object/get-own-property-descriptor")},ZOIa:function(e,t,n){e.exports=n("aC71")},aC71:function(e,t){e.exports=require("core-js/library/fn/promise")},azxR:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("hHgk"),o=n.n(r);function a(e,t,n){return t in e?o()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},bMj6:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("gDVU"),o=n("YKN3");function a(e,t){return!t||"object"!==Object(r.a)(t)&&"function"!=typeof t?Object(o.a)(e):t}},cDcd:function(e,t){e.exports=require("react")},cu1A:function(e,t){e.exports=require("regenerator-runtime")},fozc:function(e,t){e.exports=require("core-js/library/fn/json/stringify")},gDVU:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("t+lh"),o=n.n(r),a=n("XzKa"),c=n.n(a);function u(e){return(u="function"==typeof c.a&&"symbol"==typeof o.a?function(e){return typeof e}:function(e){return e&&"function"==typeof c.a&&e.constructor===c.a&&e!==c.a.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof c.a&&"symbol"===u(o.a)?function(e){return u(e)}:function(e){return e&&"function"==typeof c.a&&e.constructor===c.a&&e!==c.a.prototype?"symbol":u(e)})(e)}},"gHn/":function(e,t){e.exports=require("core-js/library/fn/symbol/iterator")},hHgk:function(e,t,n){e.exports=n("TUA0")},hZod:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("jDdP"),o=n.n(r),a=n("OKNm"),c=n.n(a);function u(e){return(u=c.a?o.a:function(e){return e.__proto__||o()(e)})(e)}},jDdP:function(e,t,n){e.exports=n("/+oN")},k1wZ:function(e,t){e.exports=require("core-js/library/fn/object/get-own-property-symbols")},lTgw:function(e,t,n){"use strict";var r=n("cDcd"),o=n.n(r);t.a=o.a.createContext({campaign:{createdAt:null,createdBy:{},editors:[],lastUpdatedAt:null,lastUpdatedBy:{},navigation:[],owners:[],secret:!1,subdomain:"",theme:{background:"#fff",fontFamily:"Ubuntu",normalText:"#333",primary:"#42afe3",primaryText:"#fff"},title:"New Campaign",version:0},user:{anonymous:!0}})},o5io:function(e,t){e.exports=require("core-js/library/fn/object/create")},"qJj/":function(e,t){e.exports=require("core-js/library/fn/object/keys")},s4hn:function(e,t,n){e.exports=n("k1wZ")},"t+lh":function(e,t,n){e.exports=n("gHn/")},tEuJ:function(e,t,n){"use strict";var r=n("6Ndq"),o=n.n(r),a=n("OKNm"),c=n.n(a);function u(e,t){return(u=c.a||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=o()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}n.d(t,"a",function(){return i})},tvLF:function(e,t,n){e.exports=n("Z6Kq")},ukGE:function(e,t){},vqFK:function(e,t){e.exports=require("core-js/library/fn/symbol")}});